"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/music-metadata";
exports.ids = ["vendor-chunks/music-metadata"];
exports.modules = {

/***/ "(ssr)/./node_modules/music-metadata/lib/ParserFactory.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/ParserFactory.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ParserFactory = exports.parseHttpContentType = void 0;\nconst FileType = __webpack_require__(/*! file-type/core */ \"(ssr)/./node_modules/file-type/core.js\");\nconst ContentType = __webpack_require__(/*! content-type */ \"(ssr)/./node_modules/content-type/index.js\");\nconst MimeType = __webpack_require__(/*! media-typer */ \"(ssr)/./node_modules/music-metadata/node_modules/media-typer/index.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst MetadataCollector_1 = __webpack_require__(/*! ./common/MetadataCollector */ \"(ssr)/./node_modules/music-metadata/lib/common/MetadataCollector.js\");\nconst AiffParser_1 = __webpack_require__(/*! ./aiff/AiffParser */ \"(ssr)/./node_modules/music-metadata/lib/aiff/AiffParser.js\");\nconst APEv2Parser_1 = __webpack_require__(/*! ./apev2/APEv2Parser */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\nconst AsfParser_1 = __webpack_require__(/*! ./asf/AsfParser */ \"(ssr)/./node_modules/music-metadata/lib/asf/AsfParser.js\");\nconst FlacParser_1 = __webpack_require__(/*! ./flac/FlacParser */ \"(ssr)/./node_modules/music-metadata/lib/flac/FlacParser.js\");\nconst MP4Parser_1 = __webpack_require__(/*! ./mp4/MP4Parser */ \"(ssr)/./node_modules/music-metadata/lib/mp4/MP4Parser.js\");\nconst MpegParser_1 = __webpack_require__(/*! ./mpeg/MpegParser */ \"(ssr)/./node_modules/music-metadata/lib/mpeg/MpegParser.js\");\nconst musepack_1 = __webpack_require__(/*! ./musepack */ \"(ssr)/./node_modules/music-metadata/lib/musepack/index.js\");\nconst OggParser_1 = __webpack_require__(/*! ./ogg/OggParser */ \"(ssr)/./node_modules/music-metadata/lib/ogg/OggParser.js\");\nconst WaveParser_1 = __webpack_require__(/*! ./wav/WaveParser */ \"(ssr)/./node_modules/music-metadata/lib/wav/WaveParser.js\");\nconst WavPackParser_1 = __webpack_require__(/*! ./wavpack/WavPackParser */ \"(ssr)/./node_modules/music-metadata/lib/wavpack/WavPackParser.js\");\nconst DsfParser_1 = __webpack_require__(/*! ./dsf/DsfParser */ \"(ssr)/./node_modules/music-metadata/lib/dsf/DsfParser.js\");\nconst DsdiffParser_1 = __webpack_require__(/*! ./dsdiff/DsdiffParser */ \"(ssr)/./node_modules/music-metadata/lib/dsdiff/DsdiffParser.js\");\nconst MatroskaParser_1 = __webpack_require__(/*! ./matroska/MatroskaParser */ \"(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaParser.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:factory');\nfunction parseHttpContentType(contentType) {\n    const type = ContentType.parse(contentType);\n    const mime = MimeType.parse(type.type);\n    return {\n        type: mime.type,\n        subtype: mime.subtype,\n        suffix: mime.suffix,\n        parameters: type.parameters\n    };\n}\nexports.parseHttpContentType = parseHttpContentType;\nasync function parse(tokenizer, parserId, opts = {}) {\n    // Parser found, execute parser\n    const parser = await ParserFactory.loadParser(parserId);\n    const metadata = new MetadataCollector_1.MetadataCollector(opts);\n    await parser.init(metadata, tokenizer, opts).parse();\n    return metadata.toCommonMetadata();\n}\nclass ParserFactory {\n    /**\n     * Parse metadata from tokenizer\n     * @param tokenizer - Tokenizer\n     * @param opts - Options\n     * @returns Native metadata\n     */\n    static async parseOnContentType(tokenizer, opts) {\n        const { mimeType, path, url } = await tokenizer.fileInfo;\n        // Resolve parser based on MIME-type or file extension\n        const parserId = ParserFactory.getParserIdForMimeType(mimeType) || ParserFactory.getParserIdForExtension(path) || ParserFactory.getParserIdForExtension(url);\n        if (!parserId) {\n            debug('No parser found for MIME-type / extension: ' + mimeType);\n        }\n        return this.parse(tokenizer, parserId, opts);\n    }\n    static async parse(tokenizer, parserId, opts) {\n        if (!parserId) {\n            // Parser could not be determined on MIME-type or extension\n            debug('Guess parser on content...');\n            const buf = Buffer.alloc(4100);\n            await tokenizer.peekBuffer(buf, { mayBeLess: true });\n            if (tokenizer.fileInfo.path) {\n                parserId = this.getParserIdForExtension(tokenizer.fileInfo.path);\n            }\n            if (!parserId) {\n                const guessedType = await FileType.fromBuffer(buf);\n                if (!guessedType) {\n                    throw new Error('Failed to determine audio format');\n                }\n                debug(`Guessed file type is mime=${guessedType.mime}, extension=${guessedType.ext}`);\n                parserId = ParserFactory.getParserIdForMimeType(guessedType.mime);\n                if (!parserId) {\n                    throw new Error('Guessed MIME-type not supported: ' + guessedType.mime);\n                }\n            }\n        }\n        // Parser found, execute parser\n        return parse(tokenizer, parserId, opts);\n    }\n    /**\n     * @param filePath - Path, filename or extension to audio file\n     * @return Parser sub-module name\n     */\n    static getParserIdForExtension(filePath) {\n        if (!filePath)\n            return;\n        const extension = this.getExtension(filePath).toLocaleLowerCase() || filePath;\n        switch (extension) {\n            case '.mp2':\n            case '.mp3':\n            case '.m2a':\n            case '.aac': // Assume it is ADTS-container\n                return 'mpeg';\n            case '.ape':\n                return 'apev2';\n            case '.mp4':\n            case '.m4a':\n            case '.m4b':\n            case '.m4pa':\n            case '.m4v':\n            case '.m4r':\n            case '.3gp':\n                return 'mp4';\n            case '.wma':\n            case '.wmv':\n            case '.asf':\n                return 'asf';\n            case '.flac':\n                return 'flac';\n            case '.ogg':\n            case '.ogv':\n            case '.oga':\n            case '.ogm':\n            case '.ogx':\n            case '.opus': // recommended filename extension for Ogg Opus\n            case '.spx': // recommended filename extension for Ogg Speex\n                return 'ogg';\n            case '.aif':\n            case '.aiff':\n            case '.aifc':\n                return 'aiff';\n            case '.wav':\n            case '.bwf': // Broadcast Wave Format\n                return 'riff';\n            case '.wv':\n            case '.wvp':\n                return 'wavpack';\n            case '.mpc':\n                return 'musepack';\n            case '.dsf':\n                return 'dsf';\n            case '.dff':\n                return 'dsdiff';\n            case '.mka':\n            case '.mkv':\n            case '.mk3d':\n            case '.mks':\n            case '.webm':\n                return 'matroska';\n        }\n    }\n    static async loadParser(moduleName) {\n        switch (moduleName) {\n            case 'aiff': return new AiffParser_1.AIFFParser();\n            case 'adts':\n            case 'mpeg':\n                return new MpegParser_1.MpegParser();\n            case 'apev2': return new APEv2Parser_1.APEv2Parser();\n            case 'asf': return new AsfParser_1.AsfParser();\n            case 'dsf': return new DsfParser_1.DsfParser();\n            case 'dsdiff': return new DsdiffParser_1.DsdiffParser();\n            case 'flac': return new FlacParser_1.FlacParser();\n            case 'mp4': return new MP4Parser_1.MP4Parser();\n            case 'musepack': return new musepack_1.default();\n            case 'ogg': return new OggParser_1.OggParser();\n            case 'riff': return new WaveParser_1.WaveParser();\n            case 'wavpack': return new WavPackParser_1.WavPackParser();\n            case 'matroska': return new MatroskaParser_1.MatroskaParser();\n            default:\n                throw new Error(`Unknown parser type: ${moduleName}`);\n        }\n    }\n    static getExtension(fname) {\n        const i = fname.lastIndexOf('.');\n        return i === -1 ? '' : fname.slice(i);\n    }\n    /**\n     * @param httpContentType - HTTP Content-Type, extension, path or filename\n     * @returns Parser sub-module name\n     */\n    static getParserIdForMimeType(httpContentType) {\n        let mime;\n        try {\n            mime = parseHttpContentType(httpContentType);\n        }\n        catch (err) {\n            debug(`Invalid HTTP Content-Type header value: ${httpContentType}`);\n            return;\n        }\n        const subType = mime.subtype.indexOf('x-') === 0 ? mime.subtype.substring(2) : mime.subtype;\n        switch (mime.type) {\n            case 'audio':\n                switch (subType) {\n                    case 'mp3': // Incorrect MIME-type, Chrome, in Web API File object\n                    case 'mpeg':\n                        return 'mpeg';\n                    case 'aac':\n                    case 'aacp':\n                        return 'adts';\n                    case 'flac':\n                        return 'flac';\n                    case 'ape':\n                    case 'monkeys-audio':\n                        return 'apev2';\n                    case 'mp4':\n                    case 'm4a':\n                        return 'mp4';\n                    case 'ogg': // RFC 7845\n                    case 'opus': // RFC 6716\n                    case 'speex': // RFC 5574\n                        return 'ogg';\n                    case 'ms-wma':\n                    case 'ms-wmv':\n                    case 'ms-asf':\n                        return 'asf';\n                    case 'aiff':\n                    case 'aif':\n                    case 'aifc':\n                        return 'aiff';\n                    case 'vnd.wave':\n                    case 'wav':\n                    case 'wave':\n                        return 'riff';\n                    case 'wavpack':\n                        return 'wavpack';\n                    case 'musepack':\n                        return 'musepack';\n                    case 'matroska':\n                    case 'webm':\n                        return 'matroska';\n                    case 'dsf':\n                        return 'dsf';\n                }\n                break;\n            case 'video':\n                switch (subType) {\n                    case 'ms-asf':\n                    case 'ms-wmv':\n                        return 'asf';\n                    case 'm4v':\n                    case 'mp4':\n                        return 'mp4';\n                    case 'ogg':\n                        return 'ogg';\n                    case 'matroska':\n                    case 'webm':\n                        return 'matroska';\n                }\n                break;\n            case 'application':\n                switch (subType) {\n                    case 'vnd.ms-asf':\n                        return 'asf';\n                    case 'ogg':\n                        return 'ogg';\n                }\n                break;\n        }\n    }\n}\nexports.ParserFactory = ParserFactory;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL1BhcnNlckZhY3RvcnkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCLEdBQUcsNEJBQTRCO0FBQ3BELGlCQUFpQixtQkFBTyxDQUFDLDhEQUFnQjtBQUN6QyxvQkFBb0IsbUJBQU8sQ0FBQyxnRUFBYztBQUMxQyxpQkFBaUIsbUJBQU8sQ0FBQywwRkFBYTtBQUN0QyxnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBTztBQUMvQiw0QkFBNEIsbUJBQU8sQ0FBQyx1R0FBNEI7QUFDaEUscUJBQXFCLG1CQUFPLENBQUMscUZBQW1CO0FBQ2hELHNCQUFzQixtQkFBTyxDQUFDLHlGQUFxQjtBQUNuRCxvQkFBb0IsbUJBQU8sQ0FBQyxpRkFBaUI7QUFDN0MscUJBQXFCLG1CQUFPLENBQUMscUZBQW1CO0FBQ2hELG9CQUFvQixtQkFBTyxDQUFDLGlGQUFpQjtBQUM3QyxxQkFBcUIsbUJBQU8sQ0FBQyxxRkFBbUI7QUFDaEQsbUJBQW1CLG1CQUFPLENBQUMsNkVBQVk7QUFDdkMsb0JBQW9CLG1CQUFPLENBQUMsaUZBQWlCO0FBQzdDLHFCQUFxQixtQkFBTyxDQUFDLG1GQUFrQjtBQUMvQyx3QkFBd0IsbUJBQU8sQ0FBQyxpR0FBeUI7QUFDekQsb0JBQW9CLG1CQUFPLENBQUMsaUZBQWlCO0FBQzdDLHVCQUF1QixtQkFBTyxDQUFDLDZGQUF1QjtBQUN0RCx5QkFBeUIsbUJBQU8sQ0FBQyxxR0FBMkI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixzQkFBc0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGlCQUFpQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGlCQUFpQixjQUFjLGdCQUFnQjtBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFdBQVc7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsZ0JBQWdCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL1BhcnNlckZhY3RvcnkuanM/ODU3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGFyc2VyRmFjdG9yeSA9IGV4cG9ydHMucGFyc2VIdHRwQ29udGVudFR5cGUgPSB2b2lkIDA7XG5jb25zdCBGaWxlVHlwZSA9IHJlcXVpcmUoXCJmaWxlLXR5cGUvY29yZVwiKTtcbmNvbnN0IENvbnRlbnRUeXBlID0gcmVxdWlyZShcImNvbnRlbnQtdHlwZVwiKTtcbmNvbnN0IE1pbWVUeXBlID0gcmVxdWlyZShcIm1lZGlhLXR5cGVyXCIpO1xuY29uc3QgZGVidWdfMSA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcbmNvbnN0IE1ldGFkYXRhQ29sbGVjdG9yXzEgPSByZXF1aXJlKFwiLi9jb21tb24vTWV0YWRhdGFDb2xsZWN0b3JcIik7XG5jb25zdCBBaWZmUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9haWZmL0FpZmZQYXJzZXJcIik7XG5jb25zdCBBUEV2MlBhcnNlcl8xID0gcmVxdWlyZShcIi4vYXBldjIvQVBFdjJQYXJzZXJcIik7XG5jb25zdCBBc2ZQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL2FzZi9Bc2ZQYXJzZXJcIik7XG5jb25zdCBGbGFjUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9mbGFjL0ZsYWNQYXJzZXJcIik7XG5jb25zdCBNUDRQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL21wNC9NUDRQYXJzZXJcIik7XG5jb25zdCBNcGVnUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9tcGVnL01wZWdQYXJzZXJcIik7XG5jb25zdCBtdXNlcGFja18xID0gcmVxdWlyZShcIi4vbXVzZXBhY2tcIik7XG5jb25zdCBPZ2dQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL29nZy9PZ2dQYXJzZXJcIik7XG5jb25zdCBXYXZlUGFyc2VyXzEgPSByZXF1aXJlKFwiLi93YXYvV2F2ZVBhcnNlclwiKTtcbmNvbnN0IFdhdlBhY2tQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3dhdnBhY2svV2F2UGFja1BhcnNlclwiKTtcbmNvbnN0IERzZlBhcnNlcl8xID0gcmVxdWlyZShcIi4vZHNmL0RzZlBhcnNlclwiKTtcbmNvbnN0IERzZGlmZlBhcnNlcl8xID0gcmVxdWlyZShcIi4vZHNkaWZmL0RzZGlmZlBhcnNlclwiKTtcbmNvbnN0IE1hdHJvc2thUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9tYXRyb3NrYS9NYXRyb3NrYVBhcnNlclwiKTtcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjpmYWN0b3J5Jyk7XG5mdW5jdGlvbiBwYXJzZUh0dHBDb250ZW50VHlwZShjb250ZW50VHlwZSkge1xuICAgIGNvbnN0IHR5cGUgPSBDb250ZW50VHlwZS5wYXJzZShjb250ZW50VHlwZSk7XG4gICAgY29uc3QgbWltZSA9IE1pbWVUeXBlLnBhcnNlKHR5cGUudHlwZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogbWltZS50eXBlLFxuICAgICAgICBzdWJ0eXBlOiBtaW1lLnN1YnR5cGUsXG4gICAgICAgIHN1ZmZpeDogbWltZS5zdWZmaXgsXG4gICAgICAgIHBhcmFtZXRlcnM6IHR5cGUucGFyYW1ldGVyc1xuICAgIH07XG59XG5leHBvcnRzLnBhcnNlSHR0cENvbnRlbnRUeXBlID0gcGFyc2VIdHRwQ29udGVudFR5cGU7XG5hc3luYyBmdW5jdGlvbiBwYXJzZSh0b2tlbml6ZXIsIHBhcnNlcklkLCBvcHRzID0ge30pIHtcbiAgICAvLyBQYXJzZXIgZm91bmQsIGV4ZWN1dGUgcGFyc2VyXG4gICAgY29uc3QgcGFyc2VyID0gYXdhaXQgUGFyc2VyRmFjdG9yeS5sb2FkUGFyc2VyKHBhcnNlcklkKTtcbiAgICBjb25zdCBtZXRhZGF0YSA9IG5ldyBNZXRhZGF0YUNvbGxlY3Rvcl8xLk1ldGFkYXRhQ29sbGVjdG9yKG9wdHMpO1xuICAgIGF3YWl0IHBhcnNlci5pbml0KG1ldGFkYXRhLCB0b2tlbml6ZXIsIG9wdHMpLnBhcnNlKCk7XG4gICAgcmV0dXJuIG1ldGFkYXRhLnRvQ29tbW9uTWV0YWRhdGEoKTtcbn1cbmNsYXNzIFBhcnNlckZhY3Rvcnkge1xuICAgIC8qKlxuICAgICAqIFBhcnNlIG1ldGFkYXRhIGZyb20gdG9rZW5pemVyXG4gICAgICogQHBhcmFtIHRva2VuaXplciAtIFRva2VuaXplclxuICAgICAqIEBwYXJhbSBvcHRzIC0gT3B0aW9uc1xuICAgICAqIEByZXR1cm5zIE5hdGl2ZSBtZXRhZGF0YVxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBwYXJzZU9uQ29udGVudFR5cGUodG9rZW5pemVyLCBvcHRzKSB7XG4gICAgICAgIGNvbnN0IHsgbWltZVR5cGUsIHBhdGgsIHVybCB9ID0gYXdhaXQgdG9rZW5pemVyLmZpbGVJbmZvO1xuICAgICAgICAvLyBSZXNvbHZlIHBhcnNlciBiYXNlZCBvbiBNSU1FLXR5cGUgb3IgZmlsZSBleHRlbnNpb25cbiAgICAgICAgY29uc3QgcGFyc2VySWQgPSBQYXJzZXJGYWN0b3J5LmdldFBhcnNlcklkRm9yTWltZVR5cGUobWltZVR5cGUpIHx8IFBhcnNlckZhY3RvcnkuZ2V0UGFyc2VySWRGb3JFeHRlbnNpb24ocGF0aCkgfHwgUGFyc2VyRmFjdG9yeS5nZXRQYXJzZXJJZEZvckV4dGVuc2lvbih1cmwpO1xuICAgICAgICBpZiAoIXBhcnNlcklkKSB7XG4gICAgICAgICAgICBkZWJ1ZygnTm8gcGFyc2VyIGZvdW5kIGZvciBNSU1FLXR5cGUgLyBleHRlbnNpb246ICcgKyBtaW1lVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2UodG9rZW5pemVyLCBwYXJzZXJJZCwgb3B0cyk7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBwYXJzZSh0b2tlbml6ZXIsIHBhcnNlcklkLCBvcHRzKSB7XG4gICAgICAgIGlmICghcGFyc2VySWQpIHtcbiAgICAgICAgICAgIC8vIFBhcnNlciBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCBvbiBNSU1FLXR5cGUgb3IgZXh0ZW5zaW9uXG4gICAgICAgICAgICBkZWJ1ZygnR3Vlc3MgcGFyc2VyIG9uIGNvbnRlbnQuLi4nKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5hbGxvYyg0MTAwKTtcbiAgICAgICAgICAgIGF3YWl0IHRva2VuaXplci5wZWVrQnVmZmVyKGJ1ZiwgeyBtYXlCZUxlc3M6IHRydWUgfSk7XG4gICAgICAgICAgICBpZiAodG9rZW5pemVyLmZpbGVJbmZvLnBhdGgpIHtcbiAgICAgICAgICAgICAgICBwYXJzZXJJZCA9IHRoaXMuZ2V0UGFyc2VySWRGb3JFeHRlbnNpb24odG9rZW5pemVyLmZpbGVJbmZvLnBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwYXJzZXJJZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGd1ZXNzZWRUeXBlID0gYXdhaXQgRmlsZVR5cGUuZnJvbUJ1ZmZlcihidWYpO1xuICAgICAgICAgICAgICAgIGlmICghZ3Vlc3NlZFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZGV0ZXJtaW5lIGF1ZGlvIGZvcm1hdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWJ1ZyhgR3Vlc3NlZCBmaWxlIHR5cGUgaXMgbWltZT0ke2d1ZXNzZWRUeXBlLm1pbWV9LCBleHRlbnNpb249JHtndWVzc2VkVHlwZS5leHR9YCk7XG4gICAgICAgICAgICAgICAgcGFyc2VySWQgPSBQYXJzZXJGYWN0b3J5LmdldFBhcnNlcklkRm9yTWltZVR5cGUoZ3Vlc3NlZFR5cGUubWltZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0d1ZXNzZWQgTUlNRS10eXBlIG5vdCBzdXBwb3J0ZWQ6ICcgKyBndWVzc2VkVHlwZS5taW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGFyc2VyIGZvdW5kLCBleGVjdXRlIHBhcnNlclxuICAgICAgICByZXR1cm4gcGFyc2UodG9rZW5pemVyLCBwYXJzZXJJZCwgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBmaWxlUGF0aCAtIFBhdGgsIGZpbGVuYW1lIG9yIGV4dGVuc2lvbiB0byBhdWRpbyBmaWxlXG4gICAgICogQHJldHVybiBQYXJzZXIgc3ViLW1vZHVsZSBuYW1lXG4gICAgICovXG4gICAgc3RhdGljIGdldFBhcnNlcklkRm9yRXh0ZW5zaW9uKGZpbGVQYXRoKSB7XG4gICAgICAgIGlmICghZmlsZVBhdGgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IHRoaXMuZ2V0RXh0ZW5zaW9uKGZpbGVQYXRoKS50b0xvY2FsZUxvd2VyQ2FzZSgpIHx8IGZpbGVQYXRoO1xuICAgICAgICBzd2l0Y2ggKGV4dGVuc2lvbikge1xuICAgICAgICAgICAgY2FzZSAnLm1wMic6XG4gICAgICAgICAgICBjYXNlICcubXAzJzpcbiAgICAgICAgICAgIGNhc2UgJy5tMmEnOlxuICAgICAgICAgICAgY2FzZSAnLmFhYyc6IC8vIEFzc3VtZSBpdCBpcyBBRFRTLWNvbnRhaW5lclxuICAgICAgICAgICAgICAgIHJldHVybiAnbXBlZyc7XG4gICAgICAgICAgICBjYXNlICcuYXBlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwZXYyJztcbiAgICAgICAgICAgIGNhc2UgJy5tcDQnOlxuICAgICAgICAgICAgY2FzZSAnLm00YSc6XG4gICAgICAgICAgICBjYXNlICcubTRiJzpcbiAgICAgICAgICAgIGNhc2UgJy5tNHBhJzpcbiAgICAgICAgICAgIGNhc2UgJy5tNHYnOlxuICAgICAgICAgICAgY2FzZSAnLm00cic6XG4gICAgICAgICAgICBjYXNlICcuM2dwJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ21wNCc7XG4gICAgICAgICAgICBjYXNlICcud21hJzpcbiAgICAgICAgICAgIGNhc2UgJy53bXYnOlxuICAgICAgICAgICAgY2FzZSAnLmFzZic6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhc2YnO1xuICAgICAgICAgICAgY2FzZSAnLmZsYWMnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnZmxhYyc7XG4gICAgICAgICAgICBjYXNlICcub2dnJzpcbiAgICAgICAgICAgIGNhc2UgJy5vZ3YnOlxuICAgICAgICAgICAgY2FzZSAnLm9nYSc6XG4gICAgICAgICAgICBjYXNlICcub2dtJzpcbiAgICAgICAgICAgIGNhc2UgJy5vZ3gnOlxuICAgICAgICAgICAgY2FzZSAnLm9wdXMnOiAvLyByZWNvbW1lbmRlZCBmaWxlbmFtZSBleHRlbnNpb24gZm9yIE9nZyBPcHVzXG4gICAgICAgICAgICBjYXNlICcuc3B4JzogLy8gcmVjb21tZW5kZWQgZmlsZW5hbWUgZXh0ZW5zaW9uIGZvciBPZ2cgU3BlZXhcbiAgICAgICAgICAgICAgICByZXR1cm4gJ29nZyc7XG4gICAgICAgICAgICBjYXNlICcuYWlmJzpcbiAgICAgICAgICAgIGNhc2UgJy5haWZmJzpcbiAgICAgICAgICAgIGNhc2UgJy5haWZjJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FpZmYnO1xuICAgICAgICAgICAgY2FzZSAnLndhdic6XG4gICAgICAgICAgICBjYXNlICcuYndmJzogLy8gQnJvYWRjYXN0IFdhdmUgRm9ybWF0XG4gICAgICAgICAgICAgICAgcmV0dXJuICdyaWZmJztcbiAgICAgICAgICAgIGNhc2UgJy53dic6XG4gICAgICAgICAgICBjYXNlICcud3ZwJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3dhdnBhY2snO1xuICAgICAgICAgICAgY2FzZSAnLm1wYyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdtdXNlcGFjayc7XG4gICAgICAgICAgICBjYXNlICcuZHNmJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2RzZic7XG4gICAgICAgICAgICBjYXNlICcuZGZmJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2RzZGlmZic7XG4gICAgICAgICAgICBjYXNlICcubWthJzpcbiAgICAgICAgICAgIGNhc2UgJy5ta3YnOlxuICAgICAgICAgICAgY2FzZSAnLm1rM2QnOlxuICAgICAgICAgICAgY2FzZSAnLm1rcyc6XG4gICAgICAgICAgICBjYXNlICcud2VibSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdtYXRyb3NrYSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGxvYWRQYXJzZXIobW9kdWxlTmFtZSkge1xuICAgICAgICBzd2l0Y2ggKG1vZHVsZU5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2FpZmYnOiByZXR1cm4gbmV3IEFpZmZQYXJzZXJfMS5BSUZGUGFyc2VyKCk7XG4gICAgICAgICAgICBjYXNlICdhZHRzJzpcbiAgICAgICAgICAgIGNhc2UgJ21wZWcnOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTXBlZ1BhcnNlcl8xLk1wZWdQYXJzZXIoKTtcbiAgICAgICAgICAgIGNhc2UgJ2FwZXYyJzogcmV0dXJuIG5ldyBBUEV2MlBhcnNlcl8xLkFQRXYyUGFyc2VyKCk7XG4gICAgICAgICAgICBjYXNlICdhc2YnOiByZXR1cm4gbmV3IEFzZlBhcnNlcl8xLkFzZlBhcnNlcigpO1xuICAgICAgICAgICAgY2FzZSAnZHNmJzogcmV0dXJuIG5ldyBEc2ZQYXJzZXJfMS5Ec2ZQYXJzZXIoKTtcbiAgICAgICAgICAgIGNhc2UgJ2RzZGlmZic6IHJldHVybiBuZXcgRHNkaWZmUGFyc2VyXzEuRHNkaWZmUGFyc2VyKCk7XG4gICAgICAgICAgICBjYXNlICdmbGFjJzogcmV0dXJuIG5ldyBGbGFjUGFyc2VyXzEuRmxhY1BhcnNlcigpO1xuICAgICAgICAgICAgY2FzZSAnbXA0JzogcmV0dXJuIG5ldyBNUDRQYXJzZXJfMS5NUDRQYXJzZXIoKTtcbiAgICAgICAgICAgIGNhc2UgJ211c2VwYWNrJzogcmV0dXJuIG5ldyBtdXNlcGFja18xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGNhc2UgJ29nZyc6IHJldHVybiBuZXcgT2dnUGFyc2VyXzEuT2dnUGFyc2VyKCk7XG4gICAgICAgICAgICBjYXNlICdyaWZmJzogcmV0dXJuIG5ldyBXYXZlUGFyc2VyXzEuV2F2ZVBhcnNlcigpO1xuICAgICAgICAgICAgY2FzZSAnd2F2cGFjayc6IHJldHVybiBuZXcgV2F2UGFja1BhcnNlcl8xLldhdlBhY2tQYXJzZXIoKTtcbiAgICAgICAgICAgIGNhc2UgJ21hdHJvc2thJzogcmV0dXJuIG5ldyBNYXRyb3NrYVBhcnNlcl8xLk1hdHJvc2thUGFyc2VyKCk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBwYXJzZXIgdHlwZTogJHttb2R1bGVOYW1lfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXRFeHRlbnNpb24oZm5hbWUpIHtcbiAgICAgICAgY29uc3QgaSA9IGZuYW1lLmxhc3RJbmRleE9mKCcuJyk7XG4gICAgICAgIHJldHVybiBpID09PSAtMSA/ICcnIDogZm5hbWUuc2xpY2UoaSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBodHRwQ29udGVudFR5cGUgLSBIVFRQIENvbnRlbnQtVHlwZSwgZXh0ZW5zaW9uLCBwYXRoIG9yIGZpbGVuYW1lXG4gICAgICogQHJldHVybnMgUGFyc2VyIHN1Yi1tb2R1bGUgbmFtZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRQYXJzZXJJZEZvck1pbWVUeXBlKGh0dHBDb250ZW50VHlwZSkge1xuICAgICAgICBsZXQgbWltZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1pbWUgPSBwYXJzZUh0dHBDb250ZW50VHlwZShodHRwQ29udGVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGRlYnVnKGBJbnZhbGlkIEhUVFAgQ29udGVudC1UeXBlIGhlYWRlciB2YWx1ZTogJHtodHRwQ29udGVudFR5cGV9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3ViVHlwZSA9IG1pbWUuc3VidHlwZS5pbmRleE9mKCd4LScpID09PSAwID8gbWltZS5zdWJ0eXBlLnN1YnN0cmluZygyKSA6IG1pbWUuc3VidHlwZTtcbiAgICAgICAgc3dpdGNoIChtaW1lLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN1YlR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbXAzJzogLy8gSW5jb3JyZWN0IE1JTUUtdHlwZSwgQ2hyb21lLCBpbiBXZWIgQVBJIEZpbGUgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21wZWcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdtcGVnJztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYWFjJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYWFjcCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2FkdHMnO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdmbGFjJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnZmxhYyc7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FwZSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21vbmtleXMtYXVkaW8nOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdhcGV2Mic7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21wNCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ200YSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ21wNCc7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ29nZyc6IC8vIFJGQyA3ODQ1XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ29wdXMnOiAvLyBSRkMgNjcxNlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzcGVleCc6IC8vIFJGQyA1NTc0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ29nZyc7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21zLXdtYSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21zLXdtdic6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21zLWFzZic6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2FzZic7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FpZmYnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdhaWYnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdhaWZjJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnYWlmZic7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ZuZC53YXZlJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnd2F2JzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnd2F2ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3JpZmYnO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd3YXZwYWNrJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnd2F2cGFjayc7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ211c2VwYWNrJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnbXVzZXBhY2snO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdtYXRyb3NrYSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3dlYm0nOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdtYXRyb3NrYSc7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RzZic6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2RzZic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndmlkZW8nOlxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc3ViVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdtcy1hc2YnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtcy13bXYnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdhc2YnO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdtNHYnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtcDQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdtcDQnO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdvZ2cnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdvZ2cnO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdtYXRyb3NrYSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3dlYm0nOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdtYXRyb3NrYSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYXBwbGljYXRpb24nOlxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc3ViVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd2bmQubXMtYXNmJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnYXNmJztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnb2dnJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnb2dnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlBhcnNlckZhY3RvcnkgPSBQYXJzZXJGYWN0b3J5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ParserFactory.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/aiff/AiffParser.js":
/*!************************************************************!*\
  !*** ./node_modules/music-metadata/lib/aiff/AiffParser.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.AIFFParser = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst strtok3 = __webpack_require__(/*! strtok3/lib/core */ \"(ssr)/./node_modules/strtok3/lib/core.js\");\nconst ID3v2Parser_1 = __webpack_require__(/*! ../id3v2/ID3v2Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst AiffToken = __webpack_require__(/*! ./AiffToken */ \"(ssr)/./node_modules/music-metadata/lib/aiff/AiffToken.js\");\nconst iff = __webpack_require__(/*! ../iff */ \"(ssr)/./node_modules/music-metadata/lib/iff/index.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:aiff');\nconst compressionTypes = {\n    NONE: 'not compressed\tPCM\tApple Computer',\n    sowt: 'PCM (byte swapped)',\n    fl32: '32-bit floating point IEEE 32-bit float',\n    fl64: '64-bit floating point IEEE 64-bit float\tApple Computer',\n    alaw: 'ALaw 2:1\t8-bit ITU-T G.711 A-law',\n    ulaw: 'µLaw 2:1\t8-bit ITU-T G.711 µ-law\tApple Computer',\n    ULAW: 'CCITT G.711 u-law 8-bit ITU-T G.711 µ-law',\n    ALAW: 'CCITT G.711 A-law 8-bit ITU-T G.711 A-law',\n    FL32: 'Float 32\tIEEE 32-bit float '\n};\n/**\n * AIFF - Audio Interchange File Format\n *\n * Ref:\n * - http://www-mmsp.ece.mcgill.ca/Documents/AudioFormats/AIFF/AIFF.html\n * - http://www-mmsp.ece.mcgill.ca/Documents/AudioFormats/AIFF/Docs/AIFF-1.3.pdf\n */\nclass AIFFParser extends BasicParser_1.BasicParser {\n    async parse() {\n        const header = await this.tokenizer.readToken(iff.Header);\n        if (header.chunkID !== 'FORM')\n            throw new Error('Invalid Chunk-ID, expected \\'FORM\\''); // Not AIFF format\n        const type = await this.tokenizer.readToken(FourCC_1.FourCcToken);\n        switch (type) {\n            case 'AIFF':\n                this.metadata.setFormat('container', type);\n                this.isCompressed = false;\n                break;\n            case 'AIFC':\n                this.metadata.setFormat('container', 'AIFF-C');\n                this.isCompressed = true;\n                break;\n            default:\n                throw Error('Unsupported AIFF type: ' + type);\n        }\n        this.metadata.setFormat('lossless', !this.isCompressed);\n        try {\n            while (!this.tokenizer.fileInfo.size || this.tokenizer.fileInfo.size - this.tokenizer.position >= iff.Header.len) {\n                debug('Reading AIFF chunk at offset=' + this.tokenizer.position);\n                const chunkHeader = await this.tokenizer.readToken(iff.Header);\n                const nextChunk = 2 * Math.round(chunkHeader.chunkSize / 2);\n                const bytesRead = await this.readData(chunkHeader);\n                await this.tokenizer.ignore(nextChunk - bytesRead);\n            }\n        }\n        catch (err) {\n            if (err instanceof strtok3.EndOfStreamError) {\n                debug(`End-of-stream`);\n            }\n            else {\n                throw err;\n            }\n        }\n    }\n    async readData(header) {\n        var _a;\n        switch (header.chunkID) {\n            case 'COMM': // The Common Chunk\n                const common = await this.tokenizer.readToken(new AiffToken.Common(header, this.isCompressed));\n                this.metadata.setFormat('bitsPerSample', common.sampleSize);\n                this.metadata.setFormat('sampleRate', common.sampleRate);\n                this.metadata.setFormat('numberOfChannels', common.numChannels);\n                this.metadata.setFormat('numberOfSamples', common.numSampleFrames);\n                this.metadata.setFormat('duration', common.numSampleFrames / common.sampleRate);\n                this.metadata.setFormat('codec', (_a = common.compressionName) !== null && _a !== void 0 ? _a : compressionTypes[common.compressionType]);\n                return header.chunkSize;\n            case 'ID3 ': // ID3-meta-data\n                const id3_data = await this.tokenizer.readToken(new Token.Uint8ArrayType(header.chunkSize));\n                const rst = strtok3.fromBuffer(id3_data);\n                await new ID3v2Parser_1.ID3v2Parser().parse(this.metadata, rst, this.options);\n                return header.chunkSize;\n            case 'SSND': // Sound Data Chunk\n                if (this.metadata.format.duration) {\n                    this.metadata.setFormat('bitrate', 8 * header.chunkSize / this.metadata.format.duration);\n                }\n                return 0;\n            case 'NAME': // Sample name chunk\n            case 'AUTH': // Author chunk\n            case '(c) ': // Copyright chunk\n            case 'ANNO': // Annotation chunk\n                return this.readTextChunk(header);\n            default:\n                debug(`Ignore chunk id=${header.chunkID}, size=${header.chunkSize}`);\n                return 0;\n        }\n    }\n    async readTextChunk(header) {\n        const value = await this.tokenizer.readToken(new Token.StringType(header.chunkSize, 'ascii'));\n        value.split('\\0').map(v => v.trim()).filter(v => v && v.length > 0).forEach(v => {\n            this.metadata.addTag('AIFF', header.chunkID, v.trim());\n        });\n        return header.chunkSize;\n    }\n}\nexports.AIFFParser = AIFFParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FpZmYvQWlmZlBhcnNlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEIsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLGdCQUFnQixtQkFBTyxDQUFDLGtFQUFrQjtBQUMxQyxzQkFBc0IsbUJBQU8sQ0FBQywwRkFBc0I7QUFDcEQsaUJBQWlCLG1CQUFPLENBQUMsa0ZBQWtCO0FBQzNDLHNCQUFzQixtQkFBTyxDQUFDLDRGQUF1QjtBQUNyRCxrQkFBa0IsbUJBQU8sQ0FBQyw4RUFBYTtBQUN2QyxZQUFZLG1CQUFPLENBQUMsb0VBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRTtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZUFBZSxTQUFTLGlCQUFpQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvYWlmZi9BaWZmUGFyc2VyLmpzP2UzN2MiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFJRkZQYXJzZXIgPSB2b2lkIDA7XG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoXCJ0b2tlbi10eXBlc1wiKTtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCBzdHJ0b2szID0gcmVxdWlyZShcInN0cnRvazMvbGliL2NvcmVcIik7XG5jb25zdCBJRDN2MlBhcnNlcl8xID0gcmVxdWlyZShcIi4uL2lkM3YyL0lEM3YyUGFyc2VyXCIpO1xuY29uc3QgRm91ckNDXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL0ZvdXJDQ1wiKTtcbmNvbnN0IEJhc2ljUGFyc2VyXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL0Jhc2ljUGFyc2VyXCIpO1xuY29uc3QgQWlmZlRva2VuID0gcmVxdWlyZShcIi4vQWlmZlRva2VuXCIpO1xuY29uc3QgaWZmID0gcmVxdWlyZShcIi4uL2lmZlwiKTtcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjphaWZmJyk7XG5jb25zdCBjb21wcmVzc2lvblR5cGVzID0ge1xuICAgIE5PTkU6ICdub3QgY29tcHJlc3NlZFx0UENNXHRBcHBsZSBDb21wdXRlcicsXG4gICAgc293dDogJ1BDTSAoYnl0ZSBzd2FwcGVkKScsXG4gICAgZmwzMjogJzMyLWJpdCBmbG9hdGluZyBwb2ludCBJRUVFIDMyLWJpdCBmbG9hdCcsXG4gICAgZmw2NDogJzY0LWJpdCBmbG9hdGluZyBwb2ludCBJRUVFIDY0LWJpdCBmbG9hdFx0QXBwbGUgQ29tcHV0ZXInLFxuICAgIGFsYXc6ICdBTGF3IDI6MVx0OC1iaXQgSVRVLVQgRy43MTEgQS1sYXcnLFxuICAgIHVsYXc6ICfCtUxhdyAyOjFcdDgtYml0IElUVS1UIEcuNzExIMK1LWxhd1x0QXBwbGUgQ29tcHV0ZXInLFxuICAgIFVMQVc6ICdDQ0lUVCBHLjcxMSB1LWxhdyA4LWJpdCBJVFUtVCBHLjcxMSDCtS1sYXcnLFxuICAgIEFMQVc6ICdDQ0lUVCBHLjcxMSBBLWxhdyA4LWJpdCBJVFUtVCBHLjcxMSBBLWxhdycsXG4gICAgRkwzMjogJ0Zsb2F0IDMyXHRJRUVFIDMyLWJpdCBmbG9hdCAnXG59O1xuLyoqXG4gKiBBSUZGIC0gQXVkaW8gSW50ZXJjaGFuZ2UgRmlsZSBGb3JtYXRcbiAqXG4gKiBSZWY6XG4gKiAtIGh0dHA6Ly93d3ctbW1zcC5lY2UubWNnaWxsLmNhL0RvY3VtZW50cy9BdWRpb0Zvcm1hdHMvQUlGRi9BSUZGLmh0bWxcbiAqIC0gaHR0cDovL3d3dy1tbXNwLmVjZS5tY2dpbGwuY2EvRG9jdW1lbnRzL0F1ZGlvRm9ybWF0cy9BSUZGL0RvY3MvQUlGRi0xLjMucGRmXG4gKi9cbmNsYXNzIEFJRkZQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlcl8xLkJhc2ljUGFyc2VyIHtcbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKGlmZi5IZWFkZXIpO1xuICAgICAgICBpZiAoaGVhZGVyLmNodW5rSUQgIT09ICdGT1JNJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBDaHVuay1JRCwgZXhwZWN0ZWQgXFwnRk9STVxcJycpOyAvLyBOb3QgQUlGRiBmb3JtYXRcbiAgICAgICAgY29uc3QgdHlwZSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihGb3VyQ0NfMS5Gb3VyQ2NUb2tlbik7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnQUlGRic6XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsIHR5cGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBSUZDJzpcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29udGFpbmVyJywgJ0FJRkYtQycpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1Vuc3VwcG9ydGVkIEFJRkYgdHlwZTogJyArIHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdsb3NzbGVzcycsICF0aGlzLmlzQ29tcHJlc3NlZCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aGlsZSAoIXRoaXMudG9rZW5pemVyLmZpbGVJbmZvLnNpemUgfHwgdGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSAtIHRoaXMudG9rZW5pemVyLnBvc2l0aW9uID49IGlmZi5IZWFkZXIubGVuKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ1JlYWRpbmcgQUlGRiBjaHVuayBhdCBvZmZzZXQ9JyArIHRoaXMudG9rZW5pemVyLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaHVua0hlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihpZmYuSGVhZGVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2h1bmsgPSAyICogTWF0aC5yb3VuZChjaHVua0hlYWRlci5jaHVua1NpemUgLyAyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBieXRlc1JlYWQgPSBhd2FpdCB0aGlzLnJlYWREYXRhKGNodW5rSGVhZGVyKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUobmV4dENodW5rIC0gYnl0ZXNSZWFkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2Ygc3RydG9rMy5FbmRPZlN0cmVhbUVycm9yKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoYEVuZC1vZi1zdHJlYW1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyByZWFkRGF0YShoZWFkZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzd2l0Y2ggKGhlYWRlci5jaHVua0lEKSB7XG4gICAgICAgICAgICBjYXNlICdDT01NJzogLy8gVGhlIENvbW1vbiBDaHVua1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1vbiA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgQWlmZlRva2VuLkNvbW1vbihoZWFkZXIsIHRoaXMuaXNDb21wcmVzc2VkKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHNQZXJTYW1wbGUnLCBjb21tb24uc2FtcGxlU2l6ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBjb21tb24uc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mQ2hhbm5lbHMnLCBjb21tb24ubnVtQ2hhbm5lbHMpO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZlNhbXBsZXMnLCBjb21tb24ubnVtU2FtcGxlRnJhbWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBjb21tb24ubnVtU2FtcGxlRnJhbWVzIC8gY29tbW9uLnNhbXBsZVJhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb2RlYycsIChfYSA9IGNvbW1vbi5jb21wcmVzc2lvbk5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbXByZXNzaW9uVHlwZXNbY29tbW9uLmNvbXByZXNzaW9uVHlwZV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBoZWFkZXIuY2h1bmtTaXplO1xuICAgICAgICAgICAgY2FzZSAnSUQzICc6IC8vIElEMy1tZXRhLWRhdGFcbiAgICAgICAgICAgICAgICBjb25zdCBpZDNfZGF0YSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVG9rZW4uVWludDhBcnJheVR5cGUoaGVhZGVyLmNodW5rU2l6ZSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJzdCA9IHN0cnRvazMuZnJvbUJ1ZmZlcihpZDNfZGF0YSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IElEM3YyUGFyc2VyXzEuSUQzdjJQYXJzZXIoKS5wYXJzZSh0aGlzLm1ldGFkYXRhLCByc3QsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlYWRlci5jaHVua1NpemU7XG4gICAgICAgICAgICBjYXNlICdTU05EJzogLy8gU291bmQgRGF0YSBDaHVua1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmZvcm1hdC5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIDggKiBoZWFkZXIuY2h1bmtTaXplIC8gdGhpcy5tZXRhZGF0YS5mb3JtYXQuZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIGNhc2UgJ05BTUUnOiAvLyBTYW1wbGUgbmFtZSBjaHVua1xuICAgICAgICAgICAgY2FzZSAnQVVUSCc6IC8vIEF1dGhvciBjaHVua1xuICAgICAgICAgICAgY2FzZSAnKGMpICc6IC8vIENvcHlyaWdodCBjaHVua1xuICAgICAgICAgICAgY2FzZSAnQU5OTyc6IC8vIEFubm90YXRpb24gY2h1bmtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkVGV4dENodW5rKGhlYWRlcik7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGRlYnVnKGBJZ25vcmUgY2h1bmsgaWQ9JHtoZWFkZXIuY2h1bmtJRH0sIHNpemU9JHtoZWFkZXIuY2h1bmtTaXplfWApO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHJlYWRUZXh0Q2h1bmsoaGVhZGVyKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKGhlYWRlci5jaHVua1NpemUsICdhc2NpaScpKTtcbiAgICAgICAgdmFsdWUuc3BsaXQoJ1xcMCcpLm1hcCh2ID0+IHYudHJpbSgpKS5maWx0ZXIodiA9PiB2ICYmIHYubGVuZ3RoID4gMCkuZm9yRWFjaCh2ID0+IHtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuYWRkVGFnKCdBSUZGJywgaGVhZGVyLmNodW5rSUQsIHYudHJpbSgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBoZWFkZXIuY2h1bmtTaXplO1xuICAgIH1cbn1cbmV4cG9ydHMuQUlGRlBhcnNlciA9IEFJRkZQYXJzZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/aiff/AiffParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/aiff/AiffTagMap.js":
/*!************************************************************!*\
  !*** ./node_modules/music-metadata/lib/aiff/AiffTagMap.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.AiffTagMapper = void 0;\nconst GenericTagMapper_1 = __webpack_require__(/*! ../common/GenericTagMapper */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n/**\n * ID3v1 tag mappings\n */\nconst tagMap = {\n    NAME: 'title',\n    AUTH: 'artist',\n    '(c) ': 'copyright',\n    ANNO: 'comment'\n};\nclass AiffTagMapper extends GenericTagMapper_1.CommonTagMapper {\n    constructor() {\n        super(['AIFF'], tagMap);\n    }\n}\nexports.AiffTagMapper = AiffTagMapper;\n//# sourceMappingURL=AiffTagMap.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FpZmYvQWlmZlRhZ01hcC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsMkJBQTJCLG1CQUFPLENBQUMsc0dBQTRCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvYWlmZi9BaWZmVGFnTWFwLmpzPzkyOTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFpZmZUYWdNYXBwZXIgPSB2b2lkIDA7XG5jb25zdCBHZW5lcmljVGFnTWFwcGVyXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL0dlbmVyaWNUYWdNYXBwZXJcIik7XG4vKipcbiAqIElEM3YxIHRhZyBtYXBwaW5nc1xuICovXG5jb25zdCB0YWdNYXAgPSB7XG4gICAgTkFNRTogJ3RpdGxlJyxcbiAgICBBVVRIOiAnYXJ0aXN0JyxcbiAgICAnKGMpICc6ICdjb3B5cmlnaHQnLFxuICAgIEFOTk86ICdjb21tZW50J1xufTtcbmNsYXNzIEFpZmZUYWdNYXBwZXIgZXh0ZW5kcyBHZW5lcmljVGFnTWFwcGVyXzEuQ29tbW9uVGFnTWFwcGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoWydBSUZGJ10sIHRhZ01hcCk7XG4gICAgfVxufVxuZXhwb3J0cy5BaWZmVGFnTWFwcGVyID0gQWlmZlRhZ01hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFpZmZUYWdNYXAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/aiff/AiffTagMap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/aiff/AiffToken.js":
/*!***********************************************************!*\
  !*** ./node_modules/music-metadata/lib/aiff/AiffToken.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Common = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\nclass Common {\n    constructor(header, isAifc) {\n        this.isAifc = isAifc;\n        const minimumChunkSize = isAifc ? 22 : 18;\n        if (header.chunkSize < minimumChunkSize)\n            throw new Error(`COMMON CHUNK size should always be at least ${minimumChunkSize}`);\n        this.len = header.chunkSize;\n    }\n    get(buf, off) {\n        // see: https://cycling74.com/forums/aiffs-80-bit-sample-rate-value\n        const shift = buf.readUInt16BE(off + 8) - 16398;\n        const baseSampleRate = buf.readUInt16BE(off + 8 + 2);\n        const res = {\n            numChannels: buf.readUInt16BE(off),\n            numSampleFrames: buf.readUInt32BE(off + 2),\n            sampleSize: buf.readUInt16BE(off + 6),\n            sampleRate: shift < 0 ? baseSampleRate >> Math.abs(shift) : baseSampleRate << shift\n        };\n        if (this.isAifc) {\n            res.compressionType = FourCC_1.FourCcToken.get(buf, off + 18);\n            if (this.len > 22) {\n                const strLen = buf.readInt8(off + 22);\n                if (strLen > 0) {\n                    const padding = (strLen + 1) % 2;\n                    if (23 + strLen + padding === this.len) {\n                        res.compressionName = new Token.StringType(strLen, 'binary').get(buf, off + 23);\n                    }\n                    else {\n                        throw new Error('Illegal pstring length');\n                    }\n                }\n                else {\n                    res.compressionName = undefined;\n                }\n            }\n        }\n        else {\n            res.compressionName = 'PCM';\n        }\n        return res;\n    }\n}\nexports.Common = Common;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FpZmYvQWlmZlRva2VuLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWM7QUFDZCxjQUFjLG1CQUFPLENBQUMsa0VBQWE7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsa0ZBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsaUJBQWlCO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvYWlmZi9BaWZmVG9rZW4uanM/NjM3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29tbW9uID0gdm9pZCAwO1xuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG5jb25zdCBGb3VyQ0NfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vRm91ckNDXCIpO1xuY2xhc3MgQ29tbW9uIHtcbiAgICBjb25zdHJ1Y3RvcihoZWFkZXIsIGlzQWlmYykge1xuICAgICAgICB0aGlzLmlzQWlmYyA9IGlzQWlmYztcbiAgICAgICAgY29uc3QgbWluaW11bUNodW5rU2l6ZSA9IGlzQWlmYyA/IDIyIDogMTg7XG4gICAgICAgIGlmIChoZWFkZXIuY2h1bmtTaXplIDwgbWluaW11bUNodW5rU2l6ZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ09NTU9OIENIVU5LIHNpemUgc2hvdWxkIGFsd2F5cyBiZSBhdCBsZWFzdCAke21pbmltdW1DaHVua1NpemV9YCk7XG4gICAgICAgIHRoaXMubGVuID0gaGVhZGVyLmNodW5rU2l6ZTtcbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIC8vIHNlZTogaHR0cHM6Ly9jeWNsaW5nNzQuY29tL2ZvcnVtcy9haWZmcy04MC1iaXQtc2FtcGxlLXJhdGUtdmFsdWVcbiAgICAgICAgY29uc3Qgc2hpZnQgPSBidWYucmVhZFVJbnQxNkJFKG9mZiArIDgpIC0gMTYzOTg7XG4gICAgICAgIGNvbnN0IGJhc2VTYW1wbGVSYXRlID0gYnVmLnJlYWRVSW50MTZCRShvZmYgKyA4ICsgMik7XG4gICAgICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgICAgIG51bUNoYW5uZWxzOiBidWYucmVhZFVJbnQxNkJFKG9mZiksXG4gICAgICAgICAgICBudW1TYW1wbGVGcmFtZXM6IGJ1Zi5yZWFkVUludDMyQkUob2ZmICsgMiksXG4gICAgICAgICAgICBzYW1wbGVTaXplOiBidWYucmVhZFVJbnQxNkJFKG9mZiArIDYpLFxuICAgICAgICAgICAgc2FtcGxlUmF0ZTogc2hpZnQgPCAwID8gYmFzZVNhbXBsZVJhdGUgPj4gTWF0aC5hYnMoc2hpZnQpIDogYmFzZVNhbXBsZVJhdGUgPDwgc2hpZnRcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuaXNBaWZjKSB7XG4gICAgICAgICAgICByZXMuY29tcHJlc3Npb25UeXBlID0gRm91ckNDXzEuRm91ckNjVG9rZW4uZ2V0KGJ1Ziwgb2ZmICsgMTgpO1xuICAgICAgICAgICAgaWYgKHRoaXMubGVuID4gMjIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJMZW4gPSBidWYucmVhZEludDgob2ZmICsgMjIpO1xuICAgICAgICAgICAgICAgIGlmIChzdHJMZW4gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZGRpbmcgPSAoc3RyTGVuICsgMSkgJSAyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoMjMgKyBzdHJMZW4gKyBwYWRkaW5nID09PSB0aGlzLmxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmNvbXByZXNzaW9uTmFtZSA9IG5ldyBUb2tlbi5TdHJpbmdUeXBlKHN0ckxlbiwgJ2JpbmFyeScpLmdldChidWYsIG9mZiArIDIzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSWxsZWdhbCBwc3RyaW5nIGxlbmd0aCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMuY29tcHJlc3Npb25OYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlcy5jb21wcmVzc2lvbk5hbWUgPSAnUENNJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29tbW9uID0gQ29tbW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/aiff/AiffToken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/apev2/APEv2Parser.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.APEv2Parser = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst strtok3 = __webpack_require__(/*! strtok3/lib/core */ \"(ssr)/./node_modules/strtok3/lib/core.js\");\nconst token_types_1 = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst util = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst APEv2Token_1 = __webpack_require__(/*! ./APEv2Token */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Token.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:APEv2');\nconst tagFormat = 'APEv2';\nconst preamble = 'APETAGEX';\nclass APEv2Parser extends BasicParser_1.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.ape = {};\n    }\n    static tryParseApeHeader(metadata, tokenizer, options) {\n        const apeParser = new APEv2Parser();\n        apeParser.init(metadata, tokenizer, options);\n        return apeParser.tryParseApeHeader();\n    }\n    /**\n     * Calculate the media file duration\n     * @param ah ApeHeader\n     * @return {number} duration in seconds\n     */\n    static calculateDuration(ah) {\n        let duration = ah.totalFrames > 1 ? ah.blocksPerFrame * (ah.totalFrames - 1) : 0;\n        duration += ah.finalFrameBlocks;\n        return duration / ah.sampleRate;\n    }\n    /**\n     * Calculates the APEv1 / APEv2 first field offset\n     * @param reader\n     * @param offset\n     */\n    static async findApeFooterOffset(reader, offset) {\n        // Search for APE footer header at the end of the file\n        const apeBuf = Buffer.alloc(APEv2Token_1.TagFooter.len);\n        await reader.randomRead(apeBuf, 0, APEv2Token_1.TagFooter.len, offset - APEv2Token_1.TagFooter.len);\n        const tagFooter = APEv2Token_1.TagFooter.get(apeBuf, 0);\n        if (tagFooter.ID === 'APETAGEX') {\n            debug(`APE footer header at offset=${offset}`);\n            return { footer: tagFooter, offset: offset - tagFooter.size };\n        }\n    }\n    static parseTagFooter(metadata, buffer, options) {\n        const footer = APEv2Token_1.TagFooter.get(buffer, buffer.length - APEv2Token_1.TagFooter.len);\n        if (footer.ID !== preamble)\n            throw new Error('Unexpected APEv2 Footer ID preamble value.');\n        strtok3.fromBuffer(buffer);\n        const apeParser = new APEv2Parser();\n        apeParser.init(metadata, strtok3.fromBuffer(buffer), options);\n        return apeParser.parseTags(footer);\n    }\n    /**\n     * Parse APEv1 / APEv2 header if header signature found\n     */\n    async tryParseApeHeader() {\n        if (this.tokenizer.fileInfo.size && this.tokenizer.fileInfo.size - this.tokenizer.position < APEv2Token_1.TagFooter.len) {\n            debug(`No APEv2 header found, end-of-file reached`);\n            return;\n        }\n        const footer = await this.tokenizer.peekToken(APEv2Token_1.TagFooter);\n        if (footer.ID === preamble) {\n            await this.tokenizer.ignore(APEv2Token_1.TagFooter.len);\n            return this.parseTags(footer);\n        }\n        else {\n            debug(`APEv2 header not found at offset=${this.tokenizer.position}`);\n            if (this.tokenizer.fileInfo.size) {\n                // Try to read the APEv2 header using just the footer-header\n                const remaining = this.tokenizer.fileInfo.size - this.tokenizer.position; // ToDo: take ID3v1 into account\n                const buffer = Buffer.alloc(remaining);\n                await this.tokenizer.readBuffer(buffer);\n                return APEv2Parser.parseTagFooter(this.metadata, buffer, this.options);\n            }\n        }\n    }\n    async parse() {\n        const descriptor = await this.tokenizer.readToken(APEv2Token_1.DescriptorParser);\n        if (descriptor.ID !== 'MAC ')\n            throw new Error('Unexpected descriptor ID');\n        this.ape.descriptor = descriptor;\n        const lenExp = descriptor.descriptorBytes - APEv2Token_1.DescriptorParser.len;\n        const header = await (lenExp > 0 ? this.parseDescriptorExpansion(lenExp) : this.parseHeader());\n        await this.tokenizer.ignore(header.forwardBytes);\n        return this.tryParseApeHeader();\n    }\n    async parseTags(footer) {\n        const keyBuffer = Buffer.alloc(256); // maximum tag key length\n        let bytesRemaining = footer.size - APEv2Token_1.TagFooter.len;\n        debug(`Parse APE tags at offset=${this.tokenizer.position}, size=${bytesRemaining}`);\n        for (let i = 0; i < footer.fields; i++) {\n            if (bytesRemaining < APEv2Token_1.TagItemHeader.len) {\n                this.metadata.addWarning(`APEv2 Tag-header: ${footer.fields - i} items remaining, but no more tag data to read.`);\n                break;\n            }\n            // Only APEv2 tag has tag item headers\n            const tagItemHeader = await this.tokenizer.readToken(APEv2Token_1.TagItemHeader);\n            bytesRemaining -= APEv2Token_1.TagItemHeader.len + tagItemHeader.size;\n            await this.tokenizer.peekBuffer(keyBuffer, { length: Math.min(keyBuffer.length, bytesRemaining) });\n            let zero = util.findZero(keyBuffer, 0, keyBuffer.length);\n            const key = await this.tokenizer.readToken(new token_types_1.StringType(zero, 'ascii'));\n            await this.tokenizer.ignore(1);\n            bytesRemaining -= key.length + 1;\n            switch (tagItemHeader.flags.dataType) {\n                case APEv2Token_1.DataType.text_utf8: { // utf-8 text-string\n                    const value = await this.tokenizer.readToken(new token_types_1.StringType(tagItemHeader.size, 'utf8'));\n                    const values = value.split(/\\x00/g);\n                    for (const val of values) {\n                        this.metadata.addTag(tagFormat, key, val);\n                    }\n                    break;\n                }\n                case APEv2Token_1.DataType.binary: // binary (probably artwork)\n                    if (this.options.skipCovers) {\n                        await this.tokenizer.ignore(tagItemHeader.size);\n                    }\n                    else {\n                        const picData = Buffer.alloc(tagItemHeader.size);\n                        await this.tokenizer.readBuffer(picData);\n                        zero = util.findZero(picData, 0, picData.length);\n                        const description = picData.toString('utf8', 0, zero);\n                        const data = Buffer.from(picData.slice(zero + 1));\n                        this.metadata.addTag(tagFormat, key, {\n                            description,\n                            data\n                        });\n                    }\n                    break;\n                case APEv2Token_1.DataType.external_info:\n                    debug(`Ignore external info ${key}`);\n                    await this.tokenizer.ignore(tagItemHeader.size);\n                    break;\n                case APEv2Token_1.DataType.reserved:\n                    debug(`Ignore external info ${key}`);\n                    this.metadata.addWarning(`APEv2 header declares a reserved datatype for \"${key}\"`);\n                    await this.tokenizer.ignore(tagItemHeader.size);\n                    break;\n            }\n        }\n    }\n    async parseDescriptorExpansion(lenExp) {\n        await this.tokenizer.ignore(lenExp);\n        return this.parseHeader();\n    }\n    async parseHeader() {\n        const header = await this.tokenizer.readToken(APEv2Token_1.Header);\n        // ToDo before\n        this.metadata.setFormat('lossless', true);\n        this.metadata.setFormat('container', 'Monkey\\'s Audio');\n        this.metadata.setFormat('bitsPerSample', header.bitsPerSample);\n        this.metadata.setFormat('sampleRate', header.sampleRate);\n        this.metadata.setFormat('numberOfChannels', header.channel);\n        this.metadata.setFormat('duration', APEv2Parser.calculateDuration(header));\n        return {\n            forwardBytes: this.ape.descriptor.seekTableBytes + this.ape.descriptor.headerDataBytes +\n                this.ape.descriptor.apeFrameDataBytes + this.ape.descriptor.terminatingDataBytes\n        };\n    }\n}\nexports.APEv2Parser = APEv2Parser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FwZXYyL0FQRXYyUGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBTztBQUMvQixnQkFBZ0IsbUJBQU8sQ0FBQyxrRUFBa0I7QUFDMUMsc0JBQXNCLG1CQUFPLENBQUMsa0VBQWE7QUFDM0MsYUFBYSxtQkFBTyxDQUFDLDhFQUFnQjtBQUNyQyxzQkFBc0IsbUJBQU8sQ0FBQyw0RkFBdUI7QUFDckQscUJBQXFCLG1CQUFPLENBQUMsaUZBQWM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHdCQUF3QjtBQUM5RTtBQUNBO0FBQ0EsMEZBQTBGO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSwwQ0FBMEMsd0JBQXdCLFNBQVMsZUFBZTtBQUMxRix3QkFBd0IsbUJBQW1CO0FBQzNDO0FBQ0EsOERBQThELG1CQUFtQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELG9EQUFvRDtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELElBQUk7QUFDdEQ7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELElBQUk7QUFDdEQsK0ZBQStGLElBQUk7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FwZXYyL0FQRXYyUGFyc2VyLmpzPzFmMmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFQRXYyUGFyc2VyID0gdm9pZCAwO1xuY29uc3QgZGVidWdfMSA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcbmNvbnN0IHN0cnRvazMgPSByZXF1aXJlKFwic3RydG9rMy9saWIvY29yZVwiKTtcbmNvbnN0IHRva2VuX3R5cGVzXzEgPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcIi4uL2NvbW1vbi9VdGlsXCIpO1xuY29uc3QgQmFzaWNQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vQmFzaWNQYXJzZXJcIik7XG5jb25zdCBBUEV2MlRva2VuXzEgPSByZXF1aXJlKFwiLi9BUEV2MlRva2VuXCIpO1xuY29uc3QgZGVidWcgPSAoMCwgZGVidWdfMS5kZWZhdWx0KSgnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOkFQRXYyJyk7XG5jb25zdCB0YWdGb3JtYXQgPSAnQVBFdjInO1xuY29uc3QgcHJlYW1ibGUgPSAnQVBFVEFHRVgnO1xuY2xhc3MgQVBFdjJQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlcl8xLkJhc2ljUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5hcGUgPSB7fTtcbiAgICB9XG4gICAgc3RhdGljIHRyeVBhcnNlQXBlSGVhZGVyKG1ldGFkYXRhLCB0b2tlbml6ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXBlUGFyc2VyID0gbmV3IEFQRXYyUGFyc2VyKCk7XG4gICAgICAgIGFwZVBhcnNlci5pbml0KG1ldGFkYXRhLCB0b2tlbml6ZXIsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gYXBlUGFyc2VyLnRyeVBhcnNlQXBlSGVhZGVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgbWVkaWEgZmlsZSBkdXJhdGlvblxuICAgICAqIEBwYXJhbSBhaCBBcGVIZWFkZXJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGR1cmF0aW9uIGluIHNlY29uZHNcbiAgICAgKi9cbiAgICBzdGF0aWMgY2FsY3VsYXRlRHVyYXRpb24oYWgpIHtcbiAgICAgICAgbGV0IGR1cmF0aW9uID0gYWgudG90YWxGcmFtZXMgPiAxID8gYWguYmxvY2tzUGVyRnJhbWUgKiAoYWgudG90YWxGcmFtZXMgLSAxKSA6IDA7XG4gICAgICAgIGR1cmF0aW9uICs9IGFoLmZpbmFsRnJhbWVCbG9ja3M7XG4gICAgICAgIHJldHVybiBkdXJhdGlvbiAvIGFoLnNhbXBsZVJhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIEFQRXYxIC8gQVBFdjIgZmlyc3QgZmllbGQgb2Zmc2V0XG4gICAgICogQHBhcmFtIHJlYWRlclxuICAgICAqIEBwYXJhbSBvZmZzZXRcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZmluZEFwZUZvb3Rlck9mZnNldChyZWFkZXIsIG9mZnNldCkge1xuICAgICAgICAvLyBTZWFyY2ggZm9yIEFQRSBmb290ZXIgaGVhZGVyIGF0IHRoZSBlbmQgb2YgdGhlIGZpbGVcbiAgICAgICAgY29uc3QgYXBlQnVmID0gQnVmZmVyLmFsbG9jKEFQRXYyVG9rZW5fMS5UYWdGb290ZXIubGVuKTtcbiAgICAgICAgYXdhaXQgcmVhZGVyLnJhbmRvbVJlYWQoYXBlQnVmLCAwLCBBUEV2MlRva2VuXzEuVGFnRm9vdGVyLmxlbiwgb2Zmc2V0IC0gQVBFdjJUb2tlbl8xLlRhZ0Zvb3Rlci5sZW4pO1xuICAgICAgICBjb25zdCB0YWdGb290ZXIgPSBBUEV2MlRva2VuXzEuVGFnRm9vdGVyLmdldChhcGVCdWYsIDApO1xuICAgICAgICBpZiAodGFnRm9vdGVyLklEID09PSAnQVBFVEFHRVgnKSB7XG4gICAgICAgICAgICBkZWJ1ZyhgQVBFIGZvb3RlciBoZWFkZXIgYXQgb2Zmc2V0PSR7b2Zmc2V0fWApO1xuICAgICAgICAgICAgcmV0dXJuIHsgZm9vdGVyOiB0YWdGb290ZXIsIG9mZnNldDogb2Zmc2V0IC0gdGFnRm9vdGVyLnNpemUgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgcGFyc2VUYWdGb290ZXIobWV0YWRhdGEsIGJ1ZmZlciwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBmb290ZXIgPSBBUEV2MlRva2VuXzEuVGFnRm9vdGVyLmdldChidWZmZXIsIGJ1ZmZlci5sZW5ndGggLSBBUEV2MlRva2VuXzEuVGFnRm9vdGVyLmxlbik7XG4gICAgICAgIGlmIChmb290ZXIuSUQgIT09IHByZWFtYmxlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIEFQRXYyIEZvb3RlciBJRCBwcmVhbWJsZSB2YWx1ZS4nKTtcbiAgICAgICAgc3RydG9rMy5mcm9tQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IGFwZVBhcnNlciA9IG5ldyBBUEV2MlBhcnNlcigpO1xuICAgICAgICBhcGVQYXJzZXIuaW5pdChtZXRhZGF0YSwgc3RydG9rMy5mcm9tQnVmZmVyKGJ1ZmZlciksIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gYXBlUGFyc2VyLnBhcnNlVGFncyhmb290ZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSBBUEV2MSAvIEFQRXYyIGhlYWRlciBpZiBoZWFkZXIgc2lnbmF0dXJlIGZvdW5kXG4gICAgICovXG4gICAgYXN5bmMgdHJ5UGFyc2VBcGVIZWFkZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplICYmIHRoaXMudG9rZW5pemVyLmZpbGVJbmZvLnNpemUgLSB0aGlzLnRva2VuaXplci5wb3NpdGlvbiA8IEFQRXYyVG9rZW5fMS5UYWdGb290ZXIubGVuKSB7XG4gICAgICAgICAgICBkZWJ1ZyhgTm8gQVBFdjIgaGVhZGVyIGZvdW5kLCBlbmQtb2YtZmlsZSByZWFjaGVkYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZm9vdGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucGVla1Rva2VuKEFQRXYyVG9rZW5fMS5UYWdGb290ZXIpO1xuICAgICAgICBpZiAoZm9vdGVyLklEID09PSBwcmVhbWJsZSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKEFQRXYyVG9rZW5fMS5UYWdGb290ZXIubGVuKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlVGFncyhmb290ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVidWcoYEFQRXYyIGhlYWRlciBub3QgZm91bmQgYXQgb2Zmc2V0PSR7dGhpcy50b2tlbml6ZXIucG9zaXRpb259YCk7XG4gICAgICAgICAgICBpZiAodGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSkge1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byByZWFkIHRoZSBBUEV2MiBoZWFkZXIgdXNpbmcganVzdCB0aGUgZm9vdGVyLWhlYWRlclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IHRoaXMudG9rZW5pemVyLmZpbGVJbmZvLnNpemUgLSB0aGlzLnRva2VuaXplci5wb3NpdGlvbjsgLy8gVG9EbzogdGFrZSBJRDN2MSBpbnRvIGFjY291bnRcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2MocmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFQRXYyUGFyc2VyLnBhcnNlVGFnRm9vdGVyKHRoaXMubWV0YWRhdGEsIGJ1ZmZlciwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihBUEV2MlRva2VuXzEuRGVzY3JpcHRvclBhcnNlcik7XG4gICAgICAgIGlmIChkZXNjcmlwdG9yLklEICE9PSAnTUFDICcpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgZGVzY3JpcHRvciBJRCcpO1xuICAgICAgICB0aGlzLmFwZS5kZXNjcmlwdG9yID0gZGVzY3JpcHRvcjtcbiAgICAgICAgY29uc3QgbGVuRXhwID0gZGVzY3JpcHRvci5kZXNjcmlwdG9yQnl0ZXMgLSBBUEV2MlRva2VuXzEuRGVzY3JpcHRvclBhcnNlci5sZW47XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGF3YWl0IChsZW5FeHAgPiAwID8gdGhpcy5wYXJzZURlc2NyaXB0b3JFeHBhbnNpb24obGVuRXhwKSA6IHRoaXMucGFyc2VIZWFkZXIoKSk7XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShoZWFkZXIuZm9yd2FyZEJ5dGVzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJ5UGFyc2VBcGVIZWFkZXIoKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VUYWdzKGZvb3Rlcikge1xuICAgICAgICBjb25zdCBrZXlCdWZmZXIgPSBCdWZmZXIuYWxsb2MoMjU2KTsgLy8gbWF4aW11bSB0YWcga2V5IGxlbmd0aFxuICAgICAgICBsZXQgYnl0ZXNSZW1haW5pbmcgPSBmb290ZXIuc2l6ZSAtIEFQRXYyVG9rZW5fMS5UYWdGb290ZXIubGVuO1xuICAgICAgICBkZWJ1ZyhgUGFyc2UgQVBFIHRhZ3MgYXQgb2Zmc2V0PSR7dGhpcy50b2tlbml6ZXIucG9zaXRpb259LCBzaXplPSR7Ynl0ZXNSZW1haW5pbmd9YCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm9vdGVyLmZpZWxkczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYnl0ZXNSZW1haW5pbmcgPCBBUEV2MlRva2VuXzEuVGFnSXRlbUhlYWRlci5sZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoYEFQRXYyIFRhZy1oZWFkZXI6ICR7Zm9vdGVyLmZpZWxkcyAtIGl9IGl0ZW1zIHJlbWFpbmluZywgYnV0IG5vIG1vcmUgdGFnIGRhdGEgdG8gcmVhZC5gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE9ubHkgQVBFdjIgdGFnIGhhcyB0YWcgaXRlbSBoZWFkZXJzXG4gICAgICAgICAgICBjb25zdCB0YWdJdGVtSGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEFQRXYyVG9rZW5fMS5UYWdJdGVtSGVhZGVyKTtcbiAgICAgICAgICAgIGJ5dGVzUmVtYWluaW5nIC09IEFQRXYyVG9rZW5fMS5UYWdJdGVtSGVhZGVyLmxlbiArIHRhZ0l0ZW1IZWFkZXIuc2l6ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLnBlZWtCdWZmZXIoa2V5QnVmZmVyLCB7IGxlbmd0aDogTWF0aC5taW4oa2V5QnVmZmVyLmxlbmd0aCwgYnl0ZXNSZW1haW5pbmcpIH0pO1xuICAgICAgICAgICAgbGV0IHplcm8gPSB1dGlsLmZpbmRaZXJvKGtleUJ1ZmZlciwgMCwga2V5QnVmZmVyLmxlbmd0aCk7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IHRva2VuX3R5cGVzXzEuU3RyaW5nVHlwZSh6ZXJvLCAnYXNjaWknKSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoMSk7XG4gICAgICAgICAgICBieXRlc1JlbWFpbmluZyAtPSBrZXkubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnSXRlbUhlYWRlci5mbGFncy5kYXRhVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQVBFdjJUb2tlbl8xLkRhdGFUeXBlLnRleHRfdXRmODogeyAvLyB1dGYtOCB0ZXh0LXN0cmluZ1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgdG9rZW5fdHlwZXNfMS5TdHJpbmdUeXBlKHRhZ0l0ZW1IZWFkZXIuc2l6ZSwgJ3V0ZjgnKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IHZhbHVlLnNwbGl0KC9cXHgwMC9nKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFRhZyh0YWdGb3JtYXQsIGtleSwgdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBBUEV2MlRva2VuXzEuRGF0YVR5cGUuYmluYXJ5OiAvLyBiaW5hcnkgKHByb2JhYmx5IGFydHdvcmspXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2tpcENvdmVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKHRhZ0l0ZW1IZWFkZXIuc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwaWNEYXRhID0gQnVmZmVyLmFsbG9jKHRhZ0l0ZW1IZWFkZXIuc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkQnVmZmVyKHBpY0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgemVybyA9IHV0aWwuZmluZFplcm8ocGljRGF0YSwgMCwgcGljRGF0YS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBwaWNEYXRhLnRvU3RyaW5nKCd1dGY4JywgMCwgemVybyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gQnVmZmVyLmZyb20ocGljRGF0YS5zbGljZSh6ZXJvICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRUYWcodGFnRm9ybWF0LCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEFQRXYyVG9rZW5fMS5EYXRhVHlwZS5leHRlcm5hbF9pbmZvOlxuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgSWdub3JlIGV4dGVybmFsIGluZm8gJHtrZXl9YCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZSh0YWdJdGVtSGVhZGVyLnNpemUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEFQRXYyVG9rZW5fMS5EYXRhVHlwZS5yZXNlcnZlZDpcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoYElnbm9yZSBleHRlcm5hbCBpbmZvICR7a2V5fWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoYEFQRXYyIGhlYWRlciBkZWNsYXJlcyBhIHJlc2VydmVkIGRhdGF0eXBlIGZvciBcIiR7a2V5fVwiYCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZSh0YWdJdGVtSGVhZGVyLnNpemUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwYXJzZURlc2NyaXB0b3JFeHBhbnNpb24obGVuRXhwKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShsZW5FeHApO1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUhlYWRlcigpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUhlYWRlcigpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEFQRXYyVG9rZW5fMS5IZWFkZXIpO1xuICAgICAgICAvLyBUb0RvIGJlZm9yZVxuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbG9zc2xlc3MnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsICdNb25rZXlcXCdzIEF1ZGlvJyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRzUGVyU2FtcGxlJywgaGVhZGVyLmJpdHNQZXJTYW1wbGUpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnc2FtcGxlUmF0ZScsIGhlYWRlci5zYW1wbGVSYXRlKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mQ2hhbm5lbHMnLCBoZWFkZXIuY2hhbm5lbCk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdkdXJhdGlvbicsIEFQRXYyUGFyc2VyLmNhbGN1bGF0ZUR1cmF0aW9uKGhlYWRlcikpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9yd2FyZEJ5dGVzOiB0aGlzLmFwZS5kZXNjcmlwdG9yLnNlZWtUYWJsZUJ5dGVzICsgdGhpcy5hcGUuZGVzY3JpcHRvci5oZWFkZXJEYXRhQnl0ZXMgK1xuICAgICAgICAgICAgICAgIHRoaXMuYXBlLmRlc2NyaXB0b3IuYXBlRnJhbWVEYXRhQnl0ZXMgKyB0aGlzLmFwZS5kZXNjcmlwdG9yLnRlcm1pbmF0aW5nRGF0YUJ5dGVzXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5BUEV2MlBhcnNlciA9IEFQRXYyUGFyc2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/apev2/APEv2TagMapper.js":
/*!*****************************************************************!*\
  !*** ./node_modules/music-metadata/lib/apev2/APEv2TagMapper.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.APEv2TagMapper = void 0;\nconst CaseInsensitiveTagMap_1 = __webpack_require__(/*! ../common/CaseInsensitiveTagMap */ \"(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js\");\n/**\n * ID3v2.2 tag mappings\n */\nconst apev2TagMap = {\n    Title: 'title',\n    Artist: 'artist',\n    Artists: 'artists',\n    'Album Artist': 'albumartist',\n    Album: 'album',\n    Year: 'date',\n    Originalyear: 'originalyear',\n    Originaldate: 'originaldate',\n    Comment: 'comment',\n    Track: 'track',\n    Disc: 'disk',\n    DISCNUMBER: 'disk',\n    Genre: 'genre',\n    'Cover Art (Front)': 'picture',\n    'Cover Art (Back)': 'picture',\n    Composer: 'composer',\n    Lyrics: 'lyrics',\n    ALBUMSORT: 'albumsort',\n    TITLESORT: 'titlesort',\n    WORK: 'work',\n    ARTISTSORT: 'artistsort',\n    ALBUMARTISTSORT: 'albumartistsort',\n    COMPOSERSORT: 'composersort',\n    Lyricist: 'lyricist',\n    Writer: 'writer',\n    Conductor: 'conductor',\n    // 'Performer=artist (instrument)': 'performer:instrument',\n    MixArtist: 'remixer',\n    Arranger: 'arranger',\n    Engineer: 'engineer',\n    Producer: 'producer',\n    DJMixer: 'djmixer',\n    Mixer: 'mixer',\n    Label: 'label',\n    Grouping: 'grouping',\n    Subtitle: 'subtitle',\n    DiscSubtitle: 'discsubtitle',\n    Compilation: 'compilation',\n    BPM: 'bpm',\n    Mood: 'mood',\n    Media: 'media',\n    CatalogNumber: 'catalognumber',\n    MUSICBRAINZ_ALBUMSTATUS: 'releasestatus',\n    MUSICBRAINZ_ALBUMTYPE: 'releasetype',\n    RELEASECOUNTRY: 'releasecountry',\n    Script: 'script',\n    Language: 'language',\n    Copyright: 'copyright',\n    LICENSE: 'license',\n    EncodedBy: 'encodedby',\n    EncoderSettings: 'encodersettings',\n    Barcode: 'barcode',\n    ISRC: 'isrc',\n    ASIN: 'asin',\n    musicbrainz_trackid: 'musicbrainz_recordingid',\n    musicbrainz_releasetrackid: 'musicbrainz_trackid',\n    MUSICBRAINZ_ALBUMID: 'musicbrainz_albumid',\n    MUSICBRAINZ_ARTISTID: 'musicbrainz_artistid',\n    MUSICBRAINZ_ALBUMARTISTID: 'musicbrainz_albumartistid',\n    MUSICBRAINZ_RELEASEGROUPID: 'musicbrainz_releasegroupid',\n    MUSICBRAINZ_WORKID: 'musicbrainz_workid',\n    MUSICBRAINZ_TRMID: 'musicbrainz_trmid',\n    MUSICBRAINZ_DISCID: 'musicbrainz_discid',\n    Acoustid_Id: 'acoustid_id',\n    ACOUSTID_FINGERPRINT: 'acoustid_fingerprint',\n    MUSICIP_PUID: 'musicip_puid',\n    Weblink: 'website',\n    REPLAYGAIN_TRACK_GAIN: 'replaygain_track_gain',\n    REPLAYGAIN_TRACK_PEAK: 'replaygain_track_peak',\n    MP3GAIN_MINMAX: 'replaygain_track_minmax',\n    MP3GAIN_UNDO: 'replaygain_undo'\n};\nclass APEv2TagMapper extends CaseInsensitiveTagMap_1.CaseInsensitiveTagMap {\n    constructor() {\n        super(['APEv2'], apev2TagMap);\n    }\n}\nexports.APEv2TagMapper = APEv2TagMapper;\n//# sourceMappingURL=APEv2TagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FwZXYyL0FQRXYyVGFnTWFwcGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QixnQ0FBZ0MsbUJBQU8sQ0FBQyxnSEFBaUM7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FwZXYyL0FQRXYyVGFnTWFwcGVyLmpzPzRiZWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFQRXYyVGFnTWFwcGVyID0gdm9pZCAwO1xuY29uc3QgQ2FzZUluc2Vuc2l0aXZlVGFnTWFwXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL0Nhc2VJbnNlbnNpdGl2ZVRhZ01hcFwiKTtcbi8qKlxuICogSUQzdjIuMiB0YWcgbWFwcGluZ3NcbiAqL1xuY29uc3QgYXBldjJUYWdNYXAgPSB7XG4gICAgVGl0bGU6ICd0aXRsZScsXG4gICAgQXJ0aXN0OiAnYXJ0aXN0JyxcbiAgICBBcnRpc3RzOiAnYXJ0aXN0cycsXG4gICAgJ0FsYnVtIEFydGlzdCc6ICdhbGJ1bWFydGlzdCcsXG4gICAgQWxidW06ICdhbGJ1bScsXG4gICAgWWVhcjogJ2RhdGUnLFxuICAgIE9yaWdpbmFseWVhcjogJ29yaWdpbmFseWVhcicsXG4gICAgT3JpZ2luYWxkYXRlOiAnb3JpZ2luYWxkYXRlJyxcbiAgICBDb21tZW50OiAnY29tbWVudCcsXG4gICAgVHJhY2s6ICd0cmFjaycsXG4gICAgRGlzYzogJ2Rpc2snLFxuICAgIERJU0NOVU1CRVI6ICdkaXNrJyxcbiAgICBHZW5yZTogJ2dlbnJlJyxcbiAgICAnQ292ZXIgQXJ0IChGcm9udCknOiAncGljdHVyZScsXG4gICAgJ0NvdmVyIEFydCAoQmFjayknOiAncGljdHVyZScsXG4gICAgQ29tcG9zZXI6ICdjb21wb3NlcicsXG4gICAgTHlyaWNzOiAnbHlyaWNzJyxcbiAgICBBTEJVTVNPUlQ6ICdhbGJ1bXNvcnQnLFxuICAgIFRJVExFU09SVDogJ3RpdGxlc29ydCcsXG4gICAgV09SSzogJ3dvcmsnLFxuICAgIEFSVElTVFNPUlQ6ICdhcnRpc3Rzb3J0JyxcbiAgICBBTEJVTUFSVElTVFNPUlQ6ICdhbGJ1bWFydGlzdHNvcnQnLFxuICAgIENPTVBPU0VSU09SVDogJ2NvbXBvc2Vyc29ydCcsXG4gICAgTHlyaWNpc3Q6ICdseXJpY2lzdCcsXG4gICAgV3JpdGVyOiAnd3JpdGVyJyxcbiAgICBDb25kdWN0b3I6ICdjb25kdWN0b3InLFxuICAgIC8vICdQZXJmb3JtZXI9YXJ0aXN0wqAoaW5zdHJ1bWVudCknOiAncGVyZm9ybWVyOmluc3RydW1lbnQnLFxuICAgIE1peEFydGlzdDogJ3JlbWl4ZXInLFxuICAgIEFycmFuZ2VyOiAnYXJyYW5nZXInLFxuICAgIEVuZ2luZWVyOiAnZW5naW5lZXInLFxuICAgIFByb2R1Y2VyOiAncHJvZHVjZXInLFxuICAgIERKTWl4ZXI6ICdkam1peGVyJyxcbiAgICBNaXhlcjogJ21peGVyJyxcbiAgICBMYWJlbDogJ2xhYmVsJyxcbiAgICBHcm91cGluZzogJ2dyb3VwaW5nJyxcbiAgICBTdWJ0aXRsZTogJ3N1YnRpdGxlJyxcbiAgICBEaXNjU3VidGl0bGU6ICdkaXNjc3VidGl0bGUnLFxuICAgIENvbXBpbGF0aW9uOiAnY29tcGlsYXRpb24nLFxuICAgIEJQTTogJ2JwbScsXG4gICAgTW9vZDogJ21vb2QnLFxuICAgIE1lZGlhOiAnbWVkaWEnLFxuICAgIENhdGFsb2dOdW1iZXI6ICdjYXRhbG9nbnVtYmVyJyxcbiAgICBNVVNJQ0JSQUlOWl9BTEJVTVNUQVRVUzogJ3JlbGVhc2VzdGF0dXMnLFxuICAgIE1VU0lDQlJBSU5aX0FMQlVNVFlQRTogJ3JlbGVhc2V0eXBlJyxcbiAgICBSRUxFQVNFQ09VTlRSWTogJ3JlbGVhc2Vjb3VudHJ5JyxcbiAgICBTY3JpcHQ6ICdzY3JpcHQnLFxuICAgIExhbmd1YWdlOiAnbGFuZ3VhZ2UnLFxuICAgIENvcHlyaWdodDogJ2NvcHlyaWdodCcsXG4gICAgTElDRU5TRTogJ2xpY2Vuc2UnLFxuICAgIEVuY29kZWRCeTogJ2VuY29kZWRieScsXG4gICAgRW5jb2RlclNldHRpbmdzOiAnZW5jb2RlcnNldHRpbmdzJyxcbiAgICBCYXJjb2RlOiAnYmFyY29kZScsXG4gICAgSVNSQzogJ2lzcmMnLFxuICAgIEFTSU46ICdhc2luJyxcbiAgICBtdXNpY2JyYWluel90cmFja2lkOiAnbXVzaWNicmFpbnpfcmVjb3JkaW5naWQnLFxuICAgIG11c2ljYnJhaW56X3JlbGVhc2V0cmFja2lkOiAnbXVzaWNicmFpbnpfdHJhY2tpZCcsXG4gICAgTVVTSUNCUkFJTlpfQUxCVU1JRDogJ211c2ljYnJhaW56X2FsYnVtaWQnLFxuICAgIE1VU0lDQlJBSU5aX0FSVElTVElEOiAnbXVzaWNicmFpbnpfYXJ0aXN0aWQnLFxuICAgIE1VU0lDQlJBSU5aX0FMQlVNQVJUSVNUSUQ6ICdtdXNpY2JyYWluel9hbGJ1bWFydGlzdGlkJyxcbiAgICBNVVNJQ0JSQUlOWl9SRUxFQVNFR1JPVVBJRDogJ211c2ljYnJhaW56X3JlbGVhc2Vncm91cGlkJyxcbiAgICBNVVNJQ0JSQUlOWl9XT1JLSUQ6ICdtdXNpY2JyYWluel93b3JraWQnLFxuICAgIE1VU0lDQlJBSU5aX1RSTUlEOiAnbXVzaWNicmFpbnpfdHJtaWQnLFxuICAgIE1VU0lDQlJBSU5aX0RJU0NJRDogJ211c2ljYnJhaW56X2Rpc2NpZCcsXG4gICAgQWNvdXN0aWRfSWQ6ICdhY291c3RpZF9pZCcsXG4gICAgQUNPVVNUSURfRklOR0VSUFJJTlQ6ICdhY291c3RpZF9maW5nZXJwcmludCcsXG4gICAgTVVTSUNJUF9QVUlEOiAnbXVzaWNpcF9wdWlkJyxcbiAgICBXZWJsaW5rOiAnd2Vic2l0ZScsXG4gICAgUkVQTEFZR0FJTl9UUkFDS19HQUlOOiAncmVwbGF5Z2Fpbl90cmFja19nYWluJyxcbiAgICBSRVBMQVlHQUlOX1RSQUNLX1BFQUs6ICdyZXBsYXlnYWluX3RyYWNrX3BlYWsnLFxuICAgIE1QM0dBSU5fTUlOTUFYOiAncmVwbGF5Z2Fpbl90cmFja19taW5tYXgnLFxuICAgIE1QM0dBSU5fVU5ETzogJ3JlcGxheWdhaW5fdW5kbydcbn07XG5jbGFzcyBBUEV2MlRhZ01hcHBlciBleHRlbmRzIENhc2VJbnNlbnNpdGl2ZVRhZ01hcF8xLkNhc2VJbnNlbnNpdGl2ZVRhZ01hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFsnQVBFdjInXSwgYXBldjJUYWdNYXApO1xuICAgIH1cbn1cbmV4cG9ydHMuQVBFdjJUYWdNYXBwZXIgPSBBUEV2MlRhZ01hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFQRXYyVGFnTWFwcGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/apev2/APEv2TagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Token.js":
/*!*************************************************************!*\
  !*** ./node_modules/music-metadata/lib/apev2/APEv2Token.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isBitSet = exports.parseTagFlags = exports.TagField = exports.TagItemHeader = exports.TagFooter = exports.Header = exports.DescriptorParser = exports.DataType = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"text_utf8\"] = 0] = \"text_utf8\";\n    DataType[DataType[\"binary\"] = 1] = \"binary\";\n    DataType[DataType[\"external_info\"] = 2] = \"external_info\";\n    DataType[DataType[\"reserved\"] = 3] = \"reserved\";\n})(DataType = exports.DataType || (exports.DataType = {}));\n/**\n * APE_DESCRIPTOR: defines the sizes (and offsets) of all the pieces, as well as the MD5 checksum\n */\nexports.DescriptorParser = {\n    len: 52,\n    get: (buf, off) => {\n        return {\n            // should equal 'MAC '\n            ID: FourCC_1.FourCcToken.get(buf, off),\n            // versionIndex number * 1000 (3.81 = 3810) (remember that 4-byte alignment causes this to take 4-bytes)\n            version: Token.UINT32_LE.get(buf, off + 4) / 1000,\n            // the number of descriptor bytes (allows later expansion of this header)\n            descriptorBytes: Token.UINT32_LE.get(buf, off + 8),\n            // the number of header APE_HEADER bytes\n            headerBytes: Token.UINT32_LE.get(buf, off + 12),\n            // the number of header APE_HEADER bytes\n            seekTableBytes: Token.UINT32_LE.get(buf, off + 16),\n            // the number of header data bytes (from original file)\n            headerDataBytes: Token.UINT32_LE.get(buf, off + 20),\n            // the number of bytes of APE frame data\n            apeFrameDataBytes: Token.UINT32_LE.get(buf, off + 24),\n            // the high order number of APE frame data bytes\n            apeFrameDataBytesHigh: Token.UINT32_LE.get(buf, off + 28),\n            // the terminating data of the file (not including tag data)\n            terminatingDataBytes: Token.UINT32_LE.get(buf, off + 32),\n            // the MD5 hash of the file (see notes for usage... it's a little tricky)\n            fileMD5: new Token.Uint8ArrayType(16).get(buf, off + 36)\n        };\n    }\n};\n/**\n * APE_HEADER: describes all of the necessary information about the APE file\n */\nexports.Header = {\n    len: 24,\n    get: (buf, off) => {\n        return {\n            // the compression level (see defines I.E. COMPRESSION_LEVEL_FAST)\n            compressionLevel: Token.UINT16_LE.get(buf, off),\n            // any format flags (for future use)\n            formatFlags: Token.UINT16_LE.get(buf, off + 2),\n            // the number of audio blocks in one frame\n            blocksPerFrame: Token.UINT32_LE.get(buf, off + 4),\n            // the number of audio blocks in the final frame\n            finalFrameBlocks: Token.UINT32_LE.get(buf, off + 8),\n            // the total number of frames\n            totalFrames: Token.UINT32_LE.get(buf, off + 12),\n            // the bits per sample (typically 16)\n            bitsPerSample: Token.UINT16_LE.get(buf, off + 16),\n            // the number of channels (1 or 2)\n            channel: Token.UINT16_LE.get(buf, off + 18),\n            // the sample rate (typically 44100)\n            sampleRate: Token.UINT32_LE.get(buf, off + 20)\n        };\n    }\n};\n/**\n * APE Tag Header/Footer Version 2.0\n * TAG: describes all the properties of the file [optional]\n */\nexports.TagFooter = {\n    len: 32,\n    get: (buf, off) => {\n        return {\n            // should equal 'APETAGEX'\n            ID: new Token.StringType(8, 'ascii').get(buf, off),\n            // equals CURRENT_APE_TAG_VERSION\n            version: Token.UINT32_LE.get(buf, off + 8),\n            // the complete size of the tag, including this footer (excludes header)\n            size: Token.UINT32_LE.get(buf, off + 12),\n            // the number of fields in the tag\n            fields: Token.UINT32_LE.get(buf, off + 16),\n            // reserved for later use (must be zero),\n            flags: parseTagFlags(Token.UINT32_LE.get(buf, off + 20))\n        };\n    }\n};\n/**\n * APE Tag v2.0 Item Header\n */\nexports.TagItemHeader = {\n    len: 8,\n    get: (buf, off) => {\n        return {\n            // Length of assigned value in bytes\n            size: Token.UINT32_LE.get(buf, off),\n            // reserved for later use (must be zero),\n            flags: parseTagFlags(Token.UINT32_LE.get(buf, off + 4))\n        };\n    }\n};\nconst TagField = footer => {\n    return new Token.Uint8ArrayType(footer.size - exports.TagFooter.len);\n};\nexports.TagField = TagField;\nfunction parseTagFlags(flags) {\n    return {\n        containsHeader: isBitSet(flags, 31),\n        containsFooter: isBitSet(flags, 30),\n        isHeader: isBitSet(flags, 31),\n        readOnly: isBitSet(flags, 0),\n        dataType: (flags & 6) >> 1\n    };\n}\nexports.parseTagFlags = parseTagFlags;\n/**\n * @param num {number}\n * @param bit 0 is least significant bit (LSB)\n * @return {boolean} true if bit is 1; otherwise false\n */\nfunction isBitSet(num, bit) {\n    return (num & 1 << bit) !== 0;\n}\nexports.isBitSet = isBitSet;\n//# sourceMappingURL=APEv2Token.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FwZXYyL0FQRXYyVG9rZW4uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLEdBQUcscUJBQXFCLEdBQUcsZ0JBQWdCLEdBQUcscUJBQXFCLEdBQUcsaUJBQWlCLEdBQUcsY0FBYyxHQUFHLHdCQUF3QixHQUFHLGdCQUFnQjtBQUN0SyxjQUFjLG1CQUFPLENBQUMsa0VBQWE7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsa0ZBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0NBQWtDLGdCQUFnQixLQUFLO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsWUFBWSxTQUFTLGtCQUFrQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9hcGV2Mi9BUEV2MlRva2VuLmpzPzEwZmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzQml0U2V0ID0gZXhwb3J0cy5wYXJzZVRhZ0ZsYWdzID0gZXhwb3J0cy5UYWdGaWVsZCA9IGV4cG9ydHMuVGFnSXRlbUhlYWRlciA9IGV4cG9ydHMuVGFnRm9vdGVyID0gZXhwb3J0cy5IZWFkZXIgPSBleHBvcnRzLkRlc2NyaXB0b3JQYXJzZXIgPSBleHBvcnRzLkRhdGFUeXBlID0gdm9pZCAwO1xuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG5jb25zdCBGb3VyQ0NfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vRm91ckNDXCIpO1xudmFyIERhdGFUeXBlO1xuKGZ1bmN0aW9uIChEYXRhVHlwZSkge1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1widGV4dF91dGY4XCJdID0gMF0gPSBcInRleHRfdXRmOFwiO1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1wiYmluYXJ5XCJdID0gMV0gPSBcImJpbmFyeVwiO1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1wiZXh0ZXJuYWxfaW5mb1wiXSA9IDJdID0gXCJleHRlcm5hbF9pbmZvXCI7XG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJyZXNlcnZlZFwiXSA9IDNdID0gXCJyZXNlcnZlZFwiO1xufSkoRGF0YVR5cGUgPSBleHBvcnRzLkRhdGFUeXBlIHx8IChleHBvcnRzLkRhdGFUeXBlID0ge30pKTtcbi8qKlxuICogQVBFX0RFU0NSSVBUT1I6IGRlZmluZXMgdGhlIHNpemVzIChhbmQgb2Zmc2V0cykgb2YgYWxsIHRoZSBwaWVjZXMsIGFzIHdlbGwgYXMgdGhlIE1ENSBjaGVja3N1bVxuICovXG5leHBvcnRzLkRlc2NyaXB0b3JQYXJzZXIgPSB7XG4gICAgbGVuOiA1MixcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gc2hvdWxkIGVxdWFsICdNQUMgJ1xuICAgICAgICAgICAgSUQ6IEZvdXJDQ18xLkZvdXJDY1Rva2VuLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICAvLyB2ZXJzaW9uSW5kZXggbnVtYmVyICogMTAwMCAoMy44MSA9IDM4MTApIChyZW1lbWJlciB0aGF0IDQtYnl0ZSBhbGlnbm1lbnQgY2F1c2VzIHRoaXMgdG8gdGFrZSA0LWJ5dGVzKVxuICAgICAgICAgICAgdmVyc2lvbjogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDQpIC8gMTAwMCxcbiAgICAgICAgICAgIC8vIHRoZSBudW1iZXIgb2YgZGVzY3JpcHRvciBieXRlcyAoYWxsb3dzIGxhdGVyIGV4cGFuc2lvbiBvZiB0aGlzIGhlYWRlcilcbiAgICAgICAgICAgIGRlc2NyaXB0b3JCeXRlczogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDgpLFxuICAgICAgICAgICAgLy8gdGhlIG51bWJlciBvZiBoZWFkZXIgQVBFX0hFQURFUiBieXRlc1xuICAgICAgICAgICAgaGVhZGVyQnl0ZXM6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAxMiksXG4gICAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGhlYWRlciBBUEVfSEVBREVSIGJ5dGVzXG4gICAgICAgICAgICBzZWVrVGFibGVCeXRlczogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDE2KSxcbiAgICAgICAgICAgIC8vIHRoZSBudW1iZXIgb2YgaGVhZGVyIGRhdGEgYnl0ZXMgKGZyb20gb3JpZ2luYWwgZmlsZSlcbiAgICAgICAgICAgIGhlYWRlckRhdGFCeXRlczogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDIwKSxcbiAgICAgICAgICAgIC8vIHRoZSBudW1iZXIgb2YgYnl0ZXMgb2YgQVBFIGZyYW1lIGRhdGFcbiAgICAgICAgICAgIGFwZUZyYW1lRGF0YUJ5dGVzOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMjQpLFxuICAgICAgICAgICAgLy8gdGhlIGhpZ2ggb3JkZXIgbnVtYmVyIG9mIEFQRSBmcmFtZSBkYXRhIGJ5dGVzXG4gICAgICAgICAgICBhcGVGcmFtZURhdGFCeXRlc0hpZ2g6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAyOCksXG4gICAgICAgICAgICAvLyB0aGUgdGVybWluYXRpbmcgZGF0YSBvZiB0aGUgZmlsZSAobm90IGluY2x1ZGluZyB0YWcgZGF0YSlcbiAgICAgICAgICAgIHRlcm1pbmF0aW5nRGF0YUJ5dGVzOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMzIpLFxuICAgICAgICAgICAgLy8gdGhlIE1ENSBoYXNoIG9mIHRoZSBmaWxlIChzZWUgbm90ZXMgZm9yIHVzYWdlLi4uIGl0J3MgYSBsaXR0bGUgdHJpY2t5KVxuICAgICAgICAgICAgZmlsZU1ENTogbmV3IFRva2VuLlVpbnQ4QXJyYXlUeXBlKDE2KS5nZXQoYnVmLCBvZmYgKyAzNilcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBBUEVfSEVBREVSOiBkZXNjcmliZXMgYWxsIG9mIHRoZSBuZWNlc3NhcnkgaW5mb3JtYXRpb24gYWJvdXQgdGhlIEFQRSBmaWxlXG4gKi9cbmV4cG9ydHMuSGVhZGVyID0ge1xuICAgIGxlbjogMjQsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIHRoZSBjb21wcmVzc2lvbiBsZXZlbCAoc2VlIGRlZmluZXMgSS5FLiBDT01QUkVTU0lPTl9MRVZFTF9GQVNUKVxuICAgICAgICAgICAgY29tcHJlc3Npb25MZXZlbDogVG9rZW4uVUlOVDE2X0xFLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICAvLyBhbnkgZm9ybWF0IGZsYWdzIChmb3IgZnV0dXJlIHVzZSlcbiAgICAgICAgICAgIGZvcm1hdEZsYWdzOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgMiksXG4gICAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGF1ZGlvIGJsb2NrcyBpbiBvbmUgZnJhbWVcbiAgICAgICAgICAgIGJsb2Nrc1BlckZyYW1lOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNCksXG4gICAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGF1ZGlvIGJsb2NrcyBpbiB0aGUgZmluYWwgZnJhbWVcbiAgICAgICAgICAgIGZpbmFsRnJhbWVCbG9ja3M6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA4KSxcbiAgICAgICAgICAgIC8vIHRoZSB0b3RhbCBudW1iZXIgb2YgZnJhbWVzXG4gICAgICAgICAgICB0b3RhbEZyYW1lczogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDEyKSxcbiAgICAgICAgICAgIC8vIHRoZSBiaXRzIHBlciBzYW1wbGUgKHR5cGljYWxseSAxNilcbiAgICAgICAgICAgIGJpdHNQZXJTYW1wbGU6IFRva2VuLlVJTlQxNl9MRS5nZXQoYnVmLCBvZmYgKyAxNiksXG4gICAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGNoYW5uZWxzICgxIG9yIDIpXG4gICAgICAgICAgICBjaGFubmVsOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTgpLFxuICAgICAgICAgICAgLy8gdGhlIHNhbXBsZSByYXRlICh0eXBpY2FsbHkgNDQxMDApXG4gICAgICAgICAgICBzYW1wbGVSYXRlOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMjApXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8qKlxuICogQVBFIFRhZyBIZWFkZXIvRm9vdGVyIFZlcnNpb24gMi4wXG4gKiBUQUc6IGRlc2NyaWJlcyBhbGwgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGZpbGUgW29wdGlvbmFsXVxuICovXG5leHBvcnRzLlRhZ0Zvb3RlciA9IHtcbiAgICBsZW46IDMyLFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBzaG91bGQgZXF1YWwgJ0FQRVRBR0VYJ1xuICAgICAgICAgICAgSUQ6IG5ldyBUb2tlbi5TdHJpbmdUeXBlKDgsICdhc2NpaScpLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICAvLyBlcXVhbHMgQ1VSUkVOVF9BUEVfVEFHX1ZFUlNJT05cbiAgICAgICAgICAgIHZlcnNpb246IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA4KSxcbiAgICAgICAgICAgIC8vIHRoZSBjb21wbGV0ZSBzaXplIG9mIHRoZSB0YWcsIGluY2x1ZGluZyB0aGlzIGZvb3RlciAoZXhjbHVkZXMgaGVhZGVyKVxuICAgICAgICAgICAgc2l6ZTogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDEyKSxcbiAgICAgICAgICAgIC8vIHRoZSBudW1iZXIgb2YgZmllbGRzIGluIHRoZSB0YWdcbiAgICAgICAgICAgIGZpZWxkczogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDE2KSxcbiAgICAgICAgICAgIC8vIHJlc2VydmVkIGZvciBsYXRlciB1c2UgKG11c3QgYmUgemVybyksXG4gICAgICAgICAgICBmbGFnczogcGFyc2VUYWdGbGFncyhUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMjApKVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vKipcbiAqIEFQRSBUYWcgdjIuMCBJdGVtIEhlYWRlclxuICovXG5leHBvcnRzLlRhZ0l0ZW1IZWFkZXIgPSB7XG4gICAgbGVuOiA4LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBMZW5ndGggb2YgYXNzaWduZWQgdmFsdWUgaW4gYnl0ZXNcbiAgICAgICAgICAgIHNpemU6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgLy8gcmVzZXJ2ZWQgZm9yIGxhdGVyIHVzZSAobXVzdCBiZSB6ZXJvKSxcbiAgICAgICAgICAgIGZsYWdzOiBwYXJzZVRhZ0ZsYWdzKFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA0KSlcbiAgICAgICAgfTtcbiAgICB9XG59O1xuY29uc3QgVGFnRmllbGQgPSBmb290ZXIgPT4ge1xuICAgIHJldHVybiBuZXcgVG9rZW4uVWludDhBcnJheVR5cGUoZm9vdGVyLnNpemUgLSBleHBvcnRzLlRhZ0Zvb3Rlci5sZW4pO1xufTtcbmV4cG9ydHMuVGFnRmllbGQgPSBUYWdGaWVsZDtcbmZ1bmN0aW9uIHBhcnNlVGFnRmxhZ3MoZmxhZ3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb250YWluc0hlYWRlcjogaXNCaXRTZXQoZmxhZ3MsIDMxKSxcbiAgICAgICAgY29udGFpbnNGb290ZXI6IGlzQml0U2V0KGZsYWdzLCAzMCksXG4gICAgICAgIGlzSGVhZGVyOiBpc0JpdFNldChmbGFncywgMzEpLFxuICAgICAgICByZWFkT25seTogaXNCaXRTZXQoZmxhZ3MsIDApLFxuICAgICAgICBkYXRhVHlwZTogKGZsYWdzICYgNikgPj4gMVxuICAgIH07XG59XG5leHBvcnRzLnBhcnNlVGFnRmxhZ3MgPSBwYXJzZVRhZ0ZsYWdzO1xuLyoqXG4gKiBAcGFyYW0gbnVtIHtudW1iZXJ9XG4gKiBAcGFyYW0gYml0IDAgaXMgbGVhc3Qgc2lnbmlmaWNhbnQgYml0IChMU0IpXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGJpdCBpcyAxOyBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCaXRTZXQobnVtLCBiaXQpIHtcbiAgICByZXR1cm4gKG51bSAmIDEgPDwgYml0KSAhPT0gMDtcbn1cbmV4cG9ydHMuaXNCaXRTZXQgPSBpc0JpdFNldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFQRXYyVG9rZW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Token.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/asf/AsfObject.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/asf/AsfObject.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n// ASF Objects\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WmPictureToken = exports.MetadataLibraryObjectState = exports.MetadataObjectState = exports.ExtendedStreamPropertiesObjectState = exports.ExtendedContentDescriptionObjectState = exports.ContentDescriptionObjectState = exports.readCodecEntries = exports.HeaderExtensionObject = exports.StreamPropertiesObject = exports.FilePropertiesObject = exports.IgnoreObjectState = exports.State = exports.HeaderObjectToken = exports.TopLevelHeaderObjectToken = exports.DataType = void 0;\nconst util = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst GUID_1 = __webpack_require__(/*! ./GUID */ \"(ssr)/./node_modules/music-metadata/lib/asf/GUID.js\");\nconst AsfUtil_1 = __webpack_require__(/*! ./AsfUtil */ \"(ssr)/./node_modules/music-metadata/lib/asf/AsfUtil.js\");\nconst ID3v2Token_1 = __webpack_require__(/*! ../id3v2/ID3v2Token */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\n/**\n * Data Type: Specifies the type of information being stored. The following values are recognized.\n */\nvar DataType;\n(function (DataType) {\n    /**\n     * Unicode string. The data consists of a sequence of Unicode characters.\n     */\n    DataType[DataType[\"UnicodeString\"] = 0] = \"UnicodeString\";\n    /**\n     * BYTE array. The type of data is implementation-specific.\n     */\n    DataType[DataType[\"ByteArray\"] = 1] = \"ByteArray\";\n    /**\n     * BOOL. The data is 2 bytes long and should be interpreted as a 16-bit unsigned integer. Only 0x0000 or 0x0001 are permitted values.\n     */\n    DataType[DataType[\"Bool\"] = 2] = \"Bool\";\n    /**\n     * DWORD. The data is 4 bytes long and should be interpreted as a 32-bit unsigned integer.\n     */\n    DataType[DataType[\"DWord\"] = 3] = \"DWord\";\n    /**\n     * QWORD. The data is 8 bytes long and should be interpreted as a 64-bit unsigned integer.\n     */\n    DataType[DataType[\"QWord\"] = 4] = \"QWord\";\n    /**\n     * WORD. The data is 2 bytes long and should be interpreted as a 16-bit unsigned integer.\n     */\n    DataType[DataType[\"Word\"] = 5] = \"Word\";\n})(DataType = exports.DataType || (exports.DataType = {}));\n/**\n * Token for: 3. ASF top-level Header Object\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3\n */\nexports.TopLevelHeaderObjectToken = {\n    len: 30,\n    get: (buf, off) => {\n        return {\n            objectId: GUID_1.default.fromBin(new Token.BufferType(16).get(buf, off)),\n            objectSize: Number(Token.UINT64_LE.get(buf, off + 16)),\n            numberOfHeaderObjects: Token.UINT32_LE.get(buf, off + 24)\n            // Reserved: 2 bytes\n        };\n    }\n};\n/**\n * Token for: 3.1 Header Object (mandatory, one only)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_1\n */\nexports.HeaderObjectToken = {\n    len: 24,\n    get: (buf, off) => {\n        return {\n            objectId: GUID_1.default.fromBin(new Token.BufferType(16).get(buf, off)),\n            objectSize: Number(Token.UINT64_LE.get(buf, off + 16))\n        };\n    }\n};\nclass State {\n    constructor(header) {\n        this.len = Number(header.objectSize) - exports.HeaderObjectToken.len;\n    }\n    postProcessTag(tags, name, valueType, data) {\n        if (name === 'WM/Picture') {\n            tags.push({ id: name, value: WmPictureToken.fromBuffer(data) });\n        }\n        else {\n            const parseAttr = AsfUtil_1.AsfUtil.getParserForAttr(valueType);\n            if (!parseAttr) {\n                throw new Error('unexpected value headerType: ' + valueType);\n            }\n            tags.push({ id: name, value: parseAttr(data) });\n        }\n    }\n}\nexports.State = State;\n// ToDo: use ignore type\nclass IgnoreObjectState extends State {\n    constructor(header) {\n        super(header);\n    }\n    get(buf, off) {\n        return null;\n    }\n}\nexports.IgnoreObjectState = IgnoreObjectState;\n/**\n * Token for: 3.2: File Properties Object (mandatory, one only)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_2\n */\nclass FilePropertiesObject extends State {\n    constructor(header) {\n        super(header);\n    }\n    get(buf, off) {\n        return {\n            fileId: GUID_1.default.fromBin(buf, off),\n            fileSize: Token.UINT64_LE.get(buf, off + 16),\n            creationDate: Token.UINT64_LE.get(buf, off + 24),\n            dataPacketsCount: Token.UINT64_LE.get(buf, off + 32),\n            playDuration: Token.UINT64_LE.get(buf, off + 40),\n            sendDuration: Token.UINT64_LE.get(buf, off + 48),\n            preroll: Token.UINT64_LE.get(buf, off + 56),\n            flags: {\n                broadcast: util.getBit(buf, off + 64, 24),\n                seekable: util.getBit(buf, off + 64, 25)\n            },\n            // flagsNumeric: Token.UINT32_LE.get(buf, off + 64),\n            minimumDataPacketSize: Token.UINT32_LE.get(buf, off + 68),\n            maximumDataPacketSize: Token.UINT32_LE.get(buf, off + 72),\n            maximumBitrate: Token.UINT32_LE.get(buf, off + 76)\n        };\n    }\n}\nFilePropertiesObject.guid = GUID_1.default.FilePropertiesObject;\nexports.FilePropertiesObject = FilePropertiesObject;\n/**\n * Token for: 3.3 Stream Properties Object (mandatory, one per stream)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_3\n */\nclass StreamPropertiesObject extends State {\n    constructor(header) {\n        super(header);\n    }\n    get(buf, off) {\n        return {\n            streamType: GUID_1.default.decodeMediaType(GUID_1.default.fromBin(buf, off)),\n            errorCorrectionType: GUID_1.default.fromBin(buf, off + 8)\n            // ToDo\n        };\n    }\n}\nStreamPropertiesObject.guid = GUID_1.default.StreamPropertiesObject;\nexports.StreamPropertiesObject = StreamPropertiesObject;\n/**\n * 3.4: Header Extension Object (mandatory, one only)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_4\n */\nclass HeaderExtensionObject {\n    constructor() {\n        this.len = 22;\n    }\n    get(buf, off) {\n        return {\n            reserved1: GUID_1.default.fromBin(buf, off),\n            reserved2: buf.readUInt16LE(off + 16),\n            extensionDataSize: buf.readUInt32LE(off + 18)\n        };\n    }\n}\nHeaderExtensionObject.guid = GUID_1.default.HeaderExtensionObject;\nexports.HeaderExtensionObject = HeaderExtensionObject;\n/**\n * 3.5: The Codec List Object provides user-friendly information about the codecs and formats used to encode the content found in the ASF file.\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_5\n */\nconst CodecListObjectHeader = {\n    len: 20,\n    get: (buf, off) => {\n        return {\n            entryCount: buf.readUInt16LE(off + 16)\n        };\n    }\n};\nasync function readString(tokenizer) {\n    const length = await tokenizer.readNumber(Token.UINT16_LE);\n    return (await tokenizer.readToken(new Token.StringType(length * 2, 'utf16le'))).replace('\\0', '');\n}\n/**\n * 3.5: Read the Codec-List-Object, which provides user-friendly information about the codecs and formats used to encode the content found in the ASF file.\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_5\n */\nasync function readCodecEntries(tokenizer) {\n    const codecHeader = await tokenizer.readToken(CodecListObjectHeader);\n    const entries = [];\n    for (let i = 0; i < codecHeader.entryCount; ++i) {\n        entries.push(await readCodecEntry(tokenizer));\n    }\n    return entries;\n}\nexports.readCodecEntries = readCodecEntries;\nasync function readInformation(tokenizer) {\n    const length = await tokenizer.readNumber(Token.UINT16_LE);\n    const buf = Buffer.alloc(length);\n    await tokenizer.readBuffer(buf);\n    return buf;\n}\n/**\n * Read Codec-Entries\n * @param tokenizer\n */\nasync function readCodecEntry(tokenizer) {\n    const type = await tokenizer.readNumber(Token.UINT16_LE);\n    return {\n        type: {\n            videoCodec: (type & 0x0001) === 0x0001,\n            audioCodec: (type & 0x0002) === 0x0002\n        },\n        codecName: await readString(tokenizer),\n        description: await readString(tokenizer),\n        information: await readInformation(tokenizer)\n    };\n}\n/**\n * 3.10 Content Description Object (optional, one only)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_10\n */\nclass ContentDescriptionObjectState extends State {\n    constructor(header) {\n        super(header);\n    }\n    get(buf, off) {\n        const tags = [];\n        let pos = off + 10;\n        for (let i = 0; i < ContentDescriptionObjectState.contentDescTags.length; ++i) {\n            const length = buf.readUInt16LE(off + i * 2);\n            if (length > 0) {\n                const tagName = ContentDescriptionObjectState.contentDescTags[i];\n                const end = pos + length;\n                tags.push({ id: tagName, value: AsfUtil_1.AsfUtil.parseUnicodeAttr(buf.slice(pos, end)) });\n                pos = end;\n            }\n        }\n        return tags;\n    }\n}\nContentDescriptionObjectState.guid = GUID_1.default.ContentDescriptionObject;\nContentDescriptionObjectState.contentDescTags = ['Title', 'Author', 'Copyright', 'Description', 'Rating'];\nexports.ContentDescriptionObjectState = ContentDescriptionObjectState;\n/**\n * 3.11 Extended Content Description Object (optional, one only)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_11\n */\nclass ExtendedContentDescriptionObjectState extends State {\n    constructor(header) {\n        super(header);\n    }\n    get(buf, off) {\n        const tags = [];\n        const attrCount = buf.readUInt16LE(off);\n        let pos = off + 2;\n        for (let i = 0; i < attrCount; i += 1) {\n            const nameLen = buf.readUInt16LE(pos);\n            pos += 2;\n            const name = AsfUtil_1.AsfUtil.parseUnicodeAttr(buf.slice(pos, pos + nameLen));\n            pos += nameLen;\n            const valueType = buf.readUInt16LE(pos);\n            pos += 2;\n            const valueLen = buf.readUInt16LE(pos);\n            pos += 2;\n            const value = buf.slice(pos, pos + valueLen);\n            pos += valueLen;\n            this.postProcessTag(tags, name, valueType, value);\n        }\n        return tags;\n    }\n}\nExtendedContentDescriptionObjectState.guid = GUID_1.default.ExtendedContentDescriptionObject;\nexports.ExtendedContentDescriptionObjectState = ExtendedContentDescriptionObjectState;\n/**\n * 4.1 Extended Stream Properties Object (optional, 1 per media stream)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/04_objects_in_the_asf_header_extension_object.html#4_1\n */\nclass ExtendedStreamPropertiesObjectState extends State {\n    constructor(header) {\n        super(header);\n    }\n    get(buf, off) {\n        return {\n            startTime: Token.UINT64_LE.get(buf, off),\n            endTime: Token.UINT64_LE.get(buf, off + 8),\n            dataBitrate: buf.readInt32LE(off + 12),\n            bufferSize: buf.readInt32LE(off + 16),\n            initialBufferFullness: buf.readInt32LE(off + 20),\n            alternateDataBitrate: buf.readInt32LE(off + 24),\n            alternateBufferSize: buf.readInt32LE(off + 28),\n            alternateInitialBufferFullness: buf.readInt32LE(off + 32),\n            maximumObjectSize: buf.readInt32LE(off + 36),\n            flags: {\n                reliableFlag: util.getBit(buf, off + 40, 0),\n                seekableFlag: util.getBit(buf, off + 40, 1),\n                resendLiveCleanpointsFlag: util.getBit(buf, off + 40, 2)\n            },\n            // flagsNumeric: Token.UINT32_LE.get(buf, off + 64),\n            streamNumber: buf.readInt16LE(off + 42),\n            streamLanguageId: buf.readInt16LE(off + 44),\n            averageTimePerFrame: buf.readInt32LE(off + 52),\n            streamNameCount: buf.readInt32LE(off + 54),\n            payloadExtensionSystems: buf.readInt32LE(off + 56),\n            streamNames: [],\n            streamPropertiesObject: null\n        };\n    }\n}\nExtendedStreamPropertiesObjectState.guid = GUID_1.default.ExtendedStreamPropertiesObject;\nexports.ExtendedStreamPropertiesObjectState = ExtendedStreamPropertiesObjectState;\n/**\n * 4.7  Metadata Object (optional, 0 or 1)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/04_objects_in_the_asf_header_extension_object.html#4_7\n */\nclass MetadataObjectState extends State {\n    constructor(header) {\n        super(header);\n    }\n    get(uint8Array, off) {\n        const tags = [];\n        const buf = Buffer.from(uint8Array);\n        const descriptionRecordsCount = buf.readUInt16LE(off);\n        let pos = off + 2;\n        for (let i = 0; i < descriptionRecordsCount; i += 1) {\n            pos += 4;\n            const nameLen = buf.readUInt16LE(pos);\n            pos += 2;\n            const dataType = buf.readUInt16LE(pos);\n            pos += 2;\n            const dataLen = buf.readUInt32LE(pos);\n            pos += 4;\n            const name = AsfUtil_1.AsfUtil.parseUnicodeAttr(buf.slice(pos, pos + nameLen));\n            pos += nameLen;\n            const data = buf.slice(pos, pos + dataLen);\n            pos += dataLen;\n            this.postProcessTag(tags, name, dataType, data);\n        }\n        return tags;\n    }\n}\nMetadataObjectState.guid = GUID_1.default.MetadataObject;\nexports.MetadataObjectState = MetadataObjectState;\n// 4.8\tMetadata Library Object (optional, 0 or 1)\nclass MetadataLibraryObjectState extends MetadataObjectState {\n    constructor(header) {\n        super(header);\n    }\n}\nMetadataLibraryObjectState.guid = GUID_1.default.MetadataLibraryObject;\nexports.MetadataLibraryObjectState = MetadataLibraryObjectState;\n/**\n * Ref: https://msdn.microsoft.com/en-us/library/windows/desktop/dd757977(v=vs.85).aspx\n */\nclass WmPictureToken {\n    static fromBase64(base64str) {\n        return this.fromBuffer(Buffer.from(base64str, 'base64'));\n    }\n    static fromBuffer(buffer) {\n        const pic = new WmPictureToken(buffer.length);\n        return pic.get(buffer, 0);\n    }\n    constructor(len) {\n        this.len = len;\n    }\n    get(buffer, offset) {\n        const typeId = buffer.readUInt8(offset++);\n        const size = buffer.readInt32LE(offset);\n        let index = 5;\n        while (buffer.readUInt16BE(index) !== 0) {\n            index += 2;\n        }\n        const format = buffer.slice(5, index).toString('utf16le');\n        while (buffer.readUInt16BE(index) !== 0) {\n            index += 2;\n        }\n        const description = buffer.slice(5, index).toString('utf16le');\n        return {\n            type: ID3v2Token_1.AttachedPictureType[typeId],\n            format,\n            description,\n            size,\n            data: buffer.slice(index + 4)\n        };\n    }\n}\nexports.WmPictureToken = WmPictureToken;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FzZi9Bc2ZPYmplY3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQkFBc0IsR0FBRyxrQ0FBa0MsR0FBRywyQkFBMkIsR0FBRywyQ0FBMkMsR0FBRyw2Q0FBNkMsR0FBRyxxQ0FBcUMsR0FBRyx3QkFBd0IsR0FBRyw2QkFBNkIsR0FBRyw4QkFBOEIsR0FBRyw0QkFBNEIsR0FBRyx5QkFBeUIsR0FBRyxhQUFhLEdBQUcseUJBQXlCLEdBQUcsaUNBQWlDLEdBQUcsZ0JBQWdCO0FBQ3pkLGFBQWEsbUJBQU8sQ0FBQyw4RUFBZ0I7QUFDckMsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLGVBQWUsbUJBQU8sQ0FBQyxtRUFBUTtBQUMvQixrQkFBa0IsbUJBQU8sQ0FBQyx5RUFBVztBQUNyQyxxQkFBcUIsbUJBQU8sQ0FBQyx3RkFBcUI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0NBQWtDLGdCQUFnQixLQUFLO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixrREFBa0Q7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtDQUFrQztBQUMxRDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0QkFBNEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMERBQTBEO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZFQUE2RTtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZCQUE2QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvYXNmL0FzZk9iamVjdC5qcz83ZTE1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLy8gQVNGIE9iamVjdHNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV21QaWN0dXJlVG9rZW4gPSBleHBvcnRzLk1ldGFkYXRhTGlicmFyeU9iamVjdFN0YXRlID0gZXhwb3J0cy5NZXRhZGF0YU9iamVjdFN0YXRlID0gZXhwb3J0cy5FeHRlbmRlZFN0cmVhbVByb3BlcnRpZXNPYmplY3RTdGF0ZSA9IGV4cG9ydHMuRXh0ZW5kZWRDb250ZW50RGVzY3JpcHRpb25PYmplY3RTdGF0ZSA9IGV4cG9ydHMuQ29udGVudERlc2NyaXB0aW9uT2JqZWN0U3RhdGUgPSBleHBvcnRzLnJlYWRDb2RlY0VudHJpZXMgPSBleHBvcnRzLkhlYWRlckV4dGVuc2lvbk9iamVjdCA9IGV4cG9ydHMuU3RyZWFtUHJvcGVydGllc09iamVjdCA9IGV4cG9ydHMuRmlsZVByb3BlcnRpZXNPYmplY3QgPSBleHBvcnRzLklnbm9yZU9iamVjdFN0YXRlID0gZXhwb3J0cy5TdGF0ZSA9IGV4cG9ydHMuSGVhZGVyT2JqZWN0VG9rZW4gPSBleHBvcnRzLlRvcExldmVsSGVhZGVyT2JqZWN0VG9rZW4gPSBleHBvcnRzLkRhdGFUeXBlID0gdm9pZCAwO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCIuLi9jb21tb24vVXRpbFwiKTtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY29uc3QgR1VJRF8xID0gcmVxdWlyZShcIi4vR1VJRFwiKTtcbmNvbnN0IEFzZlV0aWxfMSA9IHJlcXVpcmUoXCIuL0FzZlV0aWxcIik7XG5jb25zdCBJRDN2MlRva2VuXzEgPSByZXF1aXJlKFwiLi4vaWQzdjIvSUQzdjJUb2tlblwiKTtcbi8qKlxuICogRGF0YSBUeXBlOiBTcGVjaWZpZXMgdGhlIHR5cGUgb2YgaW5mb3JtYXRpb24gYmVpbmcgc3RvcmVkLiBUaGUgZm9sbG93aW5nIHZhbHVlcyBhcmUgcmVjb2duaXplZC5cbiAqL1xudmFyIERhdGFUeXBlO1xuKGZ1bmN0aW9uIChEYXRhVHlwZSkge1xuICAgIC8qKlxuICAgICAqIFVuaWNvZGUgc3RyaW5nLiBUaGUgZGF0YSBjb25zaXN0cyBvZiBhIHNlcXVlbmNlIG9mIFVuaWNvZGUgY2hhcmFjdGVycy5cbiAgICAgKi9cbiAgICBEYXRhVHlwZVtEYXRhVHlwZVtcIlVuaWNvZGVTdHJpbmdcIl0gPSAwXSA9IFwiVW5pY29kZVN0cmluZ1wiO1xuICAgIC8qKlxuICAgICAqIEJZVEUgYXJyYXkuIFRoZSB0eXBlIG9mIGRhdGEgaXMgaW1wbGVtZW50YXRpb24tc3BlY2lmaWMuXG4gICAgICovXG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJCeXRlQXJyYXlcIl0gPSAxXSA9IFwiQnl0ZUFycmF5XCI7XG4gICAgLyoqXG4gICAgICogQk9PTC4gVGhlIGRhdGEgaXMgMiBieXRlcyBsb25nIGFuZCBzaG91bGQgYmUgaW50ZXJwcmV0ZWQgYXMgYSAxNi1iaXQgdW5zaWduZWQgaW50ZWdlci4gT25seSAweDAwMDAgb3IgMHgwMDAxIGFyZSBwZXJtaXR0ZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1wiQm9vbFwiXSA9IDJdID0gXCJCb29sXCI7XG4gICAgLyoqXG4gICAgICogRFdPUkQuIFRoZSBkYXRhIGlzIDQgYnl0ZXMgbG9uZyBhbmQgc2hvdWxkIGJlIGludGVycHJldGVkIGFzIGEgMzItYml0IHVuc2lnbmVkIGludGVnZXIuXG4gICAgICovXG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJEV29yZFwiXSA9IDNdID0gXCJEV29yZFwiO1xuICAgIC8qKlxuICAgICAqIFFXT1JELiBUaGUgZGF0YSBpcyA4IGJ5dGVzIGxvbmcgYW5kIHNob3VsZCBiZSBpbnRlcnByZXRlZCBhcyBhIDY0LWJpdCB1bnNpZ25lZCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1wiUVdvcmRcIl0gPSA0XSA9IFwiUVdvcmRcIjtcbiAgICAvKipcbiAgICAgKiBXT1JELiBUaGUgZGF0YSBpcyAyIGJ5dGVzIGxvbmcgYW5kIHNob3VsZCBiZSBpbnRlcnByZXRlZCBhcyBhIDE2LWJpdCB1bnNpZ25lZCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1wiV29yZFwiXSA9IDVdID0gXCJXb3JkXCI7XG59KShEYXRhVHlwZSA9IGV4cG9ydHMuRGF0YVR5cGUgfHwgKGV4cG9ydHMuRGF0YVR5cGUgPSB7fSkpO1xuLyoqXG4gKiBUb2tlbiBmb3I6IDMuIEFTRiB0b3AtbGV2ZWwgSGVhZGVyIE9iamVjdFxuICogUmVmOiBodHRwOi8vZHJhbmcuczQueHJlYS5jb20vcHJvZ3JhbS90aXBzL2lkM3RhZy93bXAvMDNfYXNmX3RvcF9sZXZlbF9oZWFkZXJfb2JqZWN0Lmh0bWwjM1xuICovXG5leHBvcnRzLlRvcExldmVsSGVhZGVyT2JqZWN0VG9rZW4gPSB7XG4gICAgbGVuOiAzMCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2JqZWN0SWQ6IEdVSURfMS5kZWZhdWx0LmZyb21CaW4obmV3IFRva2VuLkJ1ZmZlclR5cGUoMTYpLmdldChidWYsIG9mZikpLFxuICAgICAgICAgICAgb2JqZWN0U2l6ZTogTnVtYmVyKFRva2VuLlVJTlQ2NF9MRS5nZXQoYnVmLCBvZmYgKyAxNikpLFxuICAgICAgICAgICAgbnVtYmVyT2ZIZWFkZXJPYmplY3RzOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMjQpXG4gICAgICAgICAgICAvLyBSZXNlcnZlZDogMiBieXRlc1xuICAgICAgICB9O1xuICAgIH1cbn07XG4vKipcbiAqIFRva2VuIGZvcjogMy4xIEhlYWRlciBPYmplY3QgKG1hbmRhdG9yeSwgb25lIG9ubHkpXG4gKiBSZWY6IGh0dHA6Ly9kcmFuZy5zNC54cmVhLmNvbS9wcm9ncmFtL3RpcHMvaWQzdGFnL3dtcC8wM19hc2ZfdG9wX2xldmVsX2hlYWRlcl9vYmplY3QuaHRtbCMzXzFcbiAqL1xuZXhwb3J0cy5IZWFkZXJPYmplY3RUb2tlbiA9IHtcbiAgICBsZW46IDI0LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvYmplY3RJZDogR1VJRF8xLmRlZmF1bHQuZnJvbUJpbihuZXcgVG9rZW4uQnVmZmVyVHlwZSgxNikuZ2V0KGJ1Ziwgb2ZmKSksXG4gICAgICAgICAgICBvYmplY3RTaXplOiBOdW1iZXIoVG9rZW4uVUlOVDY0X0xFLmdldChidWYsIG9mZiArIDE2KSlcbiAgICAgICAgfTtcbiAgICB9XG59O1xuY2xhc3MgU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKGhlYWRlcikge1xuICAgICAgICB0aGlzLmxlbiA9IE51bWJlcihoZWFkZXIub2JqZWN0U2l6ZSkgLSBleHBvcnRzLkhlYWRlck9iamVjdFRva2VuLmxlbjtcbiAgICB9XG4gICAgcG9zdFByb2Nlc3NUYWcodGFncywgbmFtZSwgdmFsdWVUeXBlLCBkYXRhKSB7XG4gICAgICAgIGlmIChuYW1lID09PSAnV00vUGljdHVyZScpIHtcbiAgICAgICAgICAgIHRhZ3MucHVzaCh7IGlkOiBuYW1lLCB2YWx1ZTogV21QaWN0dXJlVG9rZW4uZnJvbUJ1ZmZlcihkYXRhKSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlQXR0ciA9IEFzZlV0aWxfMS5Bc2ZVdGlsLmdldFBhcnNlckZvckF0dHIodmFsdWVUeXBlKTtcbiAgICAgICAgICAgIGlmICghcGFyc2VBdHRyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkIHZhbHVlIGhlYWRlclR5cGU6ICcgKyB2YWx1ZVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFncy5wdXNoKHsgaWQ6IG5hbWUsIHZhbHVlOiBwYXJzZUF0dHIoZGF0YSkgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlN0YXRlID0gU3RhdGU7XG4vLyBUb0RvOiB1c2UgaWdub3JlIHR5cGVcbmNsYXNzIElnbm9yZU9iamVjdFN0YXRlIGV4dGVuZHMgU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKGhlYWRlcikge1xuICAgICAgICBzdXBlcihoZWFkZXIpO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZXhwb3J0cy5JZ25vcmVPYmplY3RTdGF0ZSA9IElnbm9yZU9iamVjdFN0YXRlO1xuLyoqXG4gKiBUb2tlbiBmb3I6IDMuMjogRmlsZSBQcm9wZXJ0aWVzIE9iamVjdCAobWFuZGF0b3J5LCBvbmUgb25seSlcbiAqIFJlZjogaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wLzAzX2FzZl90b3BfbGV2ZWxfaGVhZGVyX29iamVjdC5odG1sIzNfMlxuICovXG5jbGFzcyBGaWxlUHJvcGVydGllc09iamVjdCBleHRlbmRzIFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihoZWFkZXIpIHtcbiAgICAgICAgc3VwZXIoaGVhZGVyKTtcbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWxlSWQ6IEdVSURfMS5kZWZhdWx0LmZyb21CaW4oYnVmLCBvZmYpLFxuICAgICAgICAgICAgZmlsZVNpemU6IFRva2VuLlVJTlQ2NF9MRS5nZXQoYnVmLCBvZmYgKyAxNiksXG4gICAgICAgICAgICBjcmVhdGlvbkRhdGU6IFRva2VuLlVJTlQ2NF9MRS5nZXQoYnVmLCBvZmYgKyAyNCksXG4gICAgICAgICAgICBkYXRhUGFja2V0c0NvdW50OiBUb2tlbi5VSU5UNjRfTEUuZ2V0KGJ1Ziwgb2ZmICsgMzIpLFxuICAgICAgICAgICAgcGxheUR1cmF0aW9uOiBUb2tlbi5VSU5UNjRfTEUuZ2V0KGJ1Ziwgb2ZmICsgNDApLFxuICAgICAgICAgICAgc2VuZER1cmF0aW9uOiBUb2tlbi5VSU5UNjRfTEUuZ2V0KGJ1Ziwgb2ZmICsgNDgpLFxuICAgICAgICAgICAgcHJlcm9sbDogVG9rZW4uVUlOVDY0X0xFLmdldChidWYsIG9mZiArIDU2KSxcbiAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgYnJvYWRjYXN0OiB1dGlsLmdldEJpdChidWYsIG9mZiArIDY0LCAyNCksXG4gICAgICAgICAgICAgICAgc2Vla2FibGU6IHV0aWwuZ2V0Qml0KGJ1Ziwgb2ZmICsgNjQsIDI1KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGZsYWdzTnVtZXJpYzogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDY0KSxcbiAgICAgICAgICAgIG1pbmltdW1EYXRhUGFja2V0U2l6ZTogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDY4KSxcbiAgICAgICAgICAgIG1heGltdW1EYXRhUGFja2V0U2l6ZTogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDcyKSxcbiAgICAgICAgICAgIG1heGltdW1CaXRyYXRlOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNzYpXG4gICAgICAgIH07XG4gICAgfVxufVxuRmlsZVByb3BlcnRpZXNPYmplY3QuZ3VpZCA9IEdVSURfMS5kZWZhdWx0LkZpbGVQcm9wZXJ0aWVzT2JqZWN0O1xuZXhwb3J0cy5GaWxlUHJvcGVydGllc09iamVjdCA9IEZpbGVQcm9wZXJ0aWVzT2JqZWN0O1xuLyoqXG4gKiBUb2tlbiBmb3I6IDMuMyBTdHJlYW0gUHJvcGVydGllcyBPYmplY3QgKG1hbmRhdG9yeSwgb25lIHBlciBzdHJlYW0pXG4gKiBSZWY6IGh0dHA6Ly9kcmFuZy5zNC54cmVhLmNvbS9wcm9ncmFtL3RpcHMvaWQzdGFnL3dtcC8wM19hc2ZfdG9wX2xldmVsX2hlYWRlcl9vYmplY3QuaHRtbCMzXzNcbiAqL1xuY2xhc3MgU3RyZWFtUHJvcGVydGllc09iamVjdCBleHRlbmRzIFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihoZWFkZXIpIHtcbiAgICAgICAgc3VwZXIoaGVhZGVyKTtcbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdHJlYW1UeXBlOiBHVUlEXzEuZGVmYXVsdC5kZWNvZGVNZWRpYVR5cGUoR1VJRF8xLmRlZmF1bHQuZnJvbUJpbihidWYsIG9mZikpLFxuICAgICAgICAgICAgZXJyb3JDb3JyZWN0aW9uVHlwZTogR1VJRF8xLmRlZmF1bHQuZnJvbUJpbihidWYsIG9mZiArIDgpXG4gICAgICAgICAgICAvLyBUb0RvXG4gICAgICAgIH07XG4gICAgfVxufVxuU3RyZWFtUHJvcGVydGllc09iamVjdC5ndWlkID0gR1VJRF8xLmRlZmF1bHQuU3RyZWFtUHJvcGVydGllc09iamVjdDtcbmV4cG9ydHMuU3RyZWFtUHJvcGVydGllc09iamVjdCA9IFN0cmVhbVByb3BlcnRpZXNPYmplY3Q7XG4vKipcbiAqIDMuNDogSGVhZGVyIEV4dGVuc2lvbiBPYmplY3QgKG1hbmRhdG9yeSwgb25lIG9ubHkpXG4gKiBSZWY6IGh0dHA6Ly9kcmFuZy5zNC54cmVhLmNvbS9wcm9ncmFtL3RpcHMvaWQzdGFnL3dtcC8wM19hc2ZfdG9wX2xldmVsX2hlYWRlcl9vYmplY3QuaHRtbCMzXzRcbiAqL1xuY2xhc3MgSGVhZGVyRXh0ZW5zaW9uT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5sZW4gPSAyMjtcbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXNlcnZlZDE6IEdVSURfMS5kZWZhdWx0LmZyb21CaW4oYnVmLCBvZmYpLFxuICAgICAgICAgICAgcmVzZXJ2ZWQyOiBidWYucmVhZFVJbnQxNkxFKG9mZiArIDE2KSxcbiAgICAgICAgICAgIGV4dGVuc2lvbkRhdGFTaXplOiBidWYucmVhZFVJbnQzMkxFKG9mZiArIDE4KVxuICAgICAgICB9O1xuICAgIH1cbn1cbkhlYWRlckV4dGVuc2lvbk9iamVjdC5ndWlkID0gR1VJRF8xLmRlZmF1bHQuSGVhZGVyRXh0ZW5zaW9uT2JqZWN0O1xuZXhwb3J0cy5IZWFkZXJFeHRlbnNpb25PYmplY3QgPSBIZWFkZXJFeHRlbnNpb25PYmplY3Q7XG4vKipcbiAqIDMuNTogVGhlIENvZGVjIExpc3QgT2JqZWN0IHByb3ZpZGVzIHVzZXItZnJpZW5kbHkgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvZGVjcyBhbmQgZm9ybWF0cyB1c2VkIHRvIGVuY29kZSB0aGUgY29udGVudCBmb3VuZCBpbiB0aGUgQVNGIGZpbGUuXG4gKiBSZWY6IGh0dHA6Ly9kcmFuZy5zNC54cmVhLmNvbS9wcm9ncmFtL3RpcHMvaWQzdGFnL3dtcC8wM19hc2ZfdG9wX2xldmVsX2hlYWRlcl9vYmplY3QuaHRtbCMzXzVcbiAqL1xuY29uc3QgQ29kZWNMaXN0T2JqZWN0SGVhZGVyID0ge1xuICAgIGxlbjogMjAsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVudHJ5Q291bnQ6IGJ1Zi5yZWFkVUludDE2TEUob2ZmICsgMTYpXG4gICAgICAgIH07XG4gICAgfVxufTtcbmFzeW5jIGZ1bmN0aW9uIHJlYWRTdHJpbmcodG9rZW5pemVyKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gYXdhaXQgdG9rZW5pemVyLnJlYWROdW1iZXIoVG9rZW4uVUlOVDE2X0xFKTtcbiAgICByZXR1cm4gKGF3YWl0IHRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLlN0cmluZ1R5cGUobGVuZ3RoICogMiwgJ3V0ZjE2bGUnKSkpLnJlcGxhY2UoJ1xcMCcsICcnKTtcbn1cbi8qKlxuICogMy41OiBSZWFkIHRoZSBDb2RlYy1MaXN0LU9iamVjdCwgd2hpY2ggcHJvdmlkZXMgdXNlci1mcmllbmRseSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29kZWNzIGFuZCBmb3JtYXRzIHVzZWQgdG8gZW5jb2RlIHRoZSBjb250ZW50IGZvdW5kIGluIHRoZSBBU0YgZmlsZS5cbiAqIFJlZjogaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wLzAzX2FzZl90b3BfbGV2ZWxfaGVhZGVyX29iamVjdC5odG1sIzNfNVxuICovXG5hc3luYyBmdW5jdGlvbiByZWFkQ29kZWNFbnRyaWVzKHRva2VuaXplcikge1xuICAgIGNvbnN0IGNvZGVjSGVhZGVyID0gYXdhaXQgdG9rZW5pemVyLnJlYWRUb2tlbihDb2RlY0xpc3RPYmplY3RIZWFkZXIpO1xuICAgIGNvbnN0IGVudHJpZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVjSGVhZGVyLmVudHJ5Q291bnQ7ICsraSkge1xuICAgICAgICBlbnRyaWVzLnB1c2goYXdhaXQgcmVhZENvZGVjRW50cnkodG9rZW5pemVyKSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufVxuZXhwb3J0cy5yZWFkQ29kZWNFbnRyaWVzID0gcmVhZENvZGVjRW50cmllcztcbmFzeW5jIGZ1bmN0aW9uIHJlYWRJbmZvcm1hdGlvbih0b2tlbml6ZXIpIHtcbiAgICBjb25zdCBsZW5ndGggPSBhd2FpdCB0b2tlbml6ZXIucmVhZE51bWJlcihUb2tlbi5VSU5UMTZfTEUpO1xuICAgIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5hbGxvYyhsZW5ndGgpO1xuICAgIGF3YWl0IHRva2VuaXplci5yZWFkQnVmZmVyKGJ1Zik7XG4gICAgcmV0dXJuIGJ1Zjtcbn1cbi8qKlxuICogUmVhZCBDb2RlYy1FbnRyaWVzXG4gKiBAcGFyYW0gdG9rZW5pemVyXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJlYWRDb2RlY0VudHJ5KHRva2VuaXplcikge1xuICAgIGNvbnN0IHR5cGUgPSBhd2FpdCB0b2tlbml6ZXIucmVhZE51bWJlcihUb2tlbi5VSU5UMTZfTEUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHtcbiAgICAgICAgICAgIHZpZGVvQ29kZWM6ICh0eXBlICYgMHgwMDAxKSA9PT0gMHgwMDAxLFxuICAgICAgICAgICAgYXVkaW9Db2RlYzogKHR5cGUgJiAweDAwMDIpID09PSAweDAwMDJcbiAgICAgICAgfSxcbiAgICAgICAgY29kZWNOYW1lOiBhd2FpdCByZWFkU3RyaW5nKHRva2VuaXplciksXG4gICAgICAgIGRlc2NyaXB0aW9uOiBhd2FpdCByZWFkU3RyaW5nKHRva2VuaXplciksXG4gICAgICAgIGluZm9ybWF0aW9uOiBhd2FpdCByZWFkSW5mb3JtYXRpb24odG9rZW5pemVyKVxuICAgIH07XG59XG4vKipcbiAqIDMuMTAgQ29udGVudCBEZXNjcmlwdGlvbiBPYmplY3QgKG9wdGlvbmFsLCBvbmUgb25seSlcbiAqIFJlZjogaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wLzAzX2FzZl90b3BfbGV2ZWxfaGVhZGVyX29iamVjdC5odG1sIzNfMTBcbiAqL1xuY2xhc3MgQ29udGVudERlc2NyaXB0aW9uT2JqZWN0U3RhdGUgZXh0ZW5kcyBTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaGVhZGVyKSB7XG4gICAgICAgIHN1cGVyKGhlYWRlcik7XG4gICAgfVxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICBjb25zdCB0YWdzID0gW107XG4gICAgICAgIGxldCBwb3MgPSBvZmYgKyAxMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDb250ZW50RGVzY3JpcHRpb25PYmplY3RTdGF0ZS5jb250ZW50RGVzY1RhZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGJ1Zi5yZWFkVUludDE2TEUob2ZmICsgaSAqIDIpO1xuICAgICAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YWdOYW1lID0gQ29udGVudERlc2NyaXB0aW9uT2JqZWN0U3RhdGUuY29udGVudERlc2NUYWdzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IHBvcyArIGxlbmd0aDtcbiAgICAgICAgICAgICAgICB0YWdzLnB1c2goeyBpZDogdGFnTmFtZSwgdmFsdWU6IEFzZlV0aWxfMS5Bc2ZVdGlsLnBhcnNlVW5pY29kZUF0dHIoYnVmLnNsaWNlKHBvcywgZW5kKSkgfSk7XG4gICAgICAgICAgICAgICAgcG9zID0gZW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YWdzO1xuICAgIH1cbn1cbkNvbnRlbnREZXNjcmlwdGlvbk9iamVjdFN0YXRlLmd1aWQgPSBHVUlEXzEuZGVmYXVsdC5Db250ZW50RGVzY3JpcHRpb25PYmplY3Q7XG5Db250ZW50RGVzY3JpcHRpb25PYmplY3RTdGF0ZS5jb250ZW50RGVzY1RhZ3MgPSBbJ1RpdGxlJywgJ0F1dGhvcicsICdDb3B5cmlnaHQnLCAnRGVzY3JpcHRpb24nLCAnUmF0aW5nJ107XG5leHBvcnRzLkNvbnRlbnREZXNjcmlwdGlvbk9iamVjdFN0YXRlID0gQ29udGVudERlc2NyaXB0aW9uT2JqZWN0U3RhdGU7XG4vKipcbiAqIDMuMTEgRXh0ZW5kZWQgQ29udGVudCBEZXNjcmlwdGlvbiBPYmplY3QgKG9wdGlvbmFsLCBvbmUgb25seSlcbiAqIFJlZjogaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wLzAzX2FzZl90b3BfbGV2ZWxfaGVhZGVyX29iamVjdC5odG1sIzNfMTFcbiAqL1xuY2xhc3MgRXh0ZW5kZWRDb250ZW50RGVzY3JpcHRpb25PYmplY3RTdGF0ZSBleHRlbmRzIFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihoZWFkZXIpIHtcbiAgICAgICAgc3VwZXIoaGVhZGVyKTtcbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIGNvbnN0IHRhZ3MgPSBbXTtcbiAgICAgICAgY29uc3QgYXR0ckNvdW50ID0gYnVmLnJlYWRVSW50MTZMRShvZmYpO1xuICAgICAgICBsZXQgcG9zID0gb2ZmICsgMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyQ291bnQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgbmFtZUxlbiA9IGJ1Zi5yZWFkVUludDE2TEUocG9zKTtcbiAgICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IEFzZlV0aWxfMS5Bc2ZVdGlsLnBhcnNlVW5pY29kZUF0dHIoYnVmLnNsaWNlKHBvcywgcG9zICsgbmFtZUxlbikpO1xuICAgICAgICAgICAgcG9zICs9IG5hbWVMZW47XG4gICAgICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSBidWYucmVhZFVJbnQxNkxFKHBvcyk7XG4gICAgICAgICAgICBwb3MgKz0gMjtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlTGVuID0gYnVmLnJlYWRVSW50MTZMRShwb3MpO1xuICAgICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGJ1Zi5zbGljZShwb3MsIHBvcyArIHZhbHVlTGVuKTtcbiAgICAgICAgICAgIHBvcyArPSB2YWx1ZUxlbjtcbiAgICAgICAgICAgIHRoaXMucG9zdFByb2Nlc3NUYWcodGFncywgbmFtZSwgdmFsdWVUeXBlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhZ3M7XG4gICAgfVxufVxuRXh0ZW5kZWRDb250ZW50RGVzY3JpcHRpb25PYmplY3RTdGF0ZS5ndWlkID0gR1VJRF8xLmRlZmF1bHQuRXh0ZW5kZWRDb250ZW50RGVzY3JpcHRpb25PYmplY3Q7XG5leHBvcnRzLkV4dGVuZGVkQ29udGVudERlc2NyaXB0aW9uT2JqZWN0U3RhdGUgPSBFeHRlbmRlZENvbnRlbnREZXNjcmlwdGlvbk9iamVjdFN0YXRlO1xuLyoqXG4gKiA0LjEgRXh0ZW5kZWQgU3RyZWFtIFByb3BlcnRpZXMgT2JqZWN0IChvcHRpb25hbCwgMSBwZXIgbWVkaWEgc3RyZWFtKVxuICogUmVmOiBodHRwOi8vZHJhbmcuczQueHJlYS5jb20vcHJvZ3JhbS90aXBzL2lkM3RhZy93bXAvMDRfb2JqZWN0c19pbl90aGVfYXNmX2hlYWRlcl9leHRlbnNpb25fb2JqZWN0Lmh0bWwjNF8xXG4gKi9cbmNsYXNzIEV4dGVuZGVkU3RyZWFtUHJvcGVydGllc09iamVjdFN0YXRlIGV4dGVuZHMgU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKGhlYWRlcikge1xuICAgICAgICBzdXBlcihoZWFkZXIpO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0VGltZTogVG9rZW4uVUlOVDY0X0xFLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICBlbmRUaW1lOiBUb2tlbi5VSU5UNjRfTEUuZ2V0KGJ1Ziwgb2ZmICsgOCksXG4gICAgICAgICAgICBkYXRhQml0cmF0ZTogYnVmLnJlYWRJbnQzMkxFKG9mZiArIDEyKSxcbiAgICAgICAgICAgIGJ1ZmZlclNpemU6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyAxNiksXG4gICAgICAgICAgICBpbml0aWFsQnVmZmVyRnVsbG5lc3M6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyAyMCksXG4gICAgICAgICAgICBhbHRlcm5hdGVEYXRhQml0cmF0ZTogYnVmLnJlYWRJbnQzMkxFKG9mZiArIDI0KSxcbiAgICAgICAgICAgIGFsdGVybmF0ZUJ1ZmZlclNpemU6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyAyOCksXG4gICAgICAgICAgICBhbHRlcm5hdGVJbml0aWFsQnVmZmVyRnVsbG5lc3M6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyAzMiksXG4gICAgICAgICAgICBtYXhpbXVtT2JqZWN0U2l6ZTogYnVmLnJlYWRJbnQzMkxFKG9mZiArIDM2KSxcbiAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgcmVsaWFibGVGbGFnOiB1dGlsLmdldEJpdChidWYsIG9mZiArIDQwLCAwKSxcbiAgICAgICAgICAgICAgICBzZWVrYWJsZUZsYWc6IHV0aWwuZ2V0Qml0KGJ1Ziwgb2ZmICsgNDAsIDEpLFxuICAgICAgICAgICAgICAgIHJlc2VuZExpdmVDbGVhbnBvaW50c0ZsYWc6IHV0aWwuZ2V0Qml0KGJ1Ziwgb2ZmICsgNDAsIDIpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZmxhZ3NOdW1lcmljOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNjQpLFxuICAgICAgICAgICAgc3RyZWFtTnVtYmVyOiBidWYucmVhZEludDE2TEUob2ZmICsgNDIpLFxuICAgICAgICAgICAgc3RyZWFtTGFuZ3VhZ2VJZDogYnVmLnJlYWRJbnQxNkxFKG9mZiArIDQ0KSxcbiAgICAgICAgICAgIGF2ZXJhZ2VUaW1lUGVyRnJhbWU6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyA1MiksXG4gICAgICAgICAgICBzdHJlYW1OYW1lQ291bnQ6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyA1NCksXG4gICAgICAgICAgICBwYXlsb2FkRXh0ZW5zaW9uU3lzdGVtczogYnVmLnJlYWRJbnQzMkxFKG9mZiArIDU2KSxcbiAgICAgICAgICAgIHN0cmVhbU5hbWVzOiBbXSxcbiAgICAgICAgICAgIHN0cmVhbVByb3BlcnRpZXNPYmplY3Q6IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG59XG5FeHRlbmRlZFN0cmVhbVByb3BlcnRpZXNPYmplY3RTdGF0ZS5ndWlkID0gR1VJRF8xLmRlZmF1bHQuRXh0ZW5kZWRTdHJlYW1Qcm9wZXJ0aWVzT2JqZWN0O1xuZXhwb3J0cy5FeHRlbmRlZFN0cmVhbVByb3BlcnRpZXNPYmplY3RTdGF0ZSA9IEV4dGVuZGVkU3RyZWFtUHJvcGVydGllc09iamVjdFN0YXRlO1xuLyoqXG4gKiA0LjcgIE1ldGFkYXRhIE9iamVjdCAob3B0aW9uYWwsIDAgb3IgMSlcbiAqIFJlZjogaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wLzA0X29iamVjdHNfaW5fdGhlX2FzZl9oZWFkZXJfZXh0ZW5zaW9uX29iamVjdC5odG1sIzRfN1xuICovXG5jbGFzcyBNZXRhZGF0YU9iamVjdFN0YXRlIGV4dGVuZHMgU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKGhlYWRlcikge1xuICAgICAgICBzdXBlcihoZWFkZXIpO1xuICAgIH1cbiAgICBnZXQodWludDhBcnJheSwgb2ZmKSB7XG4gICAgICAgIGNvbnN0IHRhZ3MgPSBbXTtcbiAgICAgICAgY29uc3QgYnVmID0gQnVmZmVyLmZyb20odWludDhBcnJheSk7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uUmVjb3Jkc0NvdW50ID0gYnVmLnJlYWRVSW50MTZMRShvZmYpO1xuICAgICAgICBsZXQgcG9zID0gb2ZmICsgMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXNjcmlwdGlvblJlY29yZHNDb3VudDsgaSArPSAxKSB7XG4gICAgICAgICAgICBwb3MgKz0gNDtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVMZW4gPSBidWYucmVhZFVJbnQxNkxFKHBvcyk7XG4gICAgICAgICAgICBwb3MgKz0gMjtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFUeXBlID0gYnVmLnJlYWRVSW50MTZMRShwb3MpO1xuICAgICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgICBjb25zdCBkYXRhTGVuID0gYnVmLnJlYWRVSW50MzJMRShwb3MpO1xuICAgICAgICAgICAgcG9zICs9IDQ7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gQXNmVXRpbF8xLkFzZlV0aWwucGFyc2VVbmljb2RlQXR0cihidWYuc2xpY2UocG9zLCBwb3MgKyBuYW1lTGVuKSk7XG4gICAgICAgICAgICBwb3MgKz0gbmFtZUxlbjtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBidWYuc2xpY2UocG9zLCBwb3MgKyBkYXRhTGVuKTtcbiAgICAgICAgICAgIHBvcyArPSBkYXRhTGVuO1xuICAgICAgICAgICAgdGhpcy5wb3N0UHJvY2Vzc1RhZyh0YWdzLCBuYW1lLCBkYXRhVHlwZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhZ3M7XG4gICAgfVxufVxuTWV0YWRhdGFPYmplY3RTdGF0ZS5ndWlkID0gR1VJRF8xLmRlZmF1bHQuTWV0YWRhdGFPYmplY3Q7XG5leHBvcnRzLk1ldGFkYXRhT2JqZWN0U3RhdGUgPSBNZXRhZGF0YU9iamVjdFN0YXRlO1xuLy8gNC44XHRNZXRhZGF0YSBMaWJyYXJ5IE9iamVjdCAob3B0aW9uYWwsIDAgb3IgMSlcbmNsYXNzIE1ldGFkYXRhTGlicmFyeU9iamVjdFN0YXRlIGV4dGVuZHMgTWV0YWRhdGFPYmplY3RTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoaGVhZGVyKSB7XG4gICAgICAgIHN1cGVyKGhlYWRlcik7XG4gICAgfVxufVxuTWV0YWRhdGFMaWJyYXJ5T2JqZWN0U3RhdGUuZ3VpZCA9IEdVSURfMS5kZWZhdWx0Lk1ldGFkYXRhTGlicmFyeU9iamVjdDtcbmV4cG9ydHMuTWV0YWRhdGFMaWJyYXJ5T2JqZWN0U3RhdGUgPSBNZXRhZGF0YUxpYnJhcnlPYmplY3RTdGF0ZTtcbi8qKlxuICogUmVmOiBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3dpbmRvd3MvZGVza3RvcC9kZDc1Nzk3Nyh2PXZzLjg1KS5hc3B4XG4gKi9cbmNsYXNzIFdtUGljdHVyZVRva2VuIHtcbiAgICBzdGF0aWMgZnJvbUJhc2U2NChiYXNlNjRzdHIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUJ1ZmZlcihCdWZmZXIuZnJvbShiYXNlNjRzdHIsICdiYXNlNjQnKSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tQnVmZmVyKGJ1ZmZlcikge1xuICAgICAgICBjb25zdCBwaWMgPSBuZXcgV21QaWN0dXJlVG9rZW4oYnVmZmVyLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBwaWMuZ2V0KGJ1ZmZlciwgMCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGxlbikge1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICB9XG4gICAgZ2V0KGJ1ZmZlciwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHR5cGVJZCA9IGJ1ZmZlci5yZWFkVUludDgob2Zmc2V0KyspO1xuICAgICAgICBjb25zdCBzaXplID0gYnVmZmVyLnJlYWRJbnQzMkxFKG9mZnNldCk7XG4gICAgICAgIGxldCBpbmRleCA9IDU7XG4gICAgICAgIHdoaWxlIChidWZmZXIucmVhZFVJbnQxNkJFKGluZGV4KSAhPT0gMCkge1xuICAgICAgICAgICAgaW5kZXggKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb3JtYXQgPSBidWZmZXIuc2xpY2UoNSwgaW5kZXgpLnRvU3RyaW5nKCd1dGYxNmxlJyk7XG4gICAgICAgIHdoaWxlIChidWZmZXIucmVhZFVJbnQxNkJFKGluZGV4KSAhPT0gMCkge1xuICAgICAgICAgICAgaW5kZXggKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGJ1ZmZlci5zbGljZSg1LCBpbmRleCkudG9TdHJpbmcoJ3V0ZjE2bGUnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IElEM3YyVG9rZW5fMS5BdHRhY2hlZFBpY3R1cmVUeXBlW3R5cGVJZF0sXG4gICAgICAgICAgICBmb3JtYXQsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICBkYXRhOiBidWZmZXIuc2xpY2UoaW5kZXggKyA0KVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuV21QaWN0dXJlVG9rZW4gPSBXbVBpY3R1cmVUb2tlbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/asf/AsfObject.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/asf/AsfParser.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/asf/AsfParser.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.AsfParser = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst type_1 = __webpack_require__(/*! ../type */ \"(ssr)/./node_modules/music-metadata/lib/type.js\");\nconst GUID_1 = __webpack_require__(/*! ./GUID */ \"(ssr)/./node_modules/music-metadata/lib/asf/GUID.js\");\nconst AsfObject = __webpack_require__(/*! ./AsfObject */ \"(ssr)/./node_modules/music-metadata/lib/asf/AsfObject.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:ASF');\nconst headerType = 'asf';\n/**\n * Windows Media Metadata Usage Guidelines\n * - Ref: https://msdn.microsoft.com/en-us/library/ms867702.aspx\n *\n * Ref:\n * - https://tools.ietf.org/html/draft-fleischman-asf-01\n * - https://hwiegman.home.xs4all.nl/fileformats/asf/ASF_Specification.pdf\n * - http://drang.s4.xrea.com/program/tips/id3tag/wmp/index.html\n * - https://msdn.microsoft.com/en-us/library/windows/desktop/ee663575(v=vs.85).aspx\n */\nclass AsfParser extends BasicParser_1.BasicParser {\n    async parse() {\n        const header = await this.tokenizer.readToken(AsfObject.TopLevelHeaderObjectToken);\n        if (!header.objectId.equals(GUID_1.default.HeaderObject)) {\n            throw new Error('expected asf header; but was not found; got: ' + header.objectId.str);\n        }\n        try {\n            await this.parseObjectHeader(header.numberOfHeaderObjects);\n        }\n        catch (err) {\n            debug('Error while parsing ASF: %s', err);\n        }\n    }\n    async parseObjectHeader(numberOfObjectHeaders) {\n        let tags;\n        do {\n            // Parse common header of the ASF Object (3.1)\n            const header = await this.tokenizer.readToken(AsfObject.HeaderObjectToken);\n            // Parse data part of the ASF Object\n            debug('header GUID=%s', header.objectId.str);\n            switch (header.objectId.str) {\n                case AsfObject.FilePropertiesObject.guid.str: // 3.2\n                    const fpo = await this.tokenizer.readToken(new AsfObject.FilePropertiesObject(header));\n                    this.metadata.setFormat('duration', Number(fpo.playDuration / BigInt(1000)) / 10000 - Number(fpo.preroll) / 1000);\n                    this.metadata.setFormat('bitrate', fpo.maximumBitrate);\n                    break;\n                case AsfObject.StreamPropertiesObject.guid.str: // 3.3\n                    const spo = await this.tokenizer.readToken(new AsfObject.StreamPropertiesObject(header));\n                    this.metadata.setFormat('container', 'ASF/' + spo.streamType);\n                    break;\n                case AsfObject.HeaderExtensionObject.guid.str: // 3.4\n                    const extHeader = await this.tokenizer.readToken(new AsfObject.HeaderExtensionObject());\n                    await this.parseExtensionObject(extHeader.extensionDataSize);\n                    break;\n                case AsfObject.ContentDescriptionObjectState.guid.str: // 3.10\n                    tags = await this.tokenizer.readToken(new AsfObject.ContentDescriptionObjectState(header));\n                    this.addTags(tags);\n                    break;\n                case AsfObject.ExtendedContentDescriptionObjectState.guid.str: // 3.11\n                    tags = await this.tokenizer.readToken(new AsfObject.ExtendedContentDescriptionObjectState(header));\n                    this.addTags(tags);\n                    break;\n                case GUID_1.default.CodecListObject.str:\n                    const codecs = await AsfObject.readCodecEntries(this.tokenizer);\n                    codecs.forEach(codec => {\n                        this.metadata.addStreamInfo({\n                            type: codec.type.videoCodec ? type_1.TrackType.video : type_1.TrackType.audio,\n                            codecName: codec.codecName\n                        });\n                    });\n                    const audioCodecs = codecs.filter(codec => codec.type.audioCodec).map(codec => codec.codecName).join('/');\n                    this.metadata.setFormat('codec', audioCodecs);\n                    break;\n                case GUID_1.default.StreamBitratePropertiesObject.str:\n                    // ToDo?\n                    await this.tokenizer.ignore(header.objectSize - AsfObject.HeaderObjectToken.len);\n                    break;\n                case GUID_1.default.PaddingObject.str:\n                    // ToDo: register bytes pad\n                    debug('Padding: %s bytes', header.objectSize - AsfObject.HeaderObjectToken.len);\n                    await this.tokenizer.ignore(header.objectSize - AsfObject.HeaderObjectToken.len);\n                    break;\n                default:\n                    this.metadata.addWarning('Ignore ASF-Object-GUID: ' + header.objectId.str);\n                    debug('Ignore ASF-Object-GUID: %s', header.objectId.str);\n                    await this.tokenizer.readToken(new AsfObject.IgnoreObjectState(header));\n            }\n        } while (--numberOfObjectHeaders);\n        // done\n    }\n    addTags(tags) {\n        tags.forEach(tag => {\n            this.metadata.addTag(headerType, tag.id, tag.value);\n        });\n    }\n    async parseExtensionObject(extensionSize) {\n        do {\n            // Parse common header of the ASF Object (3.1)\n            const header = await this.tokenizer.readToken(AsfObject.HeaderObjectToken);\n            const remaining = header.objectSize - AsfObject.HeaderObjectToken.len;\n            // Parse data part of the ASF Object\n            switch (header.objectId.str) {\n                case AsfObject.ExtendedStreamPropertiesObjectState.guid.str: // 4.1\n                    // ToDo: extended stream header properties are ignored\n                    await this.tokenizer.readToken(new AsfObject.ExtendedStreamPropertiesObjectState(header));\n                    break;\n                case AsfObject.MetadataObjectState.guid.str: // 4.7\n                    const moTags = await this.tokenizer.readToken(new AsfObject.MetadataObjectState(header));\n                    this.addTags(moTags);\n                    break;\n                case AsfObject.MetadataLibraryObjectState.guid.str: // 4.8\n                    const mlTags = await this.tokenizer.readToken(new AsfObject.MetadataLibraryObjectState(header));\n                    this.addTags(mlTags);\n                    break;\n                case GUID_1.default.PaddingObject.str:\n                    // ToDo: register bytes pad\n                    await this.tokenizer.ignore(remaining);\n                    break;\n                case GUID_1.default.CompatibilityObject.str:\n                    this.tokenizer.ignore(remaining);\n                    break;\n                case GUID_1.default.ASF_Index_Placeholder_Object.str:\n                    await this.tokenizer.ignore(remaining);\n                    break;\n                default:\n                    this.metadata.addWarning('Ignore ASF-Object-GUID: ' + header.objectId.str);\n                    // console.log(\"Ignore ASF-Object-GUID: %s\", header.objectId.str);\n                    await this.tokenizer.readToken(new AsfObject.IgnoreObjectState(header));\n                    break;\n            }\n            extensionSize -= header.objectSize;\n        } while (extensionSize > 0);\n    }\n}\nexports.AsfParser = AsfParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FzZi9Bc2ZQYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLGVBQWUsbUJBQU8sQ0FBQyxnRUFBUztBQUNoQyxlQUFlLG1CQUFPLENBQUMsbUVBQVE7QUFDL0Isa0JBQWtCLG1CQUFPLENBQUMsNkVBQWE7QUFDdkMsc0JBQXNCLG1CQUFPLENBQUMsNEZBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG1CQUFtQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvYXNmL0FzZlBhcnNlci5qcz85OTQ1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Bc2ZQYXJzZXIgPSB2b2lkIDA7XG5jb25zdCBkZWJ1Z18xID0gcmVxdWlyZShcImRlYnVnXCIpO1xuY29uc3QgdHlwZV8xID0gcmVxdWlyZShcIi4uL3R5cGVcIik7XG5jb25zdCBHVUlEXzEgPSByZXF1aXJlKFwiLi9HVUlEXCIpO1xuY29uc3QgQXNmT2JqZWN0ID0gcmVxdWlyZShcIi4vQXNmT2JqZWN0XCIpO1xuY29uc3QgQmFzaWNQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vQmFzaWNQYXJzZXJcIik7XG5jb25zdCBkZWJ1ZyA9ICgwLCBkZWJ1Z18xLmRlZmF1bHQpKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6QVNGJyk7XG5jb25zdCBoZWFkZXJUeXBlID0gJ2FzZic7XG4vKipcbiAqIFdpbmRvd3MgTWVkaWEgTWV0YWRhdGEgVXNhZ2UgR3VpZGVsaW5lc1xuICogLSBSZWY6IGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM4Njc3MDIuYXNweFxuICpcbiAqIFJlZjpcbiAqIC0gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWZsZWlzY2htYW4tYXNmLTAxXG4gKiAtIGh0dHBzOi8vaHdpZWdtYW4uaG9tZS54czRhbGwubmwvZmlsZWZvcm1hdHMvYXNmL0FTRl9TcGVjaWZpY2F0aW9uLnBkZlxuICogLSBodHRwOi8vZHJhbmcuczQueHJlYS5jb20vcHJvZ3JhbS90aXBzL2lkM3RhZy93bXAvaW5kZXguaHRtbFxuICogLSBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3dpbmRvd3MvZGVza3RvcC9lZTY2MzU3NSh2PXZzLjg1KS5hc3B4XG4gKi9cbmNsYXNzIEFzZlBhcnNlciBleHRlbmRzIEJhc2ljUGFyc2VyXzEuQmFzaWNQYXJzZXIge1xuICAgIGFzeW5jIHBhcnNlKCkge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oQXNmT2JqZWN0LlRvcExldmVsSGVhZGVyT2JqZWN0VG9rZW4pO1xuICAgICAgICBpZiAoIWhlYWRlci5vYmplY3RJZC5lcXVhbHMoR1VJRF8xLmRlZmF1bHQuSGVhZGVyT2JqZWN0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBhc2YgaGVhZGVyOyBidXQgd2FzIG5vdCBmb3VuZDsgZ290OiAnICsgaGVhZGVyLm9iamVjdElkLnN0cik7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGFyc2VPYmplY3RIZWFkZXIoaGVhZGVyLm51bWJlck9mSGVhZGVyT2JqZWN0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZGVidWcoJ0Vycm9yIHdoaWxlIHBhcnNpbmcgQVNGOiAlcycsIGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcGFyc2VPYmplY3RIZWFkZXIobnVtYmVyT2ZPYmplY3RIZWFkZXJzKSB7XG4gICAgICAgIGxldCB0YWdzO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBQYXJzZSBjb21tb24gaGVhZGVyIG9mIHRoZSBBU0YgT2JqZWN0ICgzLjEpXG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oQXNmT2JqZWN0LkhlYWRlck9iamVjdFRva2VuKTtcbiAgICAgICAgICAgIC8vIFBhcnNlIGRhdGEgcGFydCBvZiB0aGUgQVNGIE9iamVjdFxuICAgICAgICAgICAgZGVidWcoJ2hlYWRlciBHVUlEPSVzJywgaGVhZGVyLm9iamVjdElkLnN0cik7XG4gICAgICAgICAgICBzd2l0Y2ggKGhlYWRlci5vYmplY3RJZC5zdHIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEFzZk9iamVjdC5GaWxlUHJvcGVydGllc09iamVjdC5ndWlkLnN0cjogLy8gMy4yXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZwbyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgQXNmT2JqZWN0LkZpbGVQcm9wZXJ0aWVzT2JqZWN0KGhlYWRlcikpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBOdW1iZXIoZnBvLnBsYXlEdXJhdGlvbiAvIEJpZ0ludCgxMDAwKSkgLyAxMDAwMCAtIE51bWJlcihmcG8ucHJlcm9sbCkgLyAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCBmcG8ubWF4aW11bUJpdHJhdGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEFzZk9iamVjdC5TdHJlYW1Qcm9wZXJ0aWVzT2JqZWN0Lmd1aWQuc3RyOiAvLyAzLjNcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BvID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBc2ZPYmplY3QuU3RyZWFtUHJvcGVydGllc09iamVjdChoZWFkZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsICdBU0YvJyArIHNwby5zdHJlYW1UeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBBc2ZPYmplY3QuSGVhZGVyRXh0ZW5zaW9uT2JqZWN0Lmd1aWQuc3RyOiAvLyAzLjRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0SGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBc2ZPYmplY3QuSGVhZGVyRXh0ZW5zaW9uT2JqZWN0KCkpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBhcnNlRXh0ZW5zaW9uT2JqZWN0KGV4dEhlYWRlci5leHRlbnNpb25EYXRhU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQXNmT2JqZWN0LkNvbnRlbnREZXNjcmlwdGlvbk9iamVjdFN0YXRlLmd1aWQuc3RyOiAvLyAzLjEwXG4gICAgICAgICAgICAgICAgICAgIHRhZ3MgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEFzZk9iamVjdC5Db250ZW50RGVzY3JpcHRpb25PYmplY3RTdGF0ZShoZWFkZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUYWdzKHRhZ3MpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEFzZk9iamVjdC5FeHRlbmRlZENvbnRlbnREZXNjcmlwdGlvbk9iamVjdFN0YXRlLmd1aWQuc3RyOiAvLyAzLjExXG4gICAgICAgICAgICAgICAgICAgIHRhZ3MgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEFzZk9iamVjdC5FeHRlbmRlZENvbnRlbnREZXNjcmlwdGlvbk9iamVjdFN0YXRlKGhlYWRlcikpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRhZ3ModGFncyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR1VJRF8xLmRlZmF1bHQuQ29kZWNMaXN0T2JqZWN0LnN0cjpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZWNzID0gYXdhaXQgQXNmT2JqZWN0LnJlYWRDb2RlY0VudHJpZXModGhpcy50b2tlbml6ZXIpO1xuICAgICAgICAgICAgICAgICAgICBjb2RlY3MuZm9yRWFjaChjb2RlYyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFN0cmVhbUluZm8oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGNvZGVjLnR5cGUudmlkZW9Db2RlYyA/IHR5cGVfMS5UcmFja1R5cGUudmlkZW8gOiB0eXBlXzEuVHJhY2tUeXBlLmF1ZGlvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVjTmFtZTogY29kZWMuY29kZWNOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvQ29kZWNzID0gY29kZWNzLmZpbHRlcihjb2RlYyA9PiBjb2RlYy50eXBlLmF1ZGlvQ29kZWMpLm1hcChjb2RlYyA9PiBjb2RlYy5jb2RlY05hbWUpLmpvaW4oJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjJywgYXVkaW9Db2RlY3MpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdVSURfMS5kZWZhdWx0LlN0cmVhbUJpdHJhdGVQcm9wZXJ0aWVzT2JqZWN0LnN0cjpcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9Ebz9cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKGhlYWRlci5vYmplY3RTaXplIC0gQXNmT2JqZWN0LkhlYWRlck9iamVjdFRva2VuLmxlbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR1VJRF8xLmRlZmF1bHQuUGFkZGluZ09iamVjdC5zdHI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFRvRG86IHJlZ2lzdGVyIGJ5dGVzIHBhZFxuICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnUGFkZGluZzogJXMgYnl0ZXMnLCBoZWFkZXIub2JqZWN0U2l6ZSAtIEFzZk9iamVjdC5IZWFkZXJPYmplY3RUb2tlbi5sZW4pO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoaGVhZGVyLm9iamVjdFNpemUgLSBBc2ZPYmplY3QuSGVhZGVyT2JqZWN0VG9rZW4ubGVuKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKCdJZ25vcmUgQVNGLU9iamVjdC1HVUlEOiAnICsgaGVhZGVyLm9iamVjdElkLnN0cik7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKCdJZ25vcmUgQVNGLU9iamVjdC1HVUlEOiAlcycsIGhlYWRlci5vYmplY3RJZC5zdHIpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEFzZk9iamVjdC5JZ25vcmVPYmplY3RTdGF0ZShoZWFkZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoLS1udW1iZXJPZk9iamVjdEhlYWRlcnMpO1xuICAgICAgICAvLyBkb25lXG4gICAgfVxuICAgIGFkZFRhZ3ModGFncykge1xuICAgICAgICB0YWdzLmZvckVhY2godGFnID0+IHtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuYWRkVGFnKGhlYWRlclR5cGUsIHRhZy5pZCwgdGFnLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlRXh0ZW5zaW9uT2JqZWN0KGV4dGVuc2lvblNpemUpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gUGFyc2UgY29tbW9uIGhlYWRlciBvZiB0aGUgQVNGIE9iamVjdCAoMy4xKVxuICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEFzZk9iamVjdC5IZWFkZXJPYmplY3RUb2tlbik7XG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmcgPSBoZWFkZXIub2JqZWN0U2l6ZSAtIEFzZk9iamVjdC5IZWFkZXJPYmplY3RUb2tlbi5sZW47XG4gICAgICAgICAgICAvLyBQYXJzZSBkYXRhIHBhcnQgb2YgdGhlIEFTRiBPYmplY3RcbiAgICAgICAgICAgIHN3aXRjaCAoaGVhZGVyLm9iamVjdElkLnN0cikge1xuICAgICAgICAgICAgICAgIGNhc2UgQXNmT2JqZWN0LkV4dGVuZGVkU3RyZWFtUHJvcGVydGllc09iamVjdFN0YXRlLmd1aWQuc3RyOiAvLyA0LjFcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9EbzogZXh0ZW5kZWQgc3RyZWFtIGhlYWRlciBwcm9wZXJ0aWVzIGFyZSBpZ25vcmVkXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgQXNmT2JqZWN0LkV4dGVuZGVkU3RyZWFtUHJvcGVydGllc09iamVjdFN0YXRlKGhlYWRlcikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEFzZk9iamVjdC5NZXRhZGF0YU9iamVjdFN0YXRlLmd1aWQuc3RyOiAvLyA0LjdcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9UYWdzID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBc2ZPYmplY3QuTWV0YWRhdGFPYmplY3RTdGF0ZShoZWFkZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUYWdzKG1vVGFncyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQXNmT2JqZWN0Lk1ldGFkYXRhTGlicmFyeU9iamVjdFN0YXRlLmd1aWQuc3RyOiAvLyA0LjhcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWxUYWdzID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBc2ZPYmplY3QuTWV0YWRhdGFMaWJyYXJ5T2JqZWN0U3RhdGUoaGVhZGVyKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVGFncyhtbFRhZ3MpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdVSURfMS5kZWZhdWx0LlBhZGRpbmdPYmplY3Quc3RyOlxuICAgICAgICAgICAgICAgICAgICAvLyBUb0RvOiByZWdpc3RlciBieXRlcyBwYWRcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKHJlbWFpbmluZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR1VJRF8xLmRlZmF1bHQuQ29tcGF0aWJpbGl0eU9iamVjdC5zdHI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9rZW5pemVyLmlnbm9yZShyZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdVSURfMS5kZWZhdWx0LkFTRl9JbmRleF9QbGFjZWhvbGRlcl9PYmplY3Quc3RyOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUocmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKCdJZ25vcmUgQVNGLU9iamVjdC1HVUlEOiAnICsgaGVhZGVyLm9iamVjdElkLnN0cik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiSWdub3JlIEFTRi1PYmplY3QtR1VJRDogJXNcIiwgaGVhZGVyLm9iamVjdElkLnN0cik7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgQXNmT2JqZWN0Lklnbm9yZU9iamVjdFN0YXRlKGhlYWRlcikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4dGVuc2lvblNpemUgLT0gaGVhZGVyLm9iamVjdFNpemU7XG4gICAgICAgIH0gd2hpbGUgKGV4dGVuc2lvblNpemUgPiAwKTtcbiAgICB9XG59XG5leHBvcnRzLkFzZlBhcnNlciA9IEFzZlBhcnNlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/asf/AsfParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/asf/AsfTagMapper.js":
/*!*************************************************************!*\
  !*** ./node_modules/music-metadata/lib/asf/AsfTagMapper.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.AsfTagMapper = void 0;\nconst GenericTagMapper_1 = __webpack_require__(/*! ../common/GenericTagMapper */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n/**\n * ASF Metadata tag mappings.\n * See http://msdn.microsoft.com/en-us/library/ms867702.aspx\n */\nconst asfTagMap = {\n    Title: 'title',\n    Author: 'artist',\n    'WM/AlbumArtist': 'albumartist',\n    'WM/AlbumTitle': 'album',\n    'WM/Year': 'date',\n    'WM/OriginalReleaseTime': 'originaldate',\n    'WM/OriginalReleaseYear': 'originalyear',\n    Description: 'comment',\n    'WM/TrackNumber': 'track',\n    'WM/PartOfSet': 'disk',\n    'WM/Genre': 'genre',\n    'WM/Composer': 'composer',\n    'WM/Lyrics': 'lyrics',\n    'WM/AlbumSortOrder': 'albumsort',\n    'WM/TitleSortOrder': 'titlesort',\n    'WM/ArtistSortOrder': 'artistsort',\n    'WM/AlbumArtistSortOrder': 'albumartistsort',\n    'WM/ComposerSortOrder': 'composersort',\n    'WM/Writer': 'lyricist',\n    'WM/Conductor': 'conductor',\n    'WM/ModifiedBy': 'remixer',\n    'WM/Engineer': 'engineer',\n    'WM/Producer': 'producer',\n    'WM/DJMixer': 'djmixer',\n    'WM/Mixer': 'mixer',\n    'WM/Publisher': 'label',\n    'WM/ContentGroupDescription': 'grouping',\n    'WM/SubTitle': 'subtitle',\n    'WM/SetSubTitle': 'discsubtitle',\n    // 'WM/PartOfSet': 'totaldiscs',\n    'WM/IsCompilation': 'compilation',\n    'WM/SharedUserRating': 'rating',\n    'WM/BeatsPerMinute': 'bpm',\n    'WM/Mood': 'mood',\n    'WM/Media': 'media',\n    'WM/CatalogNo': 'catalognumber',\n    'MusicBrainz/Album Status': 'releasestatus',\n    'MusicBrainz/Album Type': 'releasetype',\n    'MusicBrainz/Album Release Country': 'releasecountry',\n    'WM/Script': 'script',\n    'WM/Language': 'language',\n    Copyright: 'copyright',\n    LICENSE: 'license',\n    'WM/EncodedBy': 'encodedby',\n    'WM/EncodingSettings': 'encodersettings',\n    'WM/Barcode': 'barcode',\n    'WM/ISRC': 'isrc',\n    'MusicBrainz/Track Id': 'musicbrainz_recordingid',\n    'MusicBrainz/Release Track Id': 'musicbrainz_trackid',\n    'MusicBrainz/Album Id': 'musicbrainz_albumid',\n    'MusicBrainz/Artist Id': 'musicbrainz_artistid',\n    'MusicBrainz/Album Artist Id': 'musicbrainz_albumartistid',\n    'MusicBrainz/Release Group Id': 'musicbrainz_releasegroupid',\n    'MusicBrainz/Work Id': 'musicbrainz_workid',\n    'MusicBrainz/TRM Id': 'musicbrainz_trmid',\n    'MusicBrainz/Disc Id': 'musicbrainz_discid',\n    'Acoustid/Id': 'acoustid_id',\n    'Acoustid/Fingerprint': 'acoustid_fingerprint',\n    'MusicIP/PUID': 'musicip_puid',\n    'WM/ARTISTS': 'artists',\n    'WM/InitialKey': 'key',\n    ASIN: 'asin',\n    'WM/Work': 'work',\n    'WM/AuthorURL': 'website',\n    'WM/Picture': 'picture'\n};\nclass AsfTagMapper extends GenericTagMapper_1.CommonTagMapper {\n    static toRating(rating) {\n        return {\n            rating: parseFloat(rating + 1) / 5\n        };\n    }\n    constructor() {\n        super(['asf'], asfTagMap);\n    }\n    postMap(tag) {\n        switch (tag.id) {\n            case 'WM/SharedUserRating':\n                const keys = tag.id.split(':');\n                tag.value = AsfTagMapper.toRating(tag.value);\n                tag.id = keys[0];\n                break;\n        }\n    }\n}\nexports.AsfTagMapper = AsfTagMapper;\n//# sourceMappingURL=AsfTagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FzZi9Bc2ZUYWdNYXBwZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLDJCQUEyQixtQkFBTyxDQUFDLHNHQUE0QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvYXNmL0FzZlRhZ01hcHBlci5qcz8wZWY4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Bc2ZUYWdNYXBwZXIgPSB2b2lkIDA7XG5jb25zdCBHZW5lcmljVGFnTWFwcGVyXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL0dlbmVyaWNUYWdNYXBwZXJcIik7XG4vKipcbiAqIEFTRiBNZXRhZGF0YSB0YWcgbWFwcGluZ3MuXG4gKiBTZWUgaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zODY3NzAyLmFzcHhcbiAqL1xuY29uc3QgYXNmVGFnTWFwID0ge1xuICAgIFRpdGxlOiAndGl0bGUnLFxuICAgIEF1dGhvcjogJ2FydGlzdCcsXG4gICAgJ1dNL0FsYnVtQXJ0aXN0JzogJ2FsYnVtYXJ0aXN0JyxcbiAgICAnV00vQWxidW1UaXRsZSc6ICdhbGJ1bScsXG4gICAgJ1dNL1llYXInOiAnZGF0ZScsXG4gICAgJ1dNL09yaWdpbmFsUmVsZWFzZVRpbWUnOiAnb3JpZ2luYWxkYXRlJyxcbiAgICAnV00vT3JpZ2luYWxSZWxlYXNlWWVhcic6ICdvcmlnaW5hbHllYXInLFxuICAgIERlc2NyaXB0aW9uOiAnY29tbWVudCcsXG4gICAgJ1dNL1RyYWNrTnVtYmVyJzogJ3RyYWNrJyxcbiAgICAnV00vUGFydE9mU2V0JzogJ2Rpc2snLFxuICAgICdXTS9HZW5yZSc6ICdnZW5yZScsXG4gICAgJ1dNL0NvbXBvc2VyJzogJ2NvbXBvc2VyJyxcbiAgICAnV00vTHlyaWNzJzogJ2x5cmljcycsXG4gICAgJ1dNL0FsYnVtU29ydE9yZGVyJzogJ2FsYnVtc29ydCcsXG4gICAgJ1dNL1RpdGxlU29ydE9yZGVyJzogJ3RpdGxlc29ydCcsXG4gICAgJ1dNL0FydGlzdFNvcnRPcmRlcic6ICdhcnRpc3Rzb3J0JyxcbiAgICAnV00vQWxidW1BcnRpc3RTb3J0T3JkZXInOiAnYWxidW1hcnRpc3Rzb3J0JyxcbiAgICAnV00vQ29tcG9zZXJTb3J0T3JkZXInOiAnY29tcG9zZXJzb3J0JyxcbiAgICAnV00vV3JpdGVyJzogJ2x5cmljaXN0JyxcbiAgICAnV00vQ29uZHVjdG9yJzogJ2NvbmR1Y3RvcicsXG4gICAgJ1dNL01vZGlmaWVkQnknOiAncmVtaXhlcicsXG4gICAgJ1dNL0VuZ2luZWVyJzogJ2VuZ2luZWVyJyxcbiAgICAnV00vUHJvZHVjZXInOiAncHJvZHVjZXInLFxuICAgICdXTS9ESk1peGVyJzogJ2RqbWl4ZXInLFxuICAgICdXTS9NaXhlcic6ICdtaXhlcicsXG4gICAgJ1dNL1B1Ymxpc2hlcic6ICdsYWJlbCcsXG4gICAgJ1dNL0NvbnRlbnRHcm91cERlc2NyaXB0aW9uJzogJ2dyb3VwaW5nJyxcbiAgICAnV00vU3ViVGl0bGUnOiAnc3VidGl0bGUnLFxuICAgICdXTS9TZXRTdWJUaXRsZSc6ICdkaXNjc3VidGl0bGUnLFxuICAgIC8vICdXTS9QYXJ0T2ZTZXQnOiAndG90YWxkaXNjcycsXG4gICAgJ1dNL0lzQ29tcGlsYXRpb24nOiAnY29tcGlsYXRpb24nLFxuICAgICdXTS9TaGFyZWRVc2VyUmF0aW5nJzogJ3JhdGluZycsXG4gICAgJ1dNL0JlYXRzUGVyTWludXRlJzogJ2JwbScsXG4gICAgJ1dNL01vb2QnOiAnbW9vZCcsXG4gICAgJ1dNL01lZGlhJzogJ21lZGlhJyxcbiAgICAnV00vQ2F0YWxvZ05vJzogJ2NhdGFsb2dudW1iZXInLFxuICAgICdNdXNpY0JyYWluei9BbGJ1bSBTdGF0dXMnOiAncmVsZWFzZXN0YXR1cycsXG4gICAgJ011c2ljQnJhaW56L0FsYnVtIFR5cGUnOiAncmVsZWFzZXR5cGUnLFxuICAgICdNdXNpY0JyYWluei9BbGJ1bSBSZWxlYXNlIENvdW50cnknOiAncmVsZWFzZWNvdW50cnknLFxuICAgICdXTS9TY3JpcHQnOiAnc2NyaXB0JyxcbiAgICAnV00vTGFuZ3VhZ2UnOiAnbGFuZ3VhZ2UnLFxuICAgIENvcHlyaWdodDogJ2NvcHlyaWdodCcsXG4gICAgTElDRU5TRTogJ2xpY2Vuc2UnLFxuICAgICdXTS9FbmNvZGVkQnknOiAnZW5jb2RlZGJ5JyxcbiAgICAnV00vRW5jb2RpbmdTZXR0aW5ncyc6ICdlbmNvZGVyc2V0dGluZ3MnLFxuICAgICdXTS9CYXJjb2RlJzogJ2JhcmNvZGUnLFxuICAgICdXTS9JU1JDJzogJ2lzcmMnLFxuICAgICdNdXNpY0JyYWluei9UcmFjayBJZCc6ICdtdXNpY2JyYWluel9yZWNvcmRpbmdpZCcsXG4gICAgJ011c2ljQnJhaW56L1JlbGVhc2UgVHJhY2sgSWQnOiAnbXVzaWNicmFpbnpfdHJhY2tpZCcsXG4gICAgJ011c2ljQnJhaW56L0FsYnVtIElkJzogJ211c2ljYnJhaW56X2FsYnVtaWQnLFxuICAgICdNdXNpY0JyYWluei9BcnRpc3QgSWQnOiAnbXVzaWNicmFpbnpfYXJ0aXN0aWQnLFxuICAgICdNdXNpY0JyYWluei9BbGJ1bSBBcnRpc3QgSWQnOiAnbXVzaWNicmFpbnpfYWxidW1hcnRpc3RpZCcsXG4gICAgJ011c2ljQnJhaW56L1JlbGVhc2UgR3JvdXAgSWQnOiAnbXVzaWNicmFpbnpfcmVsZWFzZWdyb3VwaWQnLFxuICAgICdNdXNpY0JyYWluei9Xb3JrIElkJzogJ211c2ljYnJhaW56X3dvcmtpZCcsXG4gICAgJ011c2ljQnJhaW56L1RSTSBJZCc6ICdtdXNpY2JyYWluel90cm1pZCcsXG4gICAgJ011c2ljQnJhaW56L0Rpc2MgSWQnOiAnbXVzaWNicmFpbnpfZGlzY2lkJyxcbiAgICAnQWNvdXN0aWQvSWQnOiAnYWNvdXN0aWRfaWQnLFxuICAgICdBY291c3RpZC9GaW5nZXJwcmludCc6ICdhY291c3RpZF9maW5nZXJwcmludCcsXG4gICAgJ011c2ljSVAvUFVJRCc6ICdtdXNpY2lwX3B1aWQnLFxuICAgICdXTS9BUlRJU1RTJzogJ2FydGlzdHMnLFxuICAgICdXTS9Jbml0aWFsS2V5JzogJ2tleScsXG4gICAgQVNJTjogJ2FzaW4nLFxuICAgICdXTS9Xb3JrJzogJ3dvcmsnLFxuICAgICdXTS9BdXRob3JVUkwnOiAnd2Vic2l0ZScsXG4gICAgJ1dNL1BpY3R1cmUnOiAncGljdHVyZSdcbn07XG5jbGFzcyBBc2ZUYWdNYXBwZXIgZXh0ZW5kcyBHZW5lcmljVGFnTWFwcGVyXzEuQ29tbW9uVGFnTWFwcGVyIHtcbiAgICBzdGF0aWMgdG9SYXRpbmcocmF0aW5nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYXRpbmc6IHBhcnNlRmxvYXQocmF0aW5nICsgMSkgLyA1XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbJ2FzZiddLCBhc2ZUYWdNYXApO1xuICAgIH1cbiAgICBwb3N0TWFwKHRhZykge1xuICAgICAgICBzd2l0Y2ggKHRhZy5pZCkge1xuICAgICAgICAgICAgY2FzZSAnV00vU2hhcmVkVXNlclJhdGluZyc6XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IHRhZy5pZC5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgIHRhZy52YWx1ZSA9IEFzZlRhZ01hcHBlci50b1JhdGluZyh0YWcudmFsdWUpO1xuICAgICAgICAgICAgICAgIHRhZy5pZCA9IGtleXNbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkFzZlRhZ01hcHBlciA9IEFzZlRhZ01hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzZlRhZ01hcHBlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/asf/AsfTagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/asf/AsfUtil.js":
/*!********************************************************!*\
  !*** ./node_modules/music-metadata/lib/asf/AsfUtil.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.AsfUtil = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst util = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nclass AsfUtil {\n    static getParserForAttr(i) {\n        return AsfUtil.attributeParsers[i];\n    }\n    static parseUnicodeAttr(uint8Array) {\n        return util.stripNulls(util.decodeString(uint8Array, 'utf16le'));\n    }\n    static parseByteArrayAttr(buf) {\n        return Buffer.from(buf);\n    }\n    static parseBoolAttr(buf, offset = 0) {\n        return AsfUtil.parseWordAttr(buf, offset) === 1;\n    }\n    static parseDWordAttr(buf, offset = 0) {\n        return buf.readUInt32LE(offset);\n    }\n    static parseQWordAttr(buf, offset = 0) {\n        return Token.UINT64_LE.get(buf, offset);\n    }\n    static parseWordAttr(buf, offset = 0) {\n        return buf.readUInt16LE(offset);\n    }\n}\nAsfUtil.attributeParsers = [\n    AsfUtil.parseUnicodeAttr,\n    AsfUtil.parseByteArrayAttr,\n    AsfUtil.parseBoolAttr,\n    AsfUtil.parseDWordAttr,\n    AsfUtil.parseQWordAttr,\n    AsfUtil.parseWordAttr,\n    AsfUtil.parseByteArrayAttr\n];\nexports.AsfUtil = AsfUtil;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FzZi9Bc2ZVdGlsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGVBQWU7QUFDZixjQUFjLG1CQUFPLENBQUMsa0VBQWE7QUFDbkMsYUFBYSxtQkFBTyxDQUFDLDhFQUFnQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9hc2YvQXNmVXRpbC5qcz9jODZkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Bc2ZVdGlsID0gdm9pZCAwO1xuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcIi4uL2NvbW1vbi9VdGlsXCIpO1xuY2xhc3MgQXNmVXRpbCB7XG4gICAgc3RhdGljIGdldFBhcnNlckZvckF0dHIoaSkge1xuICAgICAgICByZXR1cm4gQXNmVXRpbC5hdHRyaWJ1dGVQYXJzZXJzW2ldO1xuICAgIH1cbiAgICBzdGF0aWMgcGFyc2VVbmljb2RlQXR0cih1aW50OEFycmF5KSB7XG4gICAgICAgIHJldHVybiB1dGlsLnN0cmlwTnVsbHModXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheSwgJ3V0ZjE2bGUnKSk7XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZUJ5dGVBcnJheUF0dHIoYnVmKSB7XG4gICAgICAgIHJldHVybiBCdWZmZXIuZnJvbShidWYpO1xuICAgIH1cbiAgICBzdGF0aWMgcGFyc2VCb29sQXR0cihidWYsIG9mZnNldCA9IDApIHtcbiAgICAgICAgcmV0dXJuIEFzZlV0aWwucGFyc2VXb3JkQXR0cihidWYsIG9mZnNldCkgPT09IDE7XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZURXb3JkQXR0cihidWYsIG9mZnNldCA9IDApIHtcbiAgICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDMyTEUob2Zmc2V0KTtcbiAgICB9XG4gICAgc3RhdGljIHBhcnNlUVdvcmRBdHRyKGJ1Ziwgb2Zmc2V0ID0gMCkge1xuICAgICAgICByZXR1cm4gVG9rZW4uVUlOVDY0X0xFLmdldChidWYsIG9mZnNldCk7XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZVdvcmRBdHRyKGJ1Ziwgb2Zmc2V0ID0gMCkge1xuICAgICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZMRShvZmZzZXQpO1xuICAgIH1cbn1cbkFzZlV0aWwuYXR0cmlidXRlUGFyc2VycyA9IFtcbiAgICBBc2ZVdGlsLnBhcnNlVW5pY29kZUF0dHIsXG4gICAgQXNmVXRpbC5wYXJzZUJ5dGVBcnJheUF0dHIsXG4gICAgQXNmVXRpbC5wYXJzZUJvb2xBdHRyLFxuICAgIEFzZlV0aWwucGFyc2VEV29yZEF0dHIsXG4gICAgQXNmVXRpbC5wYXJzZVFXb3JkQXR0cixcbiAgICBBc2ZVdGlsLnBhcnNlV29yZEF0dHIsXG4gICAgQXNmVXRpbC5wYXJzZUJ5dGVBcnJheUF0dHJcbl07XG5leHBvcnRzLkFzZlV0aWwgPSBBc2ZVdGlsO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/asf/AsfUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/asf/GUID.js":
/*!*****************************************************!*\
  !*** ./node_modules/music-metadata/lib/asf/GUID.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * Ref:\n * - https://tools.ietf.org/html/draft-fleischman-asf-01, Appendix A: ASF GUIDs\n * - http://drang.s4.xrea.com/program/tips/id3tag/wmp/10_asf_guids.html\n * - http://drang.s4.xrea.com/program/tips/id3tag/wmp/index.html\n * - http://drang.s4.xrea.com/program/tips/id3tag/wmp/10_asf_guids.html\n *\n * ASF File Structure:\n * - https://msdn.microsoft.com/en-us/library/windows/desktop/ee663575(v=vs.85).aspx\n *\n * ASF GUIDs:\n * - http://drang.s4.xrea.com/program/tips/id3tag/wmp/10_asf_guids.html\n * - https://github.com/dji-sdk/FFmpeg/blob/master/libavformat/asf.c\n */\nclass GUID {\n    static fromBin(bin, offset = 0) {\n        return new GUID(this.decode(bin, offset));\n    }\n    /**\n     * Decode GUID in format like \"B503BF5F-2EA9-CF11-8EE3-00C00C205365\"\n     * @param objectId Binary GUID\n     * @param offset Read offset in bytes, default 0\n     * @returns GUID as dashed hexadecimal representation\n     */\n    static decode(objectId, offset = 0) {\n        const guid = objectId.readUInt32LE(offset).toString(16) + \"-\" +\n            objectId.readUInt16LE(offset + 4).toString(16) + \"-\" +\n            objectId.readUInt16LE(offset + 6).toString(16) + \"-\" +\n            objectId.readUInt16BE(offset + 8).toString(16) + \"-\" +\n            objectId.slice(offset + 10, offset + 16).toString('hex');\n        return guid.toUpperCase();\n    }\n    /**\n     * Decode stream type\n     * @param mediaType Media type GUID\n     * @returns Media type\n     */\n    static decodeMediaType(mediaType) {\n        switch (mediaType.str) {\n            case GUID.AudioMedia.str: return 'audio';\n            case GUID.VideoMedia.str: return 'video';\n            case GUID.CommandMedia.str: return 'command';\n            case GUID.Degradable_JPEG_Media.str: return 'degradable-jpeg';\n            case GUID.FileTransferMedia.str: return 'file-transfer';\n            case GUID.BinaryMedia.str: return 'binary';\n        }\n    }\n    /**\n     * Encode GUID\n     * @param guid GUID like: \"B503BF5F-2EA9-CF11-8EE3-00C00C205365\"\n     * @returns Encoded Binary GUID\n     */\n    static encode(str) {\n        const bin = Buffer.alloc(16);\n        bin.writeUInt32LE(parseInt(str.slice(0, 8), 16), 0);\n        bin.writeUInt16LE(parseInt(str.slice(9, 13), 16), 4);\n        bin.writeUInt16LE(parseInt(str.slice(14, 18), 16), 6);\n        Buffer.from(str.slice(19, 23), \"hex\").copy(bin, 8);\n        Buffer.from(str.slice(24), \"hex\").copy(bin, 10);\n        return bin;\n    }\n    constructor(str) {\n        this.str = str;\n    }\n    equals(guid) {\n        return this.str === guid.str;\n    }\n    toBin() {\n        return GUID.encode(this.str);\n    }\n}\n// 10.1 Top-level ASF object GUIDs\nGUID.HeaderObject = new GUID(\"75B22630-668E-11CF-A6D9-00AA0062CE6C\");\nGUID.DataObject = new GUID(\"75B22636-668E-11CF-A6D9-00AA0062CE6C\");\nGUID.SimpleIndexObject = new GUID(\"33000890-E5B1-11CF-89F4-00A0C90349CB\");\nGUID.IndexObject = new GUID(\"D6E229D3-35DA-11D1-9034-00A0C90349BE\");\nGUID.MediaObjectIndexObject = new GUID(\"FEB103F8-12AD-4C64-840F-2A1D2F7AD48C\");\nGUID.TimecodeIndexObject = new GUID(\"3CB73FD0-0C4A-4803-953D-EDF7B6228F0C\");\n// 10.2 Header Object GUIDs\nGUID.FilePropertiesObject = new GUID(\"8CABDCA1-A947-11CF-8EE4-00C00C205365\");\nGUID.StreamPropertiesObject = new GUID(\"B7DC0791-A9B7-11CF-8EE6-00C00C205365\");\nGUID.HeaderExtensionObject = new GUID(\"5FBF03B5-A92E-11CF-8EE3-00C00C205365\");\nGUID.CodecListObject = new GUID(\"86D15240-311D-11D0-A3A4-00A0C90348F6\");\nGUID.ScriptCommandObject = new GUID(\"1EFB1A30-0B62-11D0-A39B-00A0C90348F6\");\nGUID.MarkerObject = new GUID(\"F487CD01-A951-11CF-8EE6-00C00C205365\");\nGUID.BitrateMutualExclusionObject = new GUID(\"D6E229DC-35DA-11D1-9034-00A0C90349BE\");\nGUID.ErrorCorrectionObject = new GUID(\"75B22635-668E-11CF-A6D9-00AA0062CE6C\");\nGUID.ContentDescriptionObject = new GUID(\"75B22633-668E-11CF-A6D9-00AA0062CE6C\");\nGUID.ExtendedContentDescriptionObject = new GUID(\"D2D0A440-E307-11D2-97F0-00A0C95EA850\");\nGUID.ContentBrandingObject = new GUID(\"2211B3FA-BD23-11D2-B4B7-00A0C955FC6E\");\nGUID.StreamBitratePropertiesObject = new GUID(\"7BF875CE-468D-11D1-8D82-006097C9A2B2\");\nGUID.ContentEncryptionObject = new GUID(\"2211B3FB-BD23-11D2-B4B7-00A0C955FC6E\");\nGUID.ExtendedContentEncryptionObject = new GUID(\"298AE614-2622-4C17-B935-DAE07EE9289C\");\nGUID.DigitalSignatureObject = new GUID(\"2211B3FC-BD23-11D2-B4B7-00A0C955FC6E\");\nGUID.PaddingObject = new GUID(\"1806D474-CADF-4509-A4BA-9AABCB96AAE8\");\n// 10.3 Header Extension Object GUIDs\nGUID.ExtendedStreamPropertiesObject = new GUID(\"14E6A5CB-C672-4332-8399-A96952065B5A\");\nGUID.AdvancedMutualExclusionObject = new GUID(\"A08649CF-4775-4670-8A16-6E35357566CD\");\nGUID.GroupMutualExclusionObject = new GUID(\"D1465A40-5A79-4338-B71B-E36B8FD6C249\");\nGUID.StreamPrioritizationObject = new GUID(\"D4FED15B-88D3-454F-81F0-ED5C45999E24\");\nGUID.BandwidthSharingObject = new GUID(\"A69609E6-517B-11D2-B6AF-00C04FD908E9\");\nGUID.LanguageListObject = new GUID(\"7C4346A9-EFE0-4BFC-B229-393EDE415C85\");\nGUID.MetadataObject = new GUID(\"C5F8CBEA-5BAF-4877-8467-AA8C44FA4CCA\");\nGUID.MetadataLibraryObject = new GUID(\"44231C94-9498-49D1-A141-1D134E457054\");\nGUID.IndexParametersObject = new GUID(\"D6E229DF-35DA-11D1-9034-00A0C90349BE\");\nGUID.MediaObjectIndexParametersObject = new GUID(\"6B203BAD-3F11-48E4-ACA8-D7613DE2CFA7\");\nGUID.TimecodeIndexParametersObject = new GUID(\"F55E496D-9797-4B5D-8C8B-604DFE9BFB24\");\nGUID.CompatibilityObject = new GUID(\"26F18B5D-4584-47EC-9F5F-0E651F0452C9\");\nGUID.AdvancedContentEncryptionObject = new GUID(\"43058533-6981-49E6-9B74-AD12CB86D58C\");\n// 10.4 Stream Properties Object Stream Type GUIDs\nGUID.AudioMedia = new GUID(\"F8699E40-5B4D-11CF-A8FD-00805F5C442B\");\nGUID.VideoMedia = new GUID(\"BC19EFC0-5B4D-11CF-A8FD-00805F5C442B\");\nGUID.CommandMedia = new GUID(\"59DACFC0-59E6-11D0-A3AC-00A0C90348F6\");\nGUID.JFIF_Media = new GUID(\"B61BE100-5B4E-11CF-A8FD-00805F5C442B\");\nGUID.Degradable_JPEG_Media = new GUID(\"35907DE0-E415-11CF-A917-00805F5C442B\");\nGUID.FileTransferMedia = new GUID(\"91BD222C-F21C-497A-8B6D-5AA86BFC0185\");\nGUID.BinaryMedia = new GUID(\"3AFB65E2-47EF-40F2-AC2C-70A90D71D343\");\nGUID.ASF_Index_Placeholder_Object = new GUID(\"D9AADE20-7C17-4F9C-BC28-8555DD98E2A2\");\nexports[\"default\"] = GUID;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FzZi9HVUlELmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvYXNmL0dVSUQuanM/OTM4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogUmVmOlxuICogLSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtZmxlaXNjaG1hbi1hc2YtMDEsIEFwcGVuZGl4IEE6IEFTRiBHVUlEc1xuICogLSBodHRwOi8vZHJhbmcuczQueHJlYS5jb20vcHJvZ3JhbS90aXBzL2lkM3RhZy93bXAvMTBfYXNmX2d1aWRzLmh0bWxcbiAqIC0gaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wL2luZGV4Lmh0bWxcbiAqIC0gaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wLzEwX2FzZl9ndWlkcy5odG1sXG4gKlxuICogQVNGIEZpbGUgU3RydWN0dXJlOlxuICogLSBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3dpbmRvd3MvZGVza3RvcC9lZTY2MzU3NSh2PXZzLjg1KS5hc3B4XG4gKlxuICogQVNGIEdVSURzOlxuICogLSBodHRwOi8vZHJhbmcuczQueHJlYS5jb20vcHJvZ3JhbS90aXBzL2lkM3RhZy93bXAvMTBfYXNmX2d1aWRzLmh0bWxcbiAqIC0gaHR0cHM6Ly9naXRodWIuY29tL2RqaS1zZGsvRkZtcGVnL2Jsb2IvbWFzdGVyL2xpYmF2Zm9ybWF0L2FzZi5jXG4gKi9cbmNsYXNzIEdVSUQge1xuICAgIHN0YXRpYyBmcm9tQmluKGJpbiwgb2Zmc2V0ID0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IEdVSUQodGhpcy5kZWNvZGUoYmluLCBvZmZzZXQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlIEdVSUQgaW4gZm9ybWF0IGxpa2UgXCJCNTAzQkY1Ri0yRUE5LUNGMTEtOEVFMy0wMEMwMEMyMDUzNjVcIlxuICAgICAqIEBwYXJhbSBvYmplY3RJZCBCaW5hcnkgR1VJRFxuICAgICAqIEBwYXJhbSBvZmZzZXQgUmVhZCBvZmZzZXQgaW4gYnl0ZXMsIGRlZmF1bHQgMFxuICAgICAqIEByZXR1cm5zIEdVSUQgYXMgZGFzaGVkIGhleGFkZWNpbWFsIHJlcHJlc2VudGF0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGRlY29kZShvYmplY3RJZCwgb2Zmc2V0ID0gMCkge1xuICAgICAgICBjb25zdCBndWlkID0gb2JqZWN0SWQucmVhZFVJbnQzMkxFKG9mZnNldCkudG9TdHJpbmcoMTYpICsgXCItXCIgK1xuICAgICAgICAgICAgb2JqZWN0SWQucmVhZFVJbnQxNkxFKG9mZnNldCArIDQpLnRvU3RyaW5nKDE2KSArIFwiLVwiICtcbiAgICAgICAgICAgIG9iamVjdElkLnJlYWRVSW50MTZMRShvZmZzZXQgKyA2KS50b1N0cmluZygxNikgKyBcIi1cIiArXG4gICAgICAgICAgICBvYmplY3RJZC5yZWFkVUludDE2QkUob2Zmc2V0ICsgOCkudG9TdHJpbmcoMTYpICsgXCItXCIgK1xuICAgICAgICAgICAgb2JqZWN0SWQuc2xpY2Uob2Zmc2V0ICsgMTAsIG9mZnNldCArIDE2KS50b1N0cmluZygnaGV4Jyk7XG4gICAgICAgIHJldHVybiBndWlkLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY29kZSBzdHJlYW0gdHlwZVxuICAgICAqIEBwYXJhbSBtZWRpYVR5cGUgTWVkaWEgdHlwZSBHVUlEXG4gICAgICogQHJldHVybnMgTWVkaWEgdHlwZVxuICAgICAqL1xuICAgIHN0YXRpYyBkZWNvZGVNZWRpYVR5cGUobWVkaWFUeXBlKSB7XG4gICAgICAgIHN3aXRjaCAobWVkaWFUeXBlLnN0cikge1xuICAgICAgICAgICAgY2FzZSBHVUlELkF1ZGlvTWVkaWEuc3RyOiByZXR1cm4gJ2F1ZGlvJztcbiAgICAgICAgICAgIGNhc2UgR1VJRC5WaWRlb01lZGlhLnN0cjogcmV0dXJuICd2aWRlbyc7XG4gICAgICAgICAgICBjYXNlIEdVSUQuQ29tbWFuZE1lZGlhLnN0cjogcmV0dXJuICdjb21tYW5kJztcbiAgICAgICAgICAgIGNhc2UgR1VJRC5EZWdyYWRhYmxlX0pQRUdfTWVkaWEuc3RyOiByZXR1cm4gJ2RlZ3JhZGFibGUtanBlZyc7XG4gICAgICAgICAgICBjYXNlIEdVSUQuRmlsZVRyYW5zZmVyTWVkaWEuc3RyOiByZXR1cm4gJ2ZpbGUtdHJhbnNmZXInO1xuICAgICAgICAgICAgY2FzZSBHVUlELkJpbmFyeU1lZGlhLnN0cjogcmV0dXJuICdiaW5hcnknO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBHVUlEXG4gICAgICogQHBhcmFtIGd1aWQgR1VJRCBsaWtlOiBcIkI1MDNCRjVGLTJFQTktQ0YxMS04RUUzLTAwQzAwQzIwNTM2NVwiXG4gICAgICogQHJldHVybnMgRW5jb2RlZCBCaW5hcnkgR1VJRFxuICAgICAqL1xuICAgIHN0YXRpYyBlbmNvZGUoc3RyKSB7XG4gICAgICAgIGNvbnN0IGJpbiA9IEJ1ZmZlci5hbGxvYygxNik7XG4gICAgICAgIGJpbi53cml0ZVVJbnQzMkxFKHBhcnNlSW50KHN0ci5zbGljZSgwLCA4KSwgMTYpLCAwKTtcbiAgICAgICAgYmluLndyaXRlVUludDE2TEUocGFyc2VJbnQoc3RyLnNsaWNlKDksIDEzKSwgMTYpLCA0KTtcbiAgICAgICAgYmluLndyaXRlVUludDE2TEUocGFyc2VJbnQoc3RyLnNsaWNlKDE0LCAxOCksIDE2KSwgNik7XG4gICAgICAgIEJ1ZmZlci5mcm9tKHN0ci5zbGljZSgxOSwgMjMpLCBcImhleFwiKS5jb3B5KGJpbiwgOCk7XG4gICAgICAgIEJ1ZmZlci5mcm9tKHN0ci5zbGljZSgyNCksIFwiaGV4XCIpLmNvcHkoYmluLCAxMCk7XG4gICAgICAgIHJldHVybiBiaW47XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHN0cikge1xuICAgICAgICB0aGlzLnN0ciA9IHN0cjtcbiAgICB9XG4gICAgZXF1YWxzKGd1aWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyID09PSBndWlkLnN0cjtcbiAgICB9XG4gICAgdG9CaW4oKSB7XG4gICAgICAgIHJldHVybiBHVUlELmVuY29kZSh0aGlzLnN0cik7XG4gICAgfVxufVxuLy8gMTAuMSBUb3AtbGV2ZWwgQVNGIG9iamVjdCBHVUlEc1xuR1VJRC5IZWFkZXJPYmplY3QgPSBuZXcgR1VJRChcIjc1QjIyNjMwLTY2OEUtMTFDRi1BNkQ5LTAwQUEwMDYyQ0U2Q1wiKTtcbkdVSUQuRGF0YU9iamVjdCA9IG5ldyBHVUlEKFwiNzVCMjI2MzYtNjY4RS0xMUNGLUE2RDktMDBBQTAwNjJDRTZDXCIpO1xuR1VJRC5TaW1wbGVJbmRleE9iamVjdCA9IG5ldyBHVUlEKFwiMzMwMDA4OTAtRTVCMS0xMUNGLTg5RjQtMDBBMEM5MDM0OUNCXCIpO1xuR1VJRC5JbmRleE9iamVjdCA9IG5ldyBHVUlEKFwiRDZFMjI5RDMtMzVEQS0xMUQxLTkwMzQtMDBBMEM5MDM0OUJFXCIpO1xuR1VJRC5NZWRpYU9iamVjdEluZGV4T2JqZWN0ID0gbmV3IEdVSUQoXCJGRUIxMDNGOC0xMkFELTRDNjQtODQwRi0yQTFEMkY3QUQ0OENcIik7XG5HVUlELlRpbWVjb2RlSW5kZXhPYmplY3QgPSBuZXcgR1VJRChcIjNDQjczRkQwLTBDNEEtNDgwMy05NTNELUVERjdCNjIyOEYwQ1wiKTtcbi8vIDEwLjIgSGVhZGVyIE9iamVjdCBHVUlEc1xuR1VJRC5GaWxlUHJvcGVydGllc09iamVjdCA9IG5ldyBHVUlEKFwiOENBQkRDQTEtQTk0Ny0xMUNGLThFRTQtMDBDMDBDMjA1MzY1XCIpO1xuR1VJRC5TdHJlYW1Qcm9wZXJ0aWVzT2JqZWN0ID0gbmV3IEdVSUQoXCJCN0RDMDc5MS1BOUI3LTExQ0YtOEVFNi0wMEMwMEMyMDUzNjVcIik7XG5HVUlELkhlYWRlckV4dGVuc2lvbk9iamVjdCA9IG5ldyBHVUlEKFwiNUZCRjAzQjUtQTkyRS0xMUNGLThFRTMtMDBDMDBDMjA1MzY1XCIpO1xuR1VJRC5Db2RlY0xpc3RPYmplY3QgPSBuZXcgR1VJRChcIjg2RDE1MjQwLTMxMUQtMTFEMC1BM0E0LTAwQTBDOTAzNDhGNlwiKTtcbkdVSUQuU2NyaXB0Q29tbWFuZE9iamVjdCA9IG5ldyBHVUlEKFwiMUVGQjFBMzAtMEI2Mi0xMUQwLUEzOUItMDBBMEM5MDM0OEY2XCIpO1xuR1VJRC5NYXJrZXJPYmplY3QgPSBuZXcgR1VJRChcIkY0ODdDRDAxLUE5NTEtMTFDRi04RUU2LTAwQzAwQzIwNTM2NVwiKTtcbkdVSUQuQml0cmF0ZU11dHVhbEV4Y2x1c2lvbk9iamVjdCA9IG5ldyBHVUlEKFwiRDZFMjI5REMtMzVEQS0xMUQxLTkwMzQtMDBBMEM5MDM0OUJFXCIpO1xuR1VJRC5FcnJvckNvcnJlY3Rpb25PYmplY3QgPSBuZXcgR1VJRChcIjc1QjIyNjM1LTY2OEUtMTFDRi1BNkQ5LTAwQUEwMDYyQ0U2Q1wiKTtcbkdVSUQuQ29udGVudERlc2NyaXB0aW9uT2JqZWN0ID0gbmV3IEdVSUQoXCI3NUIyMjYzMy02NjhFLTExQ0YtQTZEOS0wMEFBMDA2MkNFNkNcIik7XG5HVUlELkV4dGVuZGVkQ29udGVudERlc2NyaXB0aW9uT2JqZWN0ID0gbmV3IEdVSUQoXCJEMkQwQTQ0MC1FMzA3LTExRDItOTdGMC0wMEEwQzk1RUE4NTBcIik7XG5HVUlELkNvbnRlbnRCcmFuZGluZ09iamVjdCA9IG5ldyBHVUlEKFwiMjIxMUIzRkEtQkQyMy0xMUQyLUI0QjctMDBBMEM5NTVGQzZFXCIpO1xuR1VJRC5TdHJlYW1CaXRyYXRlUHJvcGVydGllc09iamVjdCA9IG5ldyBHVUlEKFwiN0JGODc1Q0UtNDY4RC0xMUQxLThEODItMDA2MDk3QzlBMkIyXCIpO1xuR1VJRC5Db250ZW50RW5jcnlwdGlvbk9iamVjdCA9IG5ldyBHVUlEKFwiMjIxMUIzRkItQkQyMy0xMUQyLUI0QjctMDBBMEM5NTVGQzZFXCIpO1xuR1VJRC5FeHRlbmRlZENvbnRlbnRFbmNyeXB0aW9uT2JqZWN0ID0gbmV3IEdVSUQoXCIyOThBRTYxNC0yNjIyLTRDMTctQjkzNS1EQUUwN0VFOTI4OUNcIik7XG5HVUlELkRpZ2l0YWxTaWduYXR1cmVPYmplY3QgPSBuZXcgR1VJRChcIjIyMTFCM0ZDLUJEMjMtMTFEMi1CNEI3LTAwQTBDOTU1RkM2RVwiKTtcbkdVSUQuUGFkZGluZ09iamVjdCA9IG5ldyBHVUlEKFwiMTgwNkQ0NzQtQ0FERi00NTA5LUE0QkEtOUFBQkNCOTZBQUU4XCIpO1xuLy8gMTAuMyBIZWFkZXIgRXh0ZW5zaW9uIE9iamVjdCBHVUlEc1xuR1VJRC5FeHRlbmRlZFN0cmVhbVByb3BlcnRpZXNPYmplY3QgPSBuZXcgR1VJRChcIjE0RTZBNUNCLUM2NzItNDMzMi04Mzk5LUE5Njk1MjA2NUI1QVwiKTtcbkdVSUQuQWR2YW5jZWRNdXR1YWxFeGNsdXNpb25PYmplY3QgPSBuZXcgR1VJRChcIkEwODY0OUNGLTQ3NzUtNDY3MC04QTE2LTZFMzUzNTc1NjZDRFwiKTtcbkdVSUQuR3JvdXBNdXR1YWxFeGNsdXNpb25PYmplY3QgPSBuZXcgR1VJRChcIkQxNDY1QTQwLTVBNzktNDMzOC1CNzFCLUUzNkI4RkQ2QzI0OVwiKTtcbkdVSUQuU3RyZWFtUHJpb3JpdGl6YXRpb25PYmplY3QgPSBuZXcgR1VJRChcIkQ0RkVEMTVCLTg4RDMtNDU0Ri04MUYwLUVENUM0NTk5OUUyNFwiKTtcbkdVSUQuQmFuZHdpZHRoU2hhcmluZ09iamVjdCA9IG5ldyBHVUlEKFwiQTY5NjA5RTYtNTE3Qi0xMUQyLUI2QUYtMDBDMDRGRDkwOEU5XCIpO1xuR1VJRC5MYW5ndWFnZUxpc3RPYmplY3QgPSBuZXcgR1VJRChcIjdDNDM0NkE5LUVGRTAtNEJGQy1CMjI5LTM5M0VERTQxNUM4NVwiKTtcbkdVSUQuTWV0YWRhdGFPYmplY3QgPSBuZXcgR1VJRChcIkM1RjhDQkVBLTVCQUYtNDg3Ny04NDY3LUFBOEM0NEZBNENDQVwiKTtcbkdVSUQuTWV0YWRhdGFMaWJyYXJ5T2JqZWN0ID0gbmV3IEdVSUQoXCI0NDIzMUM5NC05NDk4LTQ5RDEtQTE0MS0xRDEzNEU0NTcwNTRcIik7XG5HVUlELkluZGV4UGFyYW1ldGVyc09iamVjdCA9IG5ldyBHVUlEKFwiRDZFMjI5REYtMzVEQS0xMUQxLTkwMzQtMDBBMEM5MDM0OUJFXCIpO1xuR1VJRC5NZWRpYU9iamVjdEluZGV4UGFyYW1ldGVyc09iamVjdCA9IG5ldyBHVUlEKFwiNkIyMDNCQUQtM0YxMS00OEU0LUFDQTgtRDc2MTNERTJDRkE3XCIpO1xuR1VJRC5UaW1lY29kZUluZGV4UGFyYW1ldGVyc09iamVjdCA9IG5ldyBHVUlEKFwiRjU1RTQ5NkQtOTc5Ny00QjVELThDOEItNjA0REZFOUJGQjI0XCIpO1xuR1VJRC5Db21wYXRpYmlsaXR5T2JqZWN0ID0gbmV3IEdVSUQoXCIyNkYxOEI1RC00NTg0LTQ3RUMtOUY1Ri0wRTY1MUYwNDUyQzlcIik7XG5HVUlELkFkdmFuY2VkQ29udGVudEVuY3J5cHRpb25PYmplY3QgPSBuZXcgR1VJRChcIjQzMDU4NTMzLTY5ODEtNDlFNi05Qjc0LUFEMTJDQjg2RDU4Q1wiKTtcbi8vIDEwLjQgU3RyZWFtIFByb3BlcnRpZXMgT2JqZWN0IFN0cmVhbSBUeXBlIEdVSURzXG5HVUlELkF1ZGlvTWVkaWEgPSBuZXcgR1VJRChcIkY4Njk5RTQwLTVCNEQtMTFDRi1BOEZELTAwODA1RjVDNDQyQlwiKTtcbkdVSUQuVmlkZW9NZWRpYSA9IG5ldyBHVUlEKFwiQkMxOUVGQzAtNUI0RC0xMUNGLUE4RkQtMDA4MDVGNUM0NDJCXCIpO1xuR1VJRC5Db21tYW5kTWVkaWEgPSBuZXcgR1VJRChcIjU5REFDRkMwLTU5RTYtMTFEMC1BM0FDLTAwQTBDOTAzNDhGNlwiKTtcbkdVSUQuSkZJRl9NZWRpYSA9IG5ldyBHVUlEKFwiQjYxQkUxMDAtNUI0RS0xMUNGLUE4RkQtMDA4MDVGNUM0NDJCXCIpO1xuR1VJRC5EZWdyYWRhYmxlX0pQRUdfTWVkaWEgPSBuZXcgR1VJRChcIjM1OTA3REUwLUU0MTUtMTFDRi1BOTE3LTAwODA1RjVDNDQyQlwiKTtcbkdVSUQuRmlsZVRyYW5zZmVyTWVkaWEgPSBuZXcgR1VJRChcIjkxQkQyMjJDLUYyMUMtNDk3QS04QjZELTVBQTg2QkZDMDE4NVwiKTtcbkdVSUQuQmluYXJ5TWVkaWEgPSBuZXcgR1VJRChcIjNBRkI2NUUyLTQ3RUYtNDBGMi1BQzJDLTcwQTkwRDcxRDM0M1wiKTtcbkdVSUQuQVNGX0luZGV4X1BsYWNlaG9sZGVyX09iamVjdCA9IG5ldyBHVUlEKFwiRDlBQURFMjAtN0MxNy00RjlDLUJDMjgtODU1NUREOThFMkEyXCIpO1xuZXhwb3J0cy5kZWZhdWx0ID0gR1VJRDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/asf/GUID.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js":
/*!***************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/BasicParser.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BasicParser = void 0;\nclass BasicParser {\n    /**\n     * Initialize parser with output (metadata), input (tokenizer) & parsing options (options).\n     * @param {INativeMetadataCollector} metadata Output\n     * @param {ITokenizer} tokenizer Input\n     * @param {IOptions} options Parsing options\n     */\n    init(metadata, tokenizer, options) {\n        this.metadata = metadata;\n        this.tokenizer = tokenizer;\n        this.options = options;\n        return this;\n    }\n}\nexports.BasicParser = BasicParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9CYXNpY1BhcnNlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwQkFBMEI7QUFDekMsZUFBZSxZQUFZO0FBQzNCLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9CYXNpY1BhcnNlci5qcz9jMjM2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYXNpY1BhcnNlciA9IHZvaWQgMDtcbmNsYXNzIEJhc2ljUGFyc2VyIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHBhcnNlciB3aXRoIG91dHB1dCAobWV0YWRhdGEpLCBpbnB1dCAodG9rZW5pemVyKSAmIHBhcnNpbmcgb3B0aW9ucyAob3B0aW9ucykuXG4gICAgICogQHBhcmFtIHtJTmF0aXZlTWV0YWRhdGFDb2xsZWN0b3J9IG1ldGFkYXRhIE91dHB1dFxuICAgICAqIEBwYXJhbSB7SVRva2VuaXplcn0gdG9rZW5pemVyIElucHV0XG4gICAgICogQHBhcmFtIHtJT3B0aW9uc30gb3B0aW9ucyBQYXJzaW5nIG9wdGlvbnNcbiAgICAgKi9cbiAgICBpbml0KG1ldGFkYXRhLCB0b2tlbml6ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0cy5CYXNpY1BhcnNlciA9IEJhc2ljUGFyc2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js":
/*!*************************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CaseInsensitiveTagMap = void 0;\nconst GenericTagMapper_1 = __webpack_require__(/*! ./GenericTagMapper */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\nclass CaseInsensitiveTagMap extends GenericTagMapper_1.CommonTagMapper {\n    constructor(tagTypes, tagMap) {\n        const upperCaseMap = {};\n        for (const tag of Object.keys(tagMap)) {\n            upperCaseMap[tag.toUpperCase()] = tagMap[tag];\n        }\n        super(tagTypes, upperCaseMap);\n    }\n    /**\n     * @tag  Native header tag\n     * @return common tag name (alias)\n     */\n    getCommonName(tag) {\n        return this.tagMap[tag.toUpperCase()];\n    }\n}\nexports.CaseInsensitiveTagMap = CaseInsensitiveTagMap;\n//# sourceMappingURL=CaseInsensitiveTagMap.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9DYXNlSW5zZW5zaXRpdmVUYWdNYXAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsNkJBQTZCO0FBQzdCLDJCQUEyQixtQkFBTyxDQUFDLDhGQUFvQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9jb21tb24vQ2FzZUluc2Vuc2l0aXZlVGFnTWFwLmpzPzgxYjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNhc2VJbnNlbnNpdGl2ZVRhZ01hcCA9IHZvaWQgMDtcbmNvbnN0IEdlbmVyaWNUYWdNYXBwZXJfMSA9IHJlcXVpcmUoXCIuL0dlbmVyaWNUYWdNYXBwZXJcIik7XG5jbGFzcyBDYXNlSW5zZW5zaXRpdmVUYWdNYXAgZXh0ZW5kcyBHZW5lcmljVGFnTWFwcGVyXzEuQ29tbW9uVGFnTWFwcGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YWdUeXBlcywgdGFnTWFwKSB7XG4gICAgICAgIGNvbnN0IHVwcGVyQ2FzZU1hcCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiBPYmplY3Qua2V5cyh0YWdNYXApKSB7XG4gICAgICAgICAgICB1cHBlckNhc2VNYXBbdGFnLnRvVXBwZXJDYXNlKCldID0gdGFnTWFwW3RhZ107XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIodGFnVHlwZXMsIHVwcGVyQ2FzZU1hcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0YWcgIE5hdGl2ZSBoZWFkZXIgdGFnXG4gICAgICogQHJldHVybiBjb21tb24gdGFnIG5hbWUgKGFsaWFzKVxuICAgICAqL1xuICAgIGdldENvbW1vbk5hbWUodGFnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhZ01hcFt0YWcudG9VcHBlckNhc2UoKV07XG4gICAgfVxufVxuZXhwb3J0cy5DYXNlSW5zZW5zaXRpdmVUYWdNYXAgPSBDYXNlSW5zZW5zaXRpdmVUYWdNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYXNlSW5zZW5zaXRpdmVUYWdNYXAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/CombinedTagMapper.js":
/*!*********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/CombinedTagMapper.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CombinedTagMapper = void 0;\nconst ID3v1TagMap_1 = __webpack_require__(/*! ../id3v1/ID3v1TagMap */ \"(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1TagMap.js\");\nconst ID3v24TagMapper_1 = __webpack_require__(/*! ../id3v2/ID3v24TagMapper */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v24TagMapper.js\");\nconst AsfTagMapper_1 = __webpack_require__(/*! ../asf/AsfTagMapper */ \"(ssr)/./node_modules/music-metadata/lib/asf/AsfTagMapper.js\");\nconst ID3v22TagMapper_1 = __webpack_require__(/*! ../id3v2/ID3v22TagMapper */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v22TagMapper.js\");\nconst APEv2TagMapper_1 = __webpack_require__(/*! ../apev2/APEv2TagMapper */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2TagMapper.js\");\nconst MP4TagMapper_1 = __webpack_require__(/*! ../mp4/MP4TagMapper */ \"(ssr)/./node_modules/music-metadata/lib/mp4/MP4TagMapper.js\");\nconst VorbisTagMapper_1 = __webpack_require__(/*! ../ogg/vorbis/VorbisTagMapper */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisTagMapper.js\");\nconst RiffInfoTagMap_1 = __webpack_require__(/*! ../riff/RiffInfoTagMap */ \"(ssr)/./node_modules/music-metadata/lib/riff/RiffInfoTagMap.js\");\nconst MatroskaTagMapper_1 = __webpack_require__(/*! ../matroska/MatroskaTagMapper */ \"(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaTagMapper.js\");\nconst AiffTagMap_1 = __webpack_require__(/*! ../aiff/AiffTagMap */ \"(ssr)/./node_modules/music-metadata/lib/aiff/AiffTagMap.js\");\nclass CombinedTagMapper {\n    constructor() {\n        this.tagMappers = {};\n        [\n            new ID3v1TagMap_1.ID3v1TagMapper(),\n            new ID3v22TagMapper_1.ID3v22TagMapper(),\n            new ID3v24TagMapper_1.ID3v24TagMapper(),\n            new MP4TagMapper_1.MP4TagMapper(),\n            new MP4TagMapper_1.MP4TagMapper(),\n            new VorbisTagMapper_1.VorbisTagMapper(),\n            new APEv2TagMapper_1.APEv2TagMapper(),\n            new AsfTagMapper_1.AsfTagMapper(),\n            new RiffInfoTagMap_1.RiffInfoTagMapper(),\n            new MatroskaTagMapper_1.MatroskaTagMapper(),\n            new AiffTagMap_1.AiffTagMapper()\n        ].forEach(mapper => {\n            this.registerTagMapper(mapper);\n        });\n    }\n    /**\n     * Convert native to generic (common) tags\n     * @param tagType Originating tag format\n     * @param tag     Native tag to map to a generic tag id\n     * @param warnings\n     * @return Generic tag result (output of this function)\n     */\n    mapTag(tagType, tag, warnings) {\n        const tagMapper = this.tagMappers[tagType];\n        if (tagMapper) {\n            return this.tagMappers[tagType].mapGenericTag(tag, warnings);\n        }\n        throw new Error('No generic tag mapper defined for tag-format: ' + tagType);\n    }\n    registerTagMapper(genericTagMapper) {\n        for (const tagType of genericTagMapper.tagTypes) {\n            this.tagMappers[tagType] = genericTagMapper;\n        }\n    }\n}\nexports.CombinedTagMapper = CombinedTagMapper;\n//# sourceMappingURL=CombinedTagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9Db21iaW5lZFRhZ01hcHBlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUI7QUFDekIsc0JBQXNCLG1CQUFPLENBQUMsMEZBQXNCO0FBQ3BELDBCQUEwQixtQkFBTyxDQUFDLGtHQUEwQjtBQUM1RCx1QkFBdUIsbUJBQU8sQ0FBQyx3RkFBcUI7QUFDcEQsMEJBQTBCLG1CQUFPLENBQUMsa0dBQTBCO0FBQzVELHlCQUF5QixtQkFBTyxDQUFDLGdHQUF5QjtBQUMxRCx1QkFBdUIsbUJBQU8sQ0FBQyx3RkFBcUI7QUFDcEQsMEJBQTBCLG1CQUFPLENBQUMsNEdBQStCO0FBQ2pFLHlCQUF5QixtQkFBTyxDQUFDLDhGQUF3QjtBQUN6RCw0QkFBNEIsbUJBQU8sQ0FBQyw0R0FBK0I7QUFDbkUscUJBQXFCLG1CQUFPLENBQUMsc0ZBQW9CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9Db21iaW5lZFRhZ01hcHBlci5qcz83ZjI1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db21iaW5lZFRhZ01hcHBlciA9IHZvaWQgMDtcbmNvbnN0IElEM3YxVGFnTWFwXzEgPSByZXF1aXJlKFwiLi4vaWQzdjEvSUQzdjFUYWdNYXBcIik7XG5jb25zdCBJRDN2MjRUYWdNYXBwZXJfMSA9IHJlcXVpcmUoXCIuLi9pZDN2Mi9JRDN2MjRUYWdNYXBwZXJcIik7XG5jb25zdCBBc2ZUYWdNYXBwZXJfMSA9IHJlcXVpcmUoXCIuLi9hc2YvQXNmVGFnTWFwcGVyXCIpO1xuY29uc3QgSUQzdjIyVGFnTWFwcGVyXzEgPSByZXF1aXJlKFwiLi4vaWQzdjIvSUQzdjIyVGFnTWFwcGVyXCIpO1xuY29uc3QgQVBFdjJUYWdNYXBwZXJfMSA9IHJlcXVpcmUoXCIuLi9hcGV2Mi9BUEV2MlRhZ01hcHBlclwiKTtcbmNvbnN0IE1QNFRhZ01hcHBlcl8xID0gcmVxdWlyZShcIi4uL21wNC9NUDRUYWdNYXBwZXJcIik7XG5jb25zdCBWb3JiaXNUYWdNYXBwZXJfMSA9IHJlcXVpcmUoXCIuLi9vZ2cvdm9yYmlzL1ZvcmJpc1RhZ01hcHBlclwiKTtcbmNvbnN0IFJpZmZJbmZvVGFnTWFwXzEgPSByZXF1aXJlKFwiLi4vcmlmZi9SaWZmSW5mb1RhZ01hcFwiKTtcbmNvbnN0IE1hdHJvc2thVGFnTWFwcGVyXzEgPSByZXF1aXJlKFwiLi4vbWF0cm9za2EvTWF0cm9za2FUYWdNYXBwZXJcIik7XG5jb25zdCBBaWZmVGFnTWFwXzEgPSByZXF1aXJlKFwiLi4vYWlmZi9BaWZmVGFnTWFwXCIpO1xuY2xhc3MgQ29tYmluZWRUYWdNYXBwZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRhZ01hcHBlcnMgPSB7fTtcbiAgICAgICAgW1xuICAgICAgICAgICAgbmV3IElEM3YxVGFnTWFwXzEuSUQzdjFUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBJRDN2MjJUYWdNYXBwZXJfMS5JRDN2MjJUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBJRDN2MjRUYWdNYXBwZXJfMS5JRDN2MjRUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBNUDRUYWdNYXBwZXJfMS5NUDRUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBNUDRUYWdNYXBwZXJfMS5NUDRUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBWb3JiaXNUYWdNYXBwZXJfMS5Wb3JiaXNUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBBUEV2MlRhZ01hcHBlcl8xLkFQRXYyVGFnTWFwcGVyKCksXG4gICAgICAgICAgICBuZXcgQXNmVGFnTWFwcGVyXzEuQXNmVGFnTWFwcGVyKCksXG4gICAgICAgICAgICBuZXcgUmlmZkluZm9UYWdNYXBfMS5SaWZmSW5mb1RhZ01hcHBlcigpLFxuICAgICAgICAgICAgbmV3IE1hdHJvc2thVGFnTWFwcGVyXzEuTWF0cm9za2FUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBBaWZmVGFnTWFwXzEuQWlmZlRhZ01hcHBlcigpXG4gICAgICAgIF0uZm9yRWFjaChtYXBwZXIgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclRhZ01hcHBlcihtYXBwZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBuYXRpdmUgdG8gZ2VuZXJpYyAoY29tbW9uKSB0YWdzXG4gICAgICogQHBhcmFtIHRhZ1R5cGUgT3JpZ2luYXRpbmcgdGFnIGZvcm1hdFxuICAgICAqIEBwYXJhbSB0YWcgICAgIE5hdGl2ZSB0YWcgdG8gbWFwIHRvIGEgZ2VuZXJpYyB0YWcgaWRcbiAgICAgKiBAcGFyYW0gd2FybmluZ3NcbiAgICAgKiBAcmV0dXJuIEdlbmVyaWMgdGFnIHJlc3VsdCAob3V0cHV0IG9mIHRoaXMgZnVuY3Rpb24pXG4gICAgICovXG4gICAgbWFwVGFnKHRhZ1R5cGUsIHRhZywgd2FybmluZ3MpIHtcbiAgICAgICAgY29uc3QgdGFnTWFwcGVyID0gdGhpcy50YWdNYXBwZXJzW3RhZ1R5cGVdO1xuICAgICAgICBpZiAodGFnTWFwcGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YWdNYXBwZXJzW3RhZ1R5cGVdLm1hcEdlbmVyaWNUYWcodGFnLCB3YXJuaW5ncyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBnZW5lcmljIHRhZyBtYXBwZXIgZGVmaW5lZCBmb3IgdGFnLWZvcm1hdDogJyArIHRhZ1R5cGUpO1xuICAgIH1cbiAgICByZWdpc3RlclRhZ01hcHBlcihnZW5lcmljVGFnTWFwcGVyKSB7XG4gICAgICAgIGZvciAoY29uc3QgdGFnVHlwZSBvZiBnZW5lcmljVGFnTWFwcGVyLnRhZ1R5cGVzKSB7XG4gICAgICAgICAgICB0aGlzLnRhZ01hcHBlcnNbdGFnVHlwZV0gPSBnZW5lcmljVGFnTWFwcGVyO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Db21iaW5lZFRhZ01hcHBlciA9IENvbWJpbmVkVGFnTWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29tYmluZWRUYWdNYXBwZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/CombinedTagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/FourCC.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/FourCC.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FourCcToken = void 0;\nconst util = __webpack_require__(/*! ./Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst validFourCC = /^[\\x21-\\x7e©][\\x20-\\x7e\\x00()]{3}/;\n/**\n * Token for read FourCC\n * Ref: https://en.wikipedia.org/wiki/FourCC\n */\nexports.FourCcToken = {\n    len: 4,\n    get: (buf, off) => {\n        const id = buf.toString('binary', off, off + exports.FourCcToken.len);\n        if (!id.match(validFourCC)) {\n            throw new Error(`FourCC contains invalid characters: ${util.a2hex(id)} \"${id}\"`);\n        }\n        return id;\n    },\n    put: (buffer, offset, id) => {\n        const str = Buffer.from(id, 'binary');\n        if (str.length !== 4)\n            throw new Error('Invalid length');\n        return str.copy(buffer, offset);\n    }\n};\n//# sourceMappingURL=FourCC.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9Gb3VyQ0MuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CO0FBQ25CLGFBQWEsbUJBQU8sQ0FBQyxzRUFBUTtBQUM3QixvREFBb0QsRUFBRTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxnQkFBZ0IsR0FBRyxHQUFHO0FBQ3pGO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9jb21tb24vRm91ckNDLmpzPzk4NmMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZvdXJDY1Rva2VuID0gdm9pZCAwO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCIuL1V0aWxcIik7XG5jb25zdCB2YWxpZEZvdXJDQyA9IC9eW1xceDIxLVxceDdlwqldW1xceDIwLVxceDdlXFx4MDAoKV17M30vO1xuLyoqXG4gKiBUb2tlbiBmb3IgcmVhZCBGb3VyQ0NcbiAqIFJlZjogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRm91ckNDXG4gKi9cbmV4cG9ydHMuRm91ckNjVG9rZW4gPSB7XG4gICAgbGVuOiA0LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gYnVmLnRvU3RyaW5nKCdiaW5hcnknLCBvZmYsIG9mZiArIGV4cG9ydHMuRm91ckNjVG9rZW4ubGVuKTtcbiAgICAgICAgaWYgKCFpZC5tYXRjaCh2YWxpZEZvdXJDQykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRm91ckNDIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVyczogJHt1dGlsLmEyaGV4KGlkKX0gXCIke2lkfVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH0sXG4gICAgcHV0OiAoYnVmZmVyLCBvZmZzZXQsIGlkKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0ciA9IEJ1ZmZlci5mcm9tKGlkLCAnYmluYXJ5Jyk7XG4gICAgICAgIGlmIChzdHIubGVuZ3RoICE9PSA0KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxlbmd0aCcpO1xuICAgICAgICByZXR1cm4gc3RyLmNvcHkoYnVmZmVyLCBvZmZzZXQpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Gb3VyQ0MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/GenericTagMapper.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CommonTagMapper = void 0;\nclass CommonTagMapper {\n    static toIntOrNull(str) {\n        const cleaned = parseInt(str, 10);\n        return isNaN(cleaned) ? null : cleaned;\n    }\n    // TODO: a string of 1of1 would fail to be converted\n    // converts 1/10 to no : 1, of : 10\n    // or 1 to no : 1, of : 0\n    static normalizeTrack(origVal) {\n        const split = origVal.toString().split('/');\n        return {\n            no: parseInt(split[0], 10) || null,\n            of: parseInt(split[1], 10) || null\n        };\n    }\n    constructor(tagTypes, tagMap) {\n        this.tagTypes = tagTypes;\n        this.tagMap = tagMap;\n    }\n    /**\n     * Process and set common tags\n     * write common tags to\n     * @param tag Native tag\n     * @param warnings Register warnings\n     * @return common name\n     */\n    mapGenericTag(tag, warnings) {\n        tag = { id: tag.id, value: tag.value }; // clone object\n        this.postMap(tag, warnings);\n        // Convert native tag event to generic 'alias' tag\n        const id = this.getCommonName(tag.id);\n        return id ? { id, value: tag.value } : null;\n    }\n    /**\n     * Convert native tag key to common tag key\n     * @tag  Native header tag\n     * @return common tag name (alias)\n     */\n    getCommonName(tag) {\n        return this.tagMap[tag];\n    }\n    /**\n     * Handle post mapping exceptions / correction\n     * @param tag Tag e.g. {\"©alb\", \"Buena Vista Social Club\")\n     * @param warnings Used to register warnings\n     */\n    postMap(tag, warnings) {\n        return;\n    }\n}\nCommonTagMapper.maxRatingScore = 1;\nexports.CommonTagMapper = CommonTagMapper;\n//# sourceMappingURL=GenericTagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9HZW5lcmljVGFnTWFwcGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0NBQWdDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1QkFBdUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9jb21tb24vR2VuZXJpY1RhZ01hcHBlci5qcz9kM2E0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db21tb25UYWdNYXBwZXIgPSB2b2lkIDA7XG5jbGFzcyBDb21tb25UYWdNYXBwZXIge1xuICAgIHN0YXRpYyB0b0ludE9yTnVsbChzdHIpIHtcbiAgICAgICAgY29uc3QgY2xlYW5lZCA9IHBhcnNlSW50KHN0ciwgMTApO1xuICAgICAgICByZXR1cm4gaXNOYU4oY2xlYW5lZCkgPyBudWxsIDogY2xlYW5lZDtcbiAgICB9XG4gICAgLy8gVE9ETzogYSBzdHJpbmcgb2YgMW9mMSB3b3VsZCBmYWlsIHRvIGJlIGNvbnZlcnRlZFxuICAgIC8vIGNvbnZlcnRzIDEvMTAgdG8gbm8gOiAxLCBvZiA6IDEwXG4gICAgLy8gb3IgMSB0byBubyA6IDEsIG9mIDogMFxuICAgIHN0YXRpYyBub3JtYWxpemVUcmFjayhvcmlnVmFsKSB7XG4gICAgICAgIGNvbnN0IHNwbGl0ID0gb3JpZ1ZhbC50b1N0cmluZygpLnNwbGl0KCcvJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBubzogcGFyc2VJbnQoc3BsaXRbMF0sIDEwKSB8fCBudWxsLFxuICAgICAgICAgICAgb2Y6IHBhcnNlSW50KHNwbGl0WzFdLCAxMCkgfHwgbnVsbFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih0YWdUeXBlcywgdGFnTWFwKSB7XG4gICAgICAgIHRoaXMudGFnVHlwZXMgPSB0YWdUeXBlcztcbiAgICAgICAgdGhpcy50YWdNYXAgPSB0YWdNYXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYW5kIHNldCBjb21tb24gdGFnc1xuICAgICAqIHdyaXRlIGNvbW1vbiB0YWdzIHRvXG4gICAgICogQHBhcmFtIHRhZyBOYXRpdmUgdGFnXG4gICAgICogQHBhcmFtIHdhcm5pbmdzIFJlZ2lzdGVyIHdhcm5pbmdzXG4gICAgICogQHJldHVybiBjb21tb24gbmFtZVxuICAgICAqL1xuICAgIG1hcEdlbmVyaWNUYWcodGFnLCB3YXJuaW5ncykge1xuICAgICAgICB0YWcgPSB7IGlkOiB0YWcuaWQsIHZhbHVlOiB0YWcudmFsdWUgfTsgLy8gY2xvbmUgb2JqZWN0XG4gICAgICAgIHRoaXMucG9zdE1hcCh0YWcsIHdhcm5pbmdzKTtcbiAgICAgICAgLy8gQ29udmVydCBuYXRpdmUgdGFnIGV2ZW50IHRvIGdlbmVyaWMgJ2FsaWFzJyB0YWdcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmdldENvbW1vbk5hbWUodGFnLmlkKTtcbiAgICAgICAgcmV0dXJuIGlkID8geyBpZCwgdmFsdWU6IHRhZy52YWx1ZSB9IDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBuYXRpdmUgdGFnIGtleSB0byBjb21tb24gdGFnIGtleVxuICAgICAqIEB0YWcgIE5hdGl2ZSBoZWFkZXIgdGFnXG4gICAgICogQHJldHVybiBjb21tb24gdGFnIG5hbWUgKGFsaWFzKVxuICAgICAqL1xuICAgIGdldENvbW1vbk5hbWUodGFnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhZ01hcFt0YWddO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9zdCBtYXBwaW5nIGV4Y2VwdGlvbnMgLyBjb3JyZWN0aW9uXG4gICAgICogQHBhcmFtIHRhZyBUYWcgZS5nLiB7XCLCqWFsYlwiLCBcIkJ1ZW5hIFZpc3RhIFNvY2lhbCBDbHViXCIpXG4gICAgICogQHBhcmFtIHdhcm5pbmdzIFVzZWQgdG8gcmVnaXN0ZXIgd2FybmluZ3NcbiAgICAgKi9cbiAgICBwb3N0TWFwKHRhZywgd2FybmluZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbkNvbW1vblRhZ01hcHBlci5tYXhSYXRpbmdTY29yZSA9IDE7XG5leHBvcnRzLkNvbW1vblRhZ01hcHBlciA9IENvbW1vblRhZ01hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdlbmVyaWNUYWdNYXBwZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/GenericTagTypes.js":
/*!*******************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/GenericTagTypes.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isUnique = exports.isSingleton = exports.commonTags = void 0;\nexports.commonTags = {\n    year: { multiple: false },\n    track: { multiple: false },\n    disk: { multiple: false },\n    title: { multiple: false },\n    artist: { multiple: false },\n    artists: { multiple: true, unique: true },\n    albumartist: { multiple: false },\n    album: { multiple: false },\n    date: { multiple: false },\n    originaldate: { multiple: false },\n    originalyear: { multiple: false },\n    comment: { multiple: true, unique: false },\n    genre: { multiple: true, unique: true },\n    picture: { multiple: true, unique: true },\n    composer: { multiple: true, unique: true },\n    lyrics: { multiple: true, unique: false },\n    albumsort: { multiple: false, unique: true },\n    titlesort: { multiple: false, unique: true },\n    work: { multiple: false, unique: true },\n    artistsort: { multiple: false, unique: true },\n    albumartistsort: { multiple: false, unique: true },\n    composersort: { multiple: false, unique: true },\n    lyricist: { multiple: true, unique: true },\n    writer: { multiple: true, unique: true },\n    conductor: { multiple: true, unique: true },\n    remixer: { multiple: true, unique: true },\n    arranger: { multiple: true, unique: true },\n    engineer: { multiple: true, unique: true },\n    producer: { multiple: true, unique: true },\n    technician: { multiple: true, unique: true },\n    djmixer: { multiple: true, unique: true },\n    mixer: { multiple: true, unique: true },\n    label: { multiple: true, unique: true },\n    grouping: { multiple: false },\n    subtitle: { multiple: true },\n    discsubtitle: { multiple: false },\n    totaltracks: { multiple: false },\n    totaldiscs: { multiple: false },\n    compilation: { multiple: false },\n    rating: { multiple: true },\n    bpm: { multiple: false },\n    mood: { multiple: false },\n    media: { multiple: false },\n    catalognumber: { multiple: true, unique: true },\n    tvShow: { multiple: false },\n    tvShowSort: { multiple: false },\n    tvSeason: { multiple: false },\n    tvEpisode: { multiple: false },\n    tvEpisodeId: { multiple: false },\n    tvNetwork: { multiple: false },\n    podcast: { multiple: false },\n    podcasturl: { multiple: false },\n    releasestatus: { multiple: false },\n    releasetype: { multiple: true },\n    releasecountry: { multiple: false },\n    script: { multiple: false },\n    language: { multiple: false },\n    copyright: { multiple: false },\n    license: { multiple: false },\n    encodedby: { multiple: false },\n    encodersettings: { multiple: false },\n    gapless: { multiple: false },\n    barcode: { multiple: false },\n    isrc: { multiple: true },\n    asin: { multiple: false },\n    musicbrainz_recordingid: { multiple: false },\n    musicbrainz_trackid: { multiple: false },\n    musicbrainz_albumid: { multiple: false },\n    musicbrainz_artistid: { multiple: true },\n    musicbrainz_albumartistid: { multiple: true },\n    musicbrainz_releasegroupid: { multiple: false },\n    musicbrainz_workid: { multiple: false },\n    musicbrainz_trmid: { multiple: false },\n    musicbrainz_discid: { multiple: false },\n    acoustid_id: { multiple: false },\n    acoustid_fingerprint: { multiple: false },\n    musicip_puid: { multiple: false },\n    musicip_fingerprint: { multiple: false },\n    website: { multiple: false },\n    'performer:instrument': { multiple: true, unique: true },\n    averageLevel: { multiple: false },\n    peakLevel: { multiple: false },\n    notes: { multiple: true, unique: false },\n    key: { multiple: false },\n    originalalbum: { multiple: false },\n    originalartist: { multiple: false },\n    discogs_artist_id: { multiple: true, unique: true },\n    discogs_release_id: { multiple: false },\n    discogs_label_id: { multiple: false },\n    discogs_master_release_id: { multiple: false },\n    discogs_votes: { multiple: false },\n    discogs_rating: { multiple: false },\n    replaygain_track_peak: { multiple: false },\n    replaygain_track_gain: { multiple: false },\n    replaygain_album_peak: { multiple: false },\n    replaygain_album_gain: { multiple: false },\n    replaygain_track_minmax: { multiple: false },\n    replaygain_album_minmax: { multiple: false },\n    replaygain_undo: { multiple: false },\n    description: { multiple: true },\n    longDescription: { multiple: false },\n    category: { multiple: true },\n    hdVideo: { multiple: false },\n    keywords: { multiple: true },\n    movement: { multiple: false },\n    movementIndex: { multiple: false },\n    movementTotal: { multiple: false },\n    podcastId: { multiple: false },\n    showMovement: { multiple: false },\n    stik: { multiple: false }\n};\n/**\n * @param alias Name of common tag\n * @returns {boolean|*} true if given alias is mapped as a singleton', otherwise false\n */\nfunction isSingleton(alias) {\n    return exports.commonTags.hasOwnProperty(alias) && !exports.commonTags[alias].multiple;\n}\nexports.isSingleton = isSingleton;\n/**\n * @param alias Common (generic) tag\n * @returns {boolean|*} true if given alias is a singleton or explicitly marked as unique\n */\nfunction isUnique(alias) {\n    return !exports.commonTags[alias].multiple || exports.commonTags[alias].unique;\n}\nexports.isUnique = isUnique;\n//# sourceMappingURL=GenericTagTypes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9HZW5lcmljVGFnVHlwZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLEdBQUcsbUJBQW1CLEdBQUcsa0JBQWtCO0FBQzNELGtCQUFrQjtBQUNsQixZQUFZLGlCQUFpQjtBQUM3QixhQUFhLGlCQUFpQjtBQUM5QixZQUFZLGlCQUFpQjtBQUM3QixhQUFhLGlCQUFpQjtBQUM5QixjQUFjLGlCQUFpQjtBQUMvQixlQUFlLDhCQUE4QjtBQUM3QyxtQkFBbUIsaUJBQWlCO0FBQ3BDLGFBQWEsaUJBQWlCO0FBQzlCLFlBQVksaUJBQWlCO0FBQzdCLG9CQUFvQixpQkFBaUI7QUFDckMsb0JBQW9CLGlCQUFpQjtBQUNyQyxlQUFlLCtCQUErQjtBQUM5QyxhQUFhLDhCQUE4QjtBQUMzQyxlQUFlLDhCQUE4QjtBQUM3QyxnQkFBZ0IsOEJBQThCO0FBQzlDLGNBQWMsK0JBQStCO0FBQzdDLGlCQUFpQiwrQkFBK0I7QUFDaEQsaUJBQWlCLCtCQUErQjtBQUNoRCxZQUFZLCtCQUErQjtBQUMzQyxrQkFBa0IsK0JBQStCO0FBQ2pELHVCQUF1QiwrQkFBK0I7QUFDdEQsb0JBQW9CLCtCQUErQjtBQUNuRCxnQkFBZ0IsOEJBQThCO0FBQzlDLGNBQWMsOEJBQThCO0FBQzVDLGlCQUFpQiw4QkFBOEI7QUFDL0MsZUFBZSw4QkFBOEI7QUFDN0MsZ0JBQWdCLDhCQUE4QjtBQUM5QyxnQkFBZ0IsOEJBQThCO0FBQzlDLGdCQUFnQiw4QkFBOEI7QUFDOUMsa0JBQWtCLDhCQUE4QjtBQUNoRCxlQUFlLDhCQUE4QjtBQUM3QyxhQUFhLDhCQUE4QjtBQUMzQyxhQUFhLDhCQUE4QjtBQUMzQyxnQkFBZ0IsaUJBQWlCO0FBQ2pDLGdCQUFnQixnQkFBZ0I7QUFDaEMsb0JBQW9CLGlCQUFpQjtBQUNyQyxtQkFBbUIsaUJBQWlCO0FBQ3BDLGtCQUFrQixpQkFBaUI7QUFDbkMsbUJBQW1CLGlCQUFpQjtBQUNwQyxjQUFjLGdCQUFnQjtBQUM5QixXQUFXLGlCQUFpQjtBQUM1QixZQUFZLGlCQUFpQjtBQUM3QixhQUFhLGlCQUFpQjtBQUM5QixxQkFBcUIsOEJBQThCO0FBQ25ELGNBQWMsaUJBQWlCO0FBQy9CLGtCQUFrQixpQkFBaUI7QUFDbkMsZ0JBQWdCLGlCQUFpQjtBQUNqQyxpQkFBaUIsaUJBQWlCO0FBQ2xDLG1CQUFtQixpQkFBaUI7QUFDcEMsaUJBQWlCLGlCQUFpQjtBQUNsQyxlQUFlLGlCQUFpQjtBQUNoQyxrQkFBa0IsaUJBQWlCO0FBQ25DLHFCQUFxQixpQkFBaUI7QUFDdEMsbUJBQW1CLGdCQUFnQjtBQUNuQyxzQkFBc0IsaUJBQWlCO0FBQ3ZDLGNBQWMsaUJBQWlCO0FBQy9CLGdCQUFnQixpQkFBaUI7QUFDakMsaUJBQWlCLGlCQUFpQjtBQUNsQyxlQUFlLGlCQUFpQjtBQUNoQyxpQkFBaUIsaUJBQWlCO0FBQ2xDLHVCQUF1QixpQkFBaUI7QUFDeEMsZUFBZSxpQkFBaUI7QUFDaEMsZUFBZSxpQkFBaUI7QUFDaEMsWUFBWSxnQkFBZ0I7QUFDNUIsWUFBWSxpQkFBaUI7QUFDN0IsK0JBQStCLGlCQUFpQjtBQUNoRCwyQkFBMkIsaUJBQWlCO0FBQzVDLDJCQUEyQixpQkFBaUI7QUFDNUMsNEJBQTRCLGdCQUFnQjtBQUM1QyxpQ0FBaUMsZ0JBQWdCO0FBQ2pELGtDQUFrQyxpQkFBaUI7QUFDbkQsMEJBQTBCLGlCQUFpQjtBQUMzQyx5QkFBeUIsaUJBQWlCO0FBQzFDLDBCQUEwQixpQkFBaUI7QUFDM0MsbUJBQW1CLGlCQUFpQjtBQUNwQyw0QkFBNEIsaUJBQWlCO0FBQzdDLG9CQUFvQixpQkFBaUI7QUFDckMsMkJBQTJCLGlCQUFpQjtBQUM1QyxlQUFlLGlCQUFpQjtBQUNoQyw4QkFBOEIsOEJBQThCO0FBQzVELG9CQUFvQixpQkFBaUI7QUFDckMsaUJBQWlCLGlCQUFpQjtBQUNsQyxhQUFhLCtCQUErQjtBQUM1QyxXQUFXLGlCQUFpQjtBQUM1QixxQkFBcUIsaUJBQWlCO0FBQ3RDLHNCQUFzQixpQkFBaUI7QUFDdkMseUJBQXlCLDhCQUE4QjtBQUN2RCwwQkFBMEIsaUJBQWlCO0FBQzNDLHdCQUF3QixpQkFBaUI7QUFDekMsaUNBQWlDLGlCQUFpQjtBQUNsRCxxQkFBcUIsaUJBQWlCO0FBQ3RDLHNCQUFzQixpQkFBaUI7QUFDdkMsNkJBQTZCLGlCQUFpQjtBQUM5Qyw2QkFBNkIsaUJBQWlCO0FBQzlDLDZCQUE2QixpQkFBaUI7QUFDOUMsNkJBQTZCLGlCQUFpQjtBQUM5QywrQkFBK0IsaUJBQWlCO0FBQ2hELCtCQUErQixpQkFBaUI7QUFDaEQsdUJBQXVCLGlCQUFpQjtBQUN4QyxtQkFBbUIsZ0JBQWdCO0FBQ25DLHVCQUF1QixpQkFBaUI7QUFDeEMsZ0JBQWdCLGdCQUFnQjtBQUNoQyxlQUFlLGlCQUFpQjtBQUNoQyxnQkFBZ0IsZ0JBQWdCO0FBQ2hDLGdCQUFnQixpQkFBaUI7QUFDakMscUJBQXFCLGlCQUFpQjtBQUN0QyxxQkFBcUIsaUJBQWlCO0FBQ3RDLGlCQUFpQixpQkFBaUI7QUFDbEMsb0JBQW9CLGlCQUFpQjtBQUNyQyxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsYUFBYSxXQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQSxhQUFhLFdBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvY29tbW9uL0dlbmVyaWNUYWdUeXBlcy5qcz9hYzZmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1VuaXF1ZSA9IGV4cG9ydHMuaXNTaW5nbGV0b24gPSBleHBvcnRzLmNvbW1vblRhZ3MgPSB2b2lkIDA7XG5leHBvcnRzLmNvbW1vblRhZ3MgPSB7XG4gICAgeWVhcjogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICB0cmFjazogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBkaXNrOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHRpdGxlOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGFydGlzdDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBhcnRpc3RzOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBhbGJ1bWFydGlzdDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBhbGJ1bTogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBkYXRlOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIG9yaWdpbmFsZGF0ZTogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBvcmlnaW5hbHllYXI6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgY29tbWVudDogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiBmYWxzZSB9LFxuICAgIGdlbnJlOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBwaWN0dXJlOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBjb21wb3NlcjogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgbHlyaWNzOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IGZhbHNlIH0sXG4gICAgYWxidW1zb3J0OiB7IG11bHRpcGxlOiBmYWxzZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgdGl0bGVzb3J0OiB7IG11bHRpcGxlOiBmYWxzZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgd29yazogeyBtdWx0aXBsZTogZmFsc2UsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIGFydGlzdHNvcnQ6IHsgbXVsdGlwbGU6IGZhbHNlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBhbGJ1bWFydGlzdHNvcnQ6IHsgbXVsdGlwbGU6IGZhbHNlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBjb21wb3NlcnNvcnQ6IHsgbXVsdGlwbGU6IGZhbHNlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBseXJpY2lzdDogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgd3JpdGVyOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBjb25kdWN0b3I6IHsgbXVsdGlwbGU6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIHJlbWl4ZXI6IHsgbXVsdGlwbGU6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIGFycmFuZ2VyOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBlbmdpbmVlcjogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgcHJvZHVjZXI6IHsgbXVsdGlwbGU6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIHRlY2huaWNpYW46IHsgbXVsdGlwbGU6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIGRqbWl4ZXI6IHsgbXVsdGlwbGU6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIG1peGVyOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBsYWJlbDogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgZ3JvdXBpbmc6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgc3VidGl0bGU6IHsgbXVsdGlwbGU6IHRydWUgfSxcbiAgICBkaXNjc3VidGl0bGU6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgdG90YWx0cmFja3M6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgdG90YWxkaXNjczogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBjb21waWxhdGlvbjogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICByYXRpbmc6IHsgbXVsdGlwbGU6IHRydWUgfSxcbiAgICBicG06IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgbW9vZDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBtZWRpYTogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBjYXRhbG9nbnVtYmVyOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICB0dlNob3c6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgdHZTaG93U29ydDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICB0dlNlYXNvbjogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICB0dkVwaXNvZGU6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgdHZFcGlzb2RlSWQ6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgdHZOZXR3b3JrOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHBvZGNhc3Q6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgcG9kY2FzdHVybDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICByZWxlYXNlc3RhdHVzOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHJlbGVhc2V0eXBlOiB7IG11bHRpcGxlOiB0cnVlIH0sXG4gICAgcmVsZWFzZWNvdW50cnk6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgc2NyaXB0OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGxhbmd1YWdlOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGNvcHlyaWdodDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBsaWNlbnNlOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGVuY29kZWRieTogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBlbmNvZGVyc2V0dGluZ3M6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgZ2FwbGVzczogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBiYXJjb2RlOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGlzcmM6IHsgbXVsdGlwbGU6IHRydWUgfSxcbiAgICBhc2luOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIG11c2ljYnJhaW56X3JlY29yZGluZ2lkOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIG11c2ljYnJhaW56X3RyYWNraWQ6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgbXVzaWNicmFpbnpfYWxidW1pZDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBtdXNpY2JyYWluel9hcnRpc3RpZDogeyBtdWx0aXBsZTogdHJ1ZSB9LFxuICAgIG11c2ljYnJhaW56X2FsYnVtYXJ0aXN0aWQ6IHsgbXVsdGlwbGU6IHRydWUgfSxcbiAgICBtdXNpY2JyYWluel9yZWxlYXNlZ3JvdXBpZDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBtdXNpY2JyYWluel93b3JraWQ6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgbXVzaWNicmFpbnpfdHJtaWQ6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgbXVzaWNicmFpbnpfZGlzY2lkOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGFjb3VzdGlkX2lkOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGFjb3VzdGlkX2ZpbmdlcnByaW50OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIG11c2ljaXBfcHVpZDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBtdXNpY2lwX2ZpbmdlcnByaW50OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHdlYnNpdGU6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgJ3BlcmZvcm1lcjppbnN0cnVtZW50JzogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgYXZlcmFnZUxldmVsOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHBlYWtMZXZlbDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBub3RlczogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiBmYWxzZSB9LFxuICAgIGtleTogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBvcmlnaW5hbGFsYnVtOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIG9yaWdpbmFsYXJ0aXN0OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGRpc2NvZ3NfYXJ0aXN0X2lkOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBkaXNjb2dzX3JlbGVhc2VfaWQ6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgZGlzY29nc19sYWJlbF9pZDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBkaXNjb2dzX21hc3Rlcl9yZWxlYXNlX2lkOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGRpc2NvZ3Nfdm90ZXM6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgZGlzY29nc19yYXRpbmc6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgcmVwbGF5Z2Fpbl90cmFja19wZWFrOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHJlcGxheWdhaW5fdHJhY2tfZ2FpbjogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICByZXBsYXlnYWluX2FsYnVtX3BlYWs6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgcmVwbGF5Z2Fpbl9hbGJ1bV9nYWluOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHJlcGxheWdhaW5fdHJhY2tfbWlubWF4OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHJlcGxheWdhaW5fYWxidW1fbWlubWF4OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHJlcGxheWdhaW5fdW5kbzogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBkZXNjcmlwdGlvbjogeyBtdWx0aXBsZTogdHJ1ZSB9LFxuICAgIGxvbmdEZXNjcmlwdGlvbjogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBjYXRlZ29yeTogeyBtdWx0aXBsZTogdHJ1ZSB9LFxuICAgIGhkVmlkZW86IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAga2V5d29yZHM6IHsgbXVsdGlwbGU6IHRydWUgfSxcbiAgICBtb3ZlbWVudDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBtb3ZlbWVudEluZGV4OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIG1vdmVtZW50VG90YWw6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgcG9kY2FzdElkOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHNob3dNb3ZlbWVudDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBzdGlrOiB7IG11bHRpcGxlOiBmYWxzZSB9XG59O1xuLyoqXG4gKiBAcGFyYW0gYWxpYXMgTmFtZSBvZiBjb21tb24gdGFnXG4gKiBAcmV0dXJucyB7Ym9vbGVhbnwqfSB0cnVlIGlmIGdpdmVuIGFsaWFzIGlzIG1hcHBlZCBhcyBhIHNpbmdsZXRvbicsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1NpbmdsZXRvbihhbGlhcykge1xuICAgIHJldHVybiBleHBvcnRzLmNvbW1vblRhZ3MuaGFzT3duUHJvcGVydHkoYWxpYXMpICYmICFleHBvcnRzLmNvbW1vblRhZ3NbYWxpYXNdLm11bHRpcGxlO1xufVxuZXhwb3J0cy5pc1NpbmdsZXRvbiA9IGlzU2luZ2xldG9uO1xuLyoqXG4gKiBAcGFyYW0gYWxpYXMgQ29tbW9uIChnZW5lcmljKSB0YWdcbiAqIEByZXR1cm5zIHtib29sZWFufCp9IHRydWUgaWYgZ2l2ZW4gYWxpYXMgaXMgYSBzaW5nbGV0b24gb3IgZXhwbGljaXRseSBtYXJrZWQgYXMgdW5pcXVlXG4gKi9cbmZ1bmN0aW9uIGlzVW5pcXVlKGFsaWFzKSB7XG4gICAgcmV0dXJuICFleHBvcnRzLmNvbW1vblRhZ3NbYWxpYXNdLm11bHRpcGxlIHx8IGV4cG9ydHMuY29tbW9uVGFnc1thbGlhc10udW5pcXVlO1xufVxuZXhwb3J0cy5pc1VuaXF1ZSA9IGlzVW5pcXVlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2VuZXJpY1RhZ1R5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/GenericTagTypes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/MetadataCollector.js":
/*!*********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/MetadataCollector.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.joinArtists = exports.MetadataCollector = void 0;\nconst type_1 = __webpack_require__(/*! ../type */ \"(ssr)/./node_modules/music-metadata/lib/type.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst GenericTagTypes_1 = __webpack_require__(/*! ./GenericTagTypes */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagTypes.js\");\nconst CombinedTagMapper_1 = __webpack_require__(/*! ./CombinedTagMapper */ \"(ssr)/./node_modules/music-metadata/lib/common/CombinedTagMapper.js\");\nconst GenericTagMapper_1 = __webpack_require__(/*! ./GenericTagMapper */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\nconst Util_1 = __webpack_require__(/*! ./Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst FileType = __webpack_require__(/*! file-type/core */ \"(ssr)/./node_modules/file-type/core.js\");\nconst debug = (0, debug_1.default)('music-metadata:collector');\nconst TagPriority = ['matroska', 'APEv2', 'vorbis', 'ID3v2.4', 'ID3v2.3', 'ID3v2.2', 'exif', 'asf', 'iTunes', 'AIFF', 'ID3v1'];\n/**\n * Provided to the parser to uodate the metadata result.\n * Responsible for triggering async updates\n */\nclass MetadataCollector {\n    constructor(opts) {\n        this.opts = opts;\n        this.format = {\n            tagTypes: [],\n            trackInfo: []\n        };\n        this.native = {};\n        this.common = {\n            track: { no: null, of: null },\n            disk: { no: null, of: null },\n            movementIndex: {}\n        };\n        this.quality = {\n            warnings: []\n        };\n        /**\n         * Keeps track of origin priority for each mapped id\n         */\n        this.commonOrigin = {};\n        /**\n         * Maps a tag type to a priority\n         */\n        this.originPriority = {};\n        this.tagMapper = new CombinedTagMapper_1.CombinedTagMapper();\n        let priority = 1;\n        for (const tagType of TagPriority) {\n            this.originPriority[tagType] = priority++;\n        }\n        this.originPriority.artificial = 500; // Filled using alternative tags\n        this.originPriority.id3v1 = 600; // Consider as the worst because of the field length limit\n    }\n    /**\n     * @returns {boolean} true if one or more tags have been found\n     */\n    hasAny() {\n        return Object.keys(this.native).length > 0;\n    }\n    addStreamInfo(streamInfo) {\n        debug(`streamInfo: type=${type_1.TrackType[streamInfo.type]}, codec=${streamInfo.codecName}`);\n        this.format.trackInfo.push(streamInfo);\n    }\n    setFormat(key, value) {\n        debug(`format: ${key} = ${value}`);\n        this.format[key] = value; // as any to override readonly\n        if (this.opts.observer) {\n            this.opts.observer({ metadata: this, tag: { type: 'format', id: key, value } });\n        }\n    }\n    addTag(tagType, tagId, value) {\n        debug(`tag ${tagType}.${tagId} = ${value}`);\n        if (!this.native[tagType]) {\n            this.format.tagTypes.push(tagType);\n            this.native[tagType] = [];\n        }\n        this.native[tagType].push({ id: tagId, value });\n        this.toCommon(tagType, tagId, value);\n    }\n    addWarning(warning) {\n        this.quality.warnings.push({ message: warning });\n    }\n    postMap(tagType, tag) {\n        // Common tag (alias) found\n        // check if we need to do something special with common tag\n        // if the event has been aliased then we need to clean it before\n        // it is emitted to the user. e.g. genre (20) -> Electronic\n        switch (tag.id) {\n            case 'artist':\n                if (this.commonOrigin.artist === this.originPriority[tagType]) {\n                    // Assume the artist field is used as artists\n                    return this.postMap('artificial', { id: 'artists', value: tag.value });\n                }\n                if (!this.common.artists) {\n                    // Fill artists using artist source\n                    this.setGenericTag('artificial', { id: 'artists', value: tag.value });\n                }\n                break;\n            case 'artists':\n                if (!this.common.artist || this.commonOrigin.artist === this.originPriority.artificial) {\n                    if (!this.common.artists || this.common.artists.indexOf(tag.value) === -1) {\n                        // Fill artist using artists source\n                        const artists = (this.common.artists || []).concat([tag.value]);\n                        const value = joinArtists(artists);\n                        const artistTag = { id: 'artist', value };\n                        this.setGenericTag('artificial', artistTag);\n                    }\n                }\n                break;\n            case 'picture':\n                this.postFixPicture(tag.value).then(picture => {\n                    if (picture !== null) {\n                        tag.value = picture;\n                        this.setGenericTag(tagType, tag);\n                    }\n                });\n                return;\n            case 'totaltracks':\n                this.common.track.of = GenericTagMapper_1.CommonTagMapper.toIntOrNull(tag.value);\n                return;\n            case 'totaldiscs':\n                this.common.disk.of = GenericTagMapper_1.CommonTagMapper.toIntOrNull(tag.value);\n                return;\n            case 'movementTotal':\n                this.common.movementIndex.of = GenericTagMapper_1.CommonTagMapper.toIntOrNull(tag.value);\n                return;\n            case 'track':\n            case 'disk':\n            case 'movementIndex':\n                const of = this.common[tag.id].of; // store of value, maybe maybe overwritten\n                this.common[tag.id] = GenericTagMapper_1.CommonTagMapper.normalizeTrack(tag.value);\n                this.common[tag.id].of = of != null ? of : this.common[tag.id].of;\n                return;\n            case 'bpm':\n            case 'year':\n            case 'originalyear':\n                tag.value = parseInt(tag.value, 10);\n                break;\n            case 'date':\n                // ToDo: be more strict on 'YYYY...'\n                const year = parseInt(tag.value.substr(0, 4), 10);\n                if (!isNaN(year)) {\n                    this.common.year = year;\n                }\n                break;\n            case 'discogs_label_id':\n            case 'discogs_release_id':\n            case 'discogs_master_release_id':\n            case 'discogs_artist_id':\n            case 'discogs_votes':\n                tag.value = typeof tag.value === 'string' ? parseInt(tag.value, 10) : tag.value;\n                break;\n            case 'replaygain_track_gain':\n            case 'replaygain_track_peak':\n            case 'replaygain_album_gain':\n            case 'replaygain_album_peak':\n                tag.value = (0, Util_1.toRatio)(tag.value);\n                break;\n            case 'replaygain_track_minmax':\n                tag.value = tag.value.split(',').map(v => parseInt(v, 10));\n                break;\n            case 'replaygain_undo':\n                const minMix = tag.value.split(',').map(v => parseInt(v, 10));\n                tag.value = {\n                    leftChannel: minMix[0],\n                    rightChannel: minMix[1]\n                };\n                break;\n            case 'gapless': // iTunes gap-less flag\n            case 'compilation':\n            case 'podcast':\n            case 'showMovement':\n                tag.value = tag.value === '1' || tag.value === 1; // boolean\n                break;\n            case 'isrc': // Only keep unique values\n                if (this.common[tag.id] && this.common[tag.id].indexOf(tag.value) !== -1)\n                    return;\n                break;\n            default:\n            // nothing to do\n        }\n        if (tag.value !== null) {\n            this.setGenericTag(tagType, tag);\n        }\n    }\n    /**\n     * Convert native tags to common tags\n     * @returns {IAudioMetadata} Native + common tags\n     */\n    toCommonMetadata() {\n        return {\n            format: this.format,\n            native: this.native,\n            quality: this.quality,\n            common: this.common\n        };\n    }\n    /**\n     * Fix some common issues with picture object\n     * @param picture Picture\n     */\n    async postFixPicture(picture) {\n        if (picture.data && picture.data.length > 0) {\n            if (!picture.format) {\n                const fileType = await FileType.fromBuffer(picture.data);\n                if (fileType) {\n                    picture.format = fileType.mime;\n                }\n                else {\n                    return null;\n                }\n            }\n            picture.format = picture.format.toLocaleLowerCase();\n            switch (picture.format) {\n                case 'image/jpg':\n                    picture.format = 'image/jpeg'; // ToDo: register warning\n            }\n            return picture;\n        }\n        this.addWarning(`Empty picture tag found`);\n        return null;\n    }\n    /**\n     * Convert native tag to common tags\n     */\n    toCommon(tagType, tagId, value) {\n        const tag = { id: tagId, value };\n        const genericTag = this.tagMapper.mapTag(tagType, tag, this);\n        if (genericTag) {\n            this.postMap(tagType, genericTag);\n        }\n    }\n    /**\n     * Set generic tag\n     */\n    setGenericTag(tagType, tag) {\n        debug(`common.${tag.id} = ${tag.value}`);\n        const prio0 = this.commonOrigin[tag.id] || 1000;\n        const prio1 = this.originPriority[tagType];\n        if ((0, GenericTagTypes_1.isSingleton)(tag.id)) {\n            if (prio1 <= prio0) {\n                this.common[tag.id] = tag.value;\n                this.commonOrigin[tag.id] = prio1;\n            }\n            else {\n                return debug(`Ignore native tag (singleton): ${tagType}.${tag.id} = ${tag.value}`);\n            }\n        }\n        else {\n            if (prio1 === prio0) {\n                if (!(0, GenericTagTypes_1.isUnique)(tag.id) || this.common[tag.id].indexOf(tag.value) === -1) {\n                    this.common[tag.id].push(tag.value);\n                }\n                else {\n                    debug(`Ignore duplicate value: ${tagType}.${tag.id} = ${tag.value}`);\n                }\n                // no effect? this.commonOrigin[tag.id] = prio1;\n            }\n            else if (prio1 < prio0) {\n                this.common[tag.id] = [tag.value];\n                this.commonOrigin[tag.id] = prio1;\n            }\n            else {\n                return debug(`Ignore native tag (list): ${tagType}.${tag.id} = ${tag.value}`);\n            }\n        }\n        if (this.opts.observer) {\n            this.opts.observer({ metadata: this, tag: { type: 'common', id: tag.id, value: tag.value } });\n        }\n        // ToDo: trigger metadata event\n    }\n}\nexports.MetadataCollector = MetadataCollector;\nfunction joinArtists(artists) {\n    if (artists.length > 2) {\n        return artists.slice(0, artists.length - 1).join(', ') + ' & ' + artists[artists.length - 1];\n    }\n    return artists.join(' & ');\n}\nexports.joinArtists = joinArtists;\n//# sourceMappingURL=MetadataCollector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9NZXRhZGF0YUNvbGxlY3Rvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUIsR0FBRyx5QkFBeUI7QUFDL0MsZUFBZSxtQkFBTyxDQUFDLGdFQUFTO0FBQ2hDLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLDBCQUEwQixtQkFBTyxDQUFDLDRGQUFtQjtBQUNyRCw0QkFBNEIsbUJBQU8sQ0FBQyxnR0FBcUI7QUFDekQsMkJBQTJCLG1CQUFPLENBQUMsOEZBQW9CO0FBQ3ZELGVBQWUsbUJBQU8sQ0FBQyxzRUFBUTtBQUMvQixpQkFBaUIsbUJBQU8sQ0FBQyw4REFBZ0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG9CQUFvQjtBQUN6QyxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5Qyx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0NBQWtDLFVBQVUscUJBQXFCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixLQUFLLElBQUksTUFBTTtBQUN4QyxrQ0FBa0M7QUFDbEM7QUFDQSxpQ0FBaUMsdUJBQXVCLGtDQUFrQztBQUMxRjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsUUFBUSxHQUFHLE9BQU8sSUFBSSxNQUFNO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGtCQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsa0JBQWtCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGlDQUFpQztBQUN6RjtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsaUNBQWlDO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUSxJQUFJLFVBQVU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxRQUFRLEdBQUcsUUFBUSxJQUFJLFVBQVU7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxRQUFRLEdBQUcsUUFBUSxJQUFJLFVBQVU7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxRQUFRLEdBQUcsUUFBUSxJQUFJLFVBQVU7QUFDM0Y7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVCQUF1QixnREFBZ0Q7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9NZXRhZGF0YUNvbGxlY3Rvci5qcz9mOGNkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5qb2luQXJ0aXN0cyA9IGV4cG9ydHMuTWV0YWRhdGFDb2xsZWN0b3IgPSB2b2lkIDA7XG5jb25zdCB0eXBlXzEgPSByZXF1aXJlKFwiLi4vdHlwZVwiKTtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCBHZW5lcmljVGFnVHlwZXNfMSA9IHJlcXVpcmUoXCIuL0dlbmVyaWNUYWdUeXBlc1wiKTtcbmNvbnN0IENvbWJpbmVkVGFnTWFwcGVyXzEgPSByZXF1aXJlKFwiLi9Db21iaW5lZFRhZ01hcHBlclwiKTtcbmNvbnN0IEdlbmVyaWNUYWdNYXBwZXJfMSA9IHJlcXVpcmUoXCIuL0dlbmVyaWNUYWdNYXBwZXJcIik7XG5jb25zdCBVdGlsXzEgPSByZXF1aXJlKFwiLi9VdGlsXCIpO1xuY29uc3QgRmlsZVR5cGUgPSByZXF1aXJlKFwiZmlsZS10eXBlL2NvcmVcIik7XG5jb25zdCBkZWJ1ZyA9ICgwLCBkZWJ1Z18xLmRlZmF1bHQpKCdtdXNpYy1tZXRhZGF0YTpjb2xsZWN0b3InKTtcbmNvbnN0IFRhZ1ByaW9yaXR5ID0gWydtYXRyb3NrYScsICdBUEV2MicsICd2b3JiaXMnLCAnSUQzdjIuNCcsICdJRDN2Mi4zJywgJ0lEM3YyLjInLCAnZXhpZicsICdhc2YnLCAnaVR1bmVzJywgJ0FJRkYnLCAnSUQzdjEnXTtcbi8qKlxuICogUHJvdmlkZWQgdG8gdGhlIHBhcnNlciB0byB1b2RhdGUgdGhlIG1ldGFkYXRhIHJlc3VsdC5cbiAqIFJlc3BvbnNpYmxlIGZvciB0cmlnZ2VyaW5nIGFzeW5jIHVwZGF0ZXNcbiAqL1xuY2xhc3MgTWV0YWRhdGFDb2xsZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICAgICAgdGhpcy5mb3JtYXQgPSB7XG4gICAgICAgICAgICB0YWdUeXBlczogW10sXG4gICAgICAgICAgICB0cmFja0luZm86IFtdXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubmF0aXZlID0ge307XG4gICAgICAgIHRoaXMuY29tbW9uID0ge1xuICAgICAgICAgICAgdHJhY2s6IHsgbm86IG51bGwsIG9mOiBudWxsIH0sXG4gICAgICAgICAgICBkaXNrOiB7IG5vOiBudWxsLCBvZjogbnVsbCB9LFxuICAgICAgICAgICAgbW92ZW1lbnRJbmRleDoge31cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWFsaXR5ID0ge1xuICAgICAgICAgICAgd2FybmluZ3M6IFtdXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwcyB0cmFjayBvZiBvcmlnaW4gcHJpb3JpdHkgZm9yIGVhY2ggbWFwcGVkIGlkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbW1vbk9yaWdpbiA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFwcyBhIHRhZyB0eXBlIHRvIGEgcHJpb3JpdHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3JpZ2luUHJpb3JpdHkgPSB7fTtcbiAgICAgICAgdGhpcy50YWdNYXBwZXIgPSBuZXcgQ29tYmluZWRUYWdNYXBwZXJfMS5Db21iaW5lZFRhZ01hcHBlcigpO1xuICAgICAgICBsZXQgcHJpb3JpdHkgPSAxO1xuICAgICAgICBmb3IgKGNvbnN0IHRhZ1R5cGUgb2YgVGFnUHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luUHJpb3JpdHlbdGFnVHlwZV0gPSBwcmlvcml0eSsrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3JpZ2luUHJpb3JpdHkuYXJ0aWZpY2lhbCA9IDUwMDsgLy8gRmlsbGVkIHVzaW5nIGFsdGVybmF0aXZlIHRhZ3NcbiAgICAgICAgdGhpcy5vcmlnaW5Qcmlvcml0eS5pZDN2MSA9IDYwMDsgLy8gQ29uc2lkZXIgYXMgdGhlIHdvcnN0IGJlY2F1c2Ugb2YgdGhlIGZpZWxkIGxlbmd0aCBsaW1pdFxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBvbmUgb3IgbW9yZSB0YWdzIGhhdmUgYmVlbiBmb3VuZFxuICAgICAqL1xuICAgIGhhc0FueSgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubmF0aXZlKS5sZW5ndGggPiAwO1xuICAgIH1cbiAgICBhZGRTdHJlYW1JbmZvKHN0cmVhbUluZm8pIHtcbiAgICAgICAgZGVidWcoYHN0cmVhbUluZm86IHR5cGU9JHt0eXBlXzEuVHJhY2tUeXBlW3N0cmVhbUluZm8udHlwZV19LCBjb2RlYz0ke3N0cmVhbUluZm8uY29kZWNOYW1lfWApO1xuICAgICAgICB0aGlzLmZvcm1hdC50cmFja0luZm8ucHVzaChzdHJlYW1JbmZvKTtcbiAgICB9XG4gICAgc2V0Rm9ybWF0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgZGVidWcoYGZvcm1hdDogJHtrZXl9ID0gJHt2YWx1ZX1gKTtcbiAgICAgICAgdGhpcy5mb3JtYXRba2V5XSA9IHZhbHVlOyAvLyBhcyBhbnkgdG8gb3ZlcnJpZGUgcmVhZG9ubHlcbiAgICAgICAgaWYgKHRoaXMub3B0cy5vYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5vcHRzLm9ic2VydmVyKHsgbWV0YWRhdGE6IHRoaXMsIHRhZzogeyB0eXBlOiAnZm9ybWF0JywgaWQ6IGtleSwgdmFsdWUgfSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRUYWcodGFnVHlwZSwgdGFnSWQsIHZhbHVlKSB7XG4gICAgICAgIGRlYnVnKGB0YWcgJHt0YWdUeXBlfS4ke3RhZ0lkfSA9ICR7dmFsdWV9YCk7XG4gICAgICAgIGlmICghdGhpcy5uYXRpdmVbdGFnVHlwZV0pIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0LnRhZ1R5cGVzLnB1c2godGFnVHlwZSk7XG4gICAgICAgICAgICB0aGlzLm5hdGl2ZVt0YWdUeXBlXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmF0aXZlW3RhZ1R5cGVdLnB1c2goeyBpZDogdGFnSWQsIHZhbHVlIH0pO1xuICAgICAgICB0aGlzLnRvQ29tbW9uKHRhZ1R5cGUsIHRhZ0lkLCB2YWx1ZSk7XG4gICAgfVxuICAgIGFkZFdhcm5pbmcod2FybmluZykge1xuICAgICAgICB0aGlzLnF1YWxpdHkud2FybmluZ3MucHVzaCh7IG1lc3NhZ2U6IHdhcm5pbmcgfSk7XG4gICAgfVxuICAgIHBvc3RNYXAodGFnVHlwZSwgdGFnKSB7XG4gICAgICAgIC8vIENvbW1vbiB0YWcgKGFsaWFzKSBmb3VuZFxuICAgICAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIGRvIHNvbWV0aGluZyBzcGVjaWFsIHdpdGggY29tbW9uIHRhZ1xuICAgICAgICAvLyBpZiB0aGUgZXZlbnQgaGFzIGJlZW4gYWxpYXNlZCB0aGVuIHdlIG5lZWQgdG8gY2xlYW4gaXQgYmVmb3JlXG4gICAgICAgIC8vIGl0IGlzIGVtaXR0ZWQgdG8gdGhlIHVzZXIuIGUuZy4gZ2VucmUgKDIwKSAtPiBFbGVjdHJvbmljXG4gICAgICAgIHN3aXRjaCAodGFnLmlkKSB7XG4gICAgICAgICAgICBjYXNlICdhcnRpc3QnOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbW1vbk9yaWdpbi5hcnRpc3QgPT09IHRoaXMub3JpZ2luUHJpb3JpdHlbdGFnVHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXNzdW1lIHRoZSBhcnRpc3QgZmllbGQgaXMgdXNlZCBhcyBhcnRpc3RzXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3RNYXAoJ2FydGlmaWNpYWwnLCB7IGlkOiAnYXJ0aXN0cycsIHZhbHVlOiB0YWcudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb21tb24uYXJ0aXN0cykge1xuICAgICAgICAgICAgICAgICAgICAvLyBGaWxsIGFydGlzdHMgdXNpbmcgYXJ0aXN0IHNvdXJjZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEdlbmVyaWNUYWcoJ2FydGlmaWNpYWwnLCB7IGlkOiAnYXJ0aXN0cycsIHZhbHVlOiB0YWcudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYXJ0aXN0cyc6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbW1vbi5hcnRpc3QgfHwgdGhpcy5jb21tb25PcmlnaW4uYXJ0aXN0ID09PSB0aGlzLm9yaWdpblByaW9yaXR5LmFydGlmaWNpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbW1vbi5hcnRpc3RzIHx8IHRoaXMuY29tbW9uLmFydGlzdHMuaW5kZXhPZih0YWcudmFsdWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlsbCBhcnRpc3QgdXNpbmcgYXJ0aXN0cyBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFydGlzdHMgPSAodGhpcy5jb21tb24uYXJ0aXN0cyB8fCBbXSkuY29uY2F0KFt0YWcudmFsdWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gam9pbkFydGlzdHMoYXJ0aXN0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnRpc3RUYWcgPSB7IGlkOiAnYXJ0aXN0JywgdmFsdWUgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0R2VuZXJpY1RhZygnYXJ0aWZpY2lhbCcsIGFydGlzdFRhZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwaWN0dXJlJzpcbiAgICAgICAgICAgICAgICB0aGlzLnBvc3RGaXhQaWN0dXJlKHRhZy52YWx1ZSkudGhlbihwaWN0dXJlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpY3R1cmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZy52YWx1ZSA9IHBpY3R1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEdlbmVyaWNUYWcodGFnVHlwZSwgdGFnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgJ3RvdGFsdHJhY2tzJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vbi50cmFjay5vZiA9IEdlbmVyaWNUYWdNYXBwZXJfMS5Db21tb25UYWdNYXBwZXIudG9JbnRPck51bGwodGFnLnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlICd0b3RhbGRpc2NzJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vbi5kaXNrLm9mID0gR2VuZXJpY1RhZ01hcHBlcl8xLkNvbW1vblRhZ01hcHBlci50b0ludE9yTnVsbCh0YWcudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgJ21vdmVtZW50VG90YWwnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uLm1vdmVtZW50SW5kZXgub2YgPSBHZW5lcmljVGFnTWFwcGVyXzEuQ29tbW9uVGFnTWFwcGVyLnRvSW50T3JOdWxsKHRhZy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAndHJhY2snOlxuICAgICAgICAgICAgY2FzZSAnZGlzayc6XG4gICAgICAgICAgICBjYXNlICdtb3ZlbWVudEluZGV4JzpcbiAgICAgICAgICAgICAgICBjb25zdCBvZiA9IHRoaXMuY29tbW9uW3RhZy5pZF0ub2Y7IC8vIHN0b3JlIG9mIHZhbHVlLCBtYXliZSBtYXliZSBvdmVyd3JpdHRlblxuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uW3RhZy5pZF0gPSBHZW5lcmljVGFnTWFwcGVyXzEuQ29tbW9uVGFnTWFwcGVyLm5vcm1hbGl6ZVRyYWNrKHRhZy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tb25bdGFnLmlkXS5vZiA9IG9mICE9IG51bGwgPyBvZiA6IHRoaXMuY29tbW9uW3RhZy5pZF0ub2Y7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAnYnBtJzpcbiAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgY2FzZSAnb3JpZ2luYWx5ZWFyJzpcbiAgICAgICAgICAgICAgICB0YWcudmFsdWUgPSBwYXJzZUludCh0YWcudmFsdWUsIDEwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgIC8vIFRvRG86IGJlIG1vcmUgc3RyaWN0IG9uICdZWVlZLi4uJ1xuICAgICAgICAgICAgICAgIGNvbnN0IHllYXIgPSBwYXJzZUludCh0YWcudmFsdWUuc3Vic3RyKDAsIDQpLCAxMCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTih5ZWFyKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1vbi55ZWFyID0geWVhcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkaXNjb2dzX2xhYmVsX2lkJzpcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2NvZ3NfcmVsZWFzZV9pZCc6XG4gICAgICAgICAgICBjYXNlICdkaXNjb2dzX21hc3Rlcl9yZWxlYXNlX2lkJzpcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2NvZ3NfYXJ0aXN0X2lkJzpcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2NvZ3Nfdm90ZXMnOlxuICAgICAgICAgICAgICAgIHRhZy52YWx1ZSA9IHR5cGVvZiB0YWcudmFsdWUgPT09ICdzdHJpbmcnID8gcGFyc2VJbnQodGFnLnZhbHVlLCAxMCkgOiB0YWcudmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyZXBsYXlnYWluX3RyYWNrX2dhaW4nOlxuICAgICAgICAgICAgY2FzZSAncmVwbGF5Z2Fpbl90cmFja19wZWFrJzpcbiAgICAgICAgICAgIGNhc2UgJ3JlcGxheWdhaW5fYWxidW1fZ2Fpbic6XG4gICAgICAgICAgICBjYXNlICdyZXBsYXlnYWluX2FsYnVtX3BlYWsnOlxuICAgICAgICAgICAgICAgIHRhZy52YWx1ZSA9ICgwLCBVdGlsXzEudG9SYXRpbykodGFnLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JlcGxheWdhaW5fdHJhY2tfbWlubWF4JzpcbiAgICAgICAgICAgICAgICB0YWcudmFsdWUgPSB0YWcudmFsdWUuc3BsaXQoJywnKS5tYXAodiA9PiBwYXJzZUludCh2LCAxMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmVwbGF5Z2Fpbl91bmRvJzpcbiAgICAgICAgICAgICAgICBjb25zdCBtaW5NaXggPSB0YWcudmFsdWUuc3BsaXQoJywnKS5tYXAodiA9PiBwYXJzZUludCh2LCAxMCkpO1xuICAgICAgICAgICAgICAgIHRhZy52YWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdENoYW5uZWw6IG1pbk1peFswXSxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRDaGFubmVsOiBtaW5NaXhbMV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ2FwbGVzcyc6IC8vIGlUdW5lcyBnYXAtbGVzcyBmbGFnXG4gICAgICAgICAgICBjYXNlICdjb21waWxhdGlvbic6XG4gICAgICAgICAgICBjYXNlICdwb2RjYXN0JzpcbiAgICAgICAgICAgIGNhc2UgJ3Nob3dNb3ZlbWVudCc6XG4gICAgICAgICAgICAgICAgdGFnLnZhbHVlID0gdGFnLnZhbHVlID09PSAnMScgfHwgdGFnLnZhbHVlID09PSAxOyAvLyBib29sZWFuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpc3JjJzogLy8gT25seSBrZWVwIHVuaXF1ZSB2YWx1ZXNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb21tb25bdGFnLmlkXSAmJiB0aGlzLmNvbW1vblt0YWcuaWRdLmluZGV4T2YodGFnLnZhbHVlKSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZy52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zZXRHZW5lcmljVGFnKHRhZ1R5cGUsIHRhZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBuYXRpdmUgdGFncyB0byBjb21tb24gdGFnc1xuICAgICAqIEByZXR1cm5zIHtJQXVkaW9NZXRhZGF0YX0gTmF0aXZlICsgY29tbW9uIHRhZ3NcbiAgICAgKi9cbiAgICB0b0NvbW1vbk1ldGFkYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9ybWF0OiB0aGlzLmZvcm1hdCxcbiAgICAgICAgICAgIG5hdGl2ZTogdGhpcy5uYXRpdmUsXG4gICAgICAgICAgICBxdWFsaXR5OiB0aGlzLnF1YWxpdHksXG4gICAgICAgICAgICBjb21tb246IHRoaXMuY29tbW9uXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpeCBzb21lIGNvbW1vbiBpc3N1ZXMgd2l0aCBwaWN0dXJlIG9iamVjdFxuICAgICAqIEBwYXJhbSBwaWN0dXJlIFBpY3R1cmVcbiAgICAgKi9cbiAgICBhc3luYyBwb3N0Rml4UGljdHVyZShwaWN0dXJlKSB7XG4gICAgICAgIGlmIChwaWN0dXJlLmRhdGEgJiYgcGljdHVyZS5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICghcGljdHVyZS5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlVHlwZSA9IGF3YWl0IEZpbGVUeXBlLmZyb21CdWZmZXIocGljdHVyZS5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlsZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGljdHVyZS5mb3JtYXQgPSBmaWxlVHlwZS5taW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGljdHVyZS5mb3JtYXQgPSBwaWN0dXJlLmZvcm1hdC50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgc3dpdGNoIChwaWN0dXJlLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ltYWdlL2pwZyc6XG4gICAgICAgICAgICAgICAgICAgIHBpY3R1cmUuZm9ybWF0ID0gJ2ltYWdlL2pwZWcnOyAvLyBUb0RvOiByZWdpc3RlciB3YXJuaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGljdHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZFdhcm5pbmcoYEVtcHR5IHBpY3R1cmUgdGFnIGZvdW5kYCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IG5hdGl2ZSB0YWcgdG8gY29tbW9uIHRhZ3NcbiAgICAgKi9cbiAgICB0b0NvbW1vbih0YWdUeXBlLCB0YWdJZCwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgdGFnID0geyBpZDogdGFnSWQsIHZhbHVlIH07XG4gICAgICAgIGNvbnN0IGdlbmVyaWNUYWcgPSB0aGlzLnRhZ01hcHBlci5tYXBUYWcodGFnVHlwZSwgdGFnLCB0aGlzKTtcbiAgICAgICAgaWYgKGdlbmVyaWNUYWcpIHtcbiAgICAgICAgICAgIHRoaXMucG9zdE1hcCh0YWdUeXBlLCBnZW5lcmljVGFnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgZ2VuZXJpYyB0YWdcbiAgICAgKi9cbiAgICBzZXRHZW5lcmljVGFnKHRhZ1R5cGUsIHRhZykge1xuICAgICAgICBkZWJ1ZyhgY29tbW9uLiR7dGFnLmlkfSA9ICR7dGFnLnZhbHVlfWApO1xuICAgICAgICBjb25zdCBwcmlvMCA9IHRoaXMuY29tbW9uT3JpZ2luW3RhZy5pZF0gfHwgMTAwMDtcbiAgICAgICAgY29uc3QgcHJpbzEgPSB0aGlzLm9yaWdpblByaW9yaXR5W3RhZ1R5cGVdO1xuICAgICAgICBpZiAoKDAsIEdlbmVyaWNUYWdUeXBlc18xLmlzU2luZ2xldG9uKSh0YWcuaWQpKSB7XG4gICAgICAgICAgICBpZiAocHJpbzEgPD0gcHJpbzApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vblt0YWcuaWRdID0gdGFnLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uT3JpZ2luW3RhZy5pZF0gPSBwcmlvMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWJ1ZyhgSWdub3JlIG5hdGl2ZSB0YWcgKHNpbmdsZXRvbik6ICR7dGFnVHlwZX0uJHt0YWcuaWR9ID0gJHt0YWcudmFsdWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJpbzEgPT09IHByaW8wKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoMCwgR2VuZXJpY1RhZ1R5cGVzXzEuaXNVbmlxdWUpKHRhZy5pZCkgfHwgdGhpcy5jb21tb25bdGFnLmlkXS5pbmRleE9mKHRhZy52YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uW3RhZy5pZF0ucHVzaCh0YWcudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoYElnbm9yZSBkdXBsaWNhdGUgdmFsdWU6ICR7dGFnVHlwZX0uJHt0YWcuaWR9ID0gJHt0YWcudmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG5vIGVmZmVjdD8gdGhpcy5jb21tb25PcmlnaW5bdGFnLmlkXSA9IHByaW8xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJpbzEgPCBwcmlvMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uW3RhZy5pZF0gPSBbdGFnLnZhbHVlXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vbk9yaWdpblt0YWcuaWRdID0gcHJpbzE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVidWcoYElnbm9yZSBuYXRpdmUgdGFnIChsaXN0KTogJHt0YWdUeXBlfS4ke3RhZy5pZH0gPSAke3RhZy52YWx1ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRzLm9ic2VydmVyKSB7XG4gICAgICAgICAgICB0aGlzLm9wdHMub2JzZXJ2ZXIoeyBtZXRhZGF0YTogdGhpcywgdGFnOiB7IHR5cGU6ICdjb21tb24nLCBpZDogdGFnLmlkLCB2YWx1ZTogdGFnLnZhbHVlIH0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVG9EbzogdHJpZ2dlciBtZXRhZGF0YSBldmVudFxuICAgIH1cbn1cbmV4cG9ydHMuTWV0YWRhdGFDb2xsZWN0b3IgPSBNZXRhZGF0YUNvbGxlY3RvcjtcbmZ1bmN0aW9uIGpvaW5BcnRpc3RzKGFydGlzdHMpIHtcbiAgICBpZiAoYXJ0aXN0cy5sZW5ndGggPiAyKSB7XG4gICAgICAgIHJldHVybiBhcnRpc3RzLnNsaWNlKDAsIGFydGlzdHMubGVuZ3RoIC0gMSkuam9pbignLCAnKSArICcgJiAnICsgYXJ0aXN0c1thcnRpc3RzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gYXJ0aXN0cy5qb2luKCcgJiAnKTtcbn1cbmV4cG9ydHMuam9pbkFydGlzdHMgPSBqb2luQXJ0aXN0cztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1ldGFkYXRhQ29sbGVjdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/MetadataCollector.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/RandomUint8ArrayReader.js":
/*!**************************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/RandomUint8ArrayReader.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RandomUint8ArrayReader = void 0;\n/**\n * Provides abstract Uint8Array access via the IRandomRead interface\n */\nclass RandomUint8ArrayReader {\n    constructor(uint8Array) {\n        this.uint8Array = uint8Array;\n        this.fileSize = uint8Array.length;\n    }\n    /**\n     * Read from a given position of an abstracted file or buffer.\n     * @param uint8Array - Uint8Array that the data will be written to.\n     * @param offset - Offset in the buffer to start writing at.\n     * @param length - Integer specifying the number of bytes to read.\n     * @param position - Specifies where to begin reading from in the file.\n     * @return Promise providing bytes read\n     */\n    async randomRead(uint8Array, offset, length, position) {\n        uint8Array.set(this.uint8Array.subarray(position, position + length), offset);\n        return length;\n    }\n}\nexports.RandomUint8ArrayReader = RandomUint8ArrayReader;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9SYW5kb21VaW50OEFycmF5UmVhZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvY29tbW9uL1JhbmRvbVVpbnQ4QXJyYXlSZWFkZXIuanM/MWJkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmFuZG9tVWludDhBcnJheVJlYWRlciA9IHZvaWQgMDtcbi8qKlxuICogUHJvdmlkZXMgYWJzdHJhY3QgVWludDhBcnJheSBhY2Nlc3MgdmlhIHRoZSBJUmFuZG9tUmVhZCBpbnRlcmZhY2VcbiAqL1xuY2xhc3MgUmFuZG9tVWludDhBcnJheVJlYWRlciB7XG4gICAgY29uc3RydWN0b3IodWludDhBcnJheSkge1xuICAgICAgICB0aGlzLnVpbnQ4QXJyYXkgPSB1aW50OEFycmF5O1xuICAgICAgICB0aGlzLmZpbGVTaXplID0gdWludDhBcnJheS5sZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgZnJvbSBhIGdpdmVuIHBvc2l0aW9uIG9mIGFuIGFic3RyYWN0ZWQgZmlsZSBvciBidWZmZXIuXG4gICAgICogQHBhcmFtIHVpbnQ4QXJyYXkgLSBVaW50OEFycmF5IHRoYXQgdGhlIGRhdGEgd2lsbCBiZSB3cml0dGVuIHRvLlxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBPZmZzZXQgaW4gdGhlIGJ1ZmZlciB0byBzdGFydCB3cml0aW5nIGF0LlxuICAgICAqIEBwYXJhbSBsZW5ndGggLSBJbnRlZ2VyIHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiBieXRlcyB0byByZWFkLlxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiAtIFNwZWNpZmllcyB3aGVyZSB0byBiZWdpbiByZWFkaW5nIGZyb20gaW4gdGhlIGZpbGUuXG4gICAgICogQHJldHVybiBQcm9taXNlIHByb3ZpZGluZyBieXRlcyByZWFkXG4gICAgICovXG4gICAgYXN5bmMgcmFuZG9tUmVhZCh1aW50OEFycmF5LCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pIHtcbiAgICAgICAgdWludDhBcnJheS5zZXQodGhpcy51aW50OEFycmF5LnN1YmFycmF5KHBvc2l0aW9uLCBwb3NpdGlvbiArIGxlbmd0aCksIG9mZnNldCk7XG4gICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxufVxuZXhwb3J0cy5SYW5kb21VaW50OEFycmF5UmVhZGVyID0gUmFuZG9tVWludDhBcnJheVJlYWRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/RandomUint8ArrayReader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/Util.js":
/*!********************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/Util.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.toRatio = exports.dbToRatio = exports.ratioToDb = exports.a2hex = exports.isBitSet = exports.getBitAllignedNumber = exports.stripNulls = exports.decodeString = exports.trimRightNull = exports.findZero = exports.getBit = void 0;\nfunction getBit(buf, off, bit) {\n    return (buf[off] & (1 << bit)) !== 0;\n}\nexports.getBit = getBit;\n/**\n * Found delimiting zero in uint8Array\n * @param uint8Array Uint8Array to find the zero delimiter in\n * @param start Offset in uint8Array\n * @param end Last position to parse in uint8Array\n * @param encoding The string encoding used\n * @return Absolute position on uint8Array where zero found\n */\nfunction findZero(uint8Array, start, end, encoding) {\n    let i = start;\n    if (encoding === 'utf16le') {\n        while (uint8Array[i] !== 0 || uint8Array[i + 1] !== 0) {\n            if (i >= end)\n                return end;\n            i += 2;\n        }\n        return i;\n    }\n    else {\n        while (uint8Array[i] !== 0) {\n            if (i >= end)\n                return end;\n            i++;\n        }\n        return i;\n    }\n}\nexports.findZero = findZero;\nfunction trimRightNull(x) {\n    const pos0 = x.indexOf('\\0');\n    return pos0 === -1 ? x : x.substr(0, pos0);\n}\nexports.trimRightNull = trimRightNull;\nfunction swapBytes(uint8Array) {\n    const l = uint8Array.length;\n    if ((l & 1) !== 0)\n        throw new Error('Buffer length must be even');\n    for (let i = 0; i < l; i += 2) {\n        const a = uint8Array[i];\n        uint8Array[i] = uint8Array[i + 1];\n        uint8Array[i + 1] = a;\n    }\n    return uint8Array;\n}\n/**\n * Decode string\n */\nfunction decodeString(uint8Array, encoding) {\n    // annoying workaround for a double BOM issue\n    // https://github.com/leetreveil/musicmetadata/issues/84\n    if (uint8Array[0] === 0xFF && uint8Array[1] === 0xFE) { // little endian\n        return decodeString(uint8Array.subarray(2), encoding);\n    }\n    else if (encoding === 'utf16le' && uint8Array[0] === 0xFE && uint8Array[1] === 0xFF) {\n        // BOM, indicating big endian decoding\n        if ((uint8Array.length & 1) !== 0)\n            throw new Error('Expected even number of octets for 16-bit unicode string');\n        return decodeString(swapBytes(uint8Array), encoding);\n    }\n    return Buffer.from(uint8Array).toString(encoding);\n}\nexports.decodeString = decodeString;\nfunction stripNulls(str) {\n    str = str.replace(/^\\x00+/g, '');\n    str = str.replace(/\\x00+$/g, '');\n    return str;\n}\nexports.stripNulls = stripNulls;\n/**\n * Read bit-aligned number start from buffer\n * Total offset in bits = byteOffset * 8 + bitOffset\n * @param source Byte buffer\n * @param byteOffset Starting offset in bytes\n * @param bitOffset Starting offset in bits: 0 = lsb\n * @param len Length of number in bits\n * @return Decoded bit aligned number\n */\nfunction getBitAllignedNumber(source, byteOffset, bitOffset, len) {\n    const byteOff = byteOffset + ~~(bitOffset / 8);\n    const bitOff = bitOffset % 8;\n    let value = source[byteOff];\n    value &= 0xff >> bitOff;\n    const bitsRead = 8 - bitOff;\n    const bitsLeft = len - bitsRead;\n    if (bitsLeft < 0) {\n        value >>= (8 - bitOff - len);\n    }\n    else if (bitsLeft > 0) {\n        value <<= bitsLeft;\n        value |= getBitAllignedNumber(source, byteOffset, bitOffset + bitsRead, bitsLeft);\n    }\n    return value;\n}\nexports.getBitAllignedNumber = getBitAllignedNumber;\n/**\n * Read bit-aligned number start from buffer\n * Total offset in bits = byteOffset * 8 + bitOffset\n * @param source Byte Uint8Array\n * @param byteOffset Starting offset in bytes\n * @param bitOffset Starting offset in bits: 0 = most significant bit, 7 is the least significant bit\n * @return True if bit is set\n */\nfunction isBitSet(source, byteOffset, bitOffset) {\n    return getBitAllignedNumber(source, byteOffset, bitOffset, 1) === 1;\n}\nexports.isBitSet = isBitSet;\nfunction a2hex(str) {\n    const arr = [];\n    for (let i = 0, l = str.length; i < l; i++) {\n        const hex = Number(str.charCodeAt(i)).toString(16);\n        arr.push(hex.length === 1 ? '0' + hex : hex);\n    }\n    return arr.join(' ');\n}\nexports.a2hex = a2hex;\n/**\n * Convert power ratio to DB\n * ratio: [0..1]\n */\nfunction ratioToDb(ratio) {\n    return 10 * Math.log10(ratio);\n}\nexports.ratioToDb = ratioToDb;\n/**\n * Convert dB to ratio\n * db Decibels\n */\nfunction dbToRatio(dB) {\n    return Math.pow(10, dB / 10);\n}\nexports.dbToRatio = dbToRatio;\n/**\n * Convert replay gain to ratio and Decibel\n * @param value string holding a ratio like '0.034' or '-7.54 dB'\n */\nfunction toRatio(value) {\n    const ps = value.split(' ').map(p => p.trim().toLowerCase());\n    // @ts-ignore\n    if (ps.length >= 1) {\n        const v = parseFloat(ps[0]);\n        return ps.length === 2 && ps[1] === 'db' ? {\n            dB: v,\n            ratio: dbToRatio(v)\n        } : {\n            dB: ratioToDb(v),\n            ratio: v\n        };\n    }\n}\nexports.toRatio = toRatio;\n//# sourceMappingURL=Util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9VdGlsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGVBQWUsR0FBRyxpQkFBaUIsR0FBRyxpQkFBaUIsR0FBRyxhQUFhLEdBQUcsZ0JBQWdCLEdBQUcsNEJBQTRCLEdBQUcsa0JBQWtCLEdBQUcsb0JBQW9CLEdBQUcscUJBQXFCLEdBQUcsZ0JBQWdCLEdBQUcsY0FBYztBQUNqTztBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0Esb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9jb21tb24vVXRpbC5qcz8zMmExIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy50b1JhdGlvID0gZXhwb3J0cy5kYlRvUmF0aW8gPSBleHBvcnRzLnJhdGlvVG9EYiA9IGV4cG9ydHMuYTJoZXggPSBleHBvcnRzLmlzQml0U2V0ID0gZXhwb3J0cy5nZXRCaXRBbGxpZ25lZE51bWJlciA9IGV4cG9ydHMuc3RyaXBOdWxscyA9IGV4cG9ydHMuZGVjb2RlU3RyaW5nID0gZXhwb3J0cy50cmltUmlnaHROdWxsID0gZXhwb3J0cy5maW5kWmVybyA9IGV4cG9ydHMuZ2V0Qml0ID0gdm9pZCAwO1xuZnVuY3Rpb24gZ2V0Qml0KGJ1Ziwgb2ZmLCBiaXQpIHtcbiAgICByZXR1cm4gKGJ1ZltvZmZdICYgKDEgPDwgYml0KSkgIT09IDA7XG59XG5leHBvcnRzLmdldEJpdCA9IGdldEJpdDtcbi8qKlxuICogRm91bmQgZGVsaW1pdGluZyB6ZXJvIGluIHVpbnQ4QXJyYXlcbiAqIEBwYXJhbSB1aW50OEFycmF5IFVpbnQ4QXJyYXkgdG8gZmluZCB0aGUgemVybyBkZWxpbWl0ZXIgaW5cbiAqIEBwYXJhbSBzdGFydCBPZmZzZXQgaW4gdWludDhBcnJheVxuICogQHBhcmFtIGVuZCBMYXN0IHBvc2l0aW9uIHRvIHBhcnNlIGluIHVpbnQ4QXJyYXlcbiAqIEBwYXJhbSBlbmNvZGluZyBUaGUgc3RyaW5nIGVuY29kaW5nIHVzZWRcbiAqIEByZXR1cm4gQWJzb2x1dGUgcG9zaXRpb24gb24gdWludDhBcnJheSB3aGVyZSB6ZXJvIGZvdW5kXG4gKi9cbmZ1bmN0aW9uIGZpbmRaZXJvKHVpbnQ4QXJyYXksIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gICAgbGV0IGkgPSBzdGFydDtcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1dGYxNmxlJykge1xuICAgICAgICB3aGlsZSAodWludDhBcnJheVtpXSAhPT0gMCB8fCB1aW50OEFycmF5W2kgKyAxXSAhPT0gMCkge1xuICAgICAgICAgICAgaWYgKGkgPj0gZW5kKVxuICAgICAgICAgICAgICAgIHJldHVybiBlbmQ7XG4gICAgICAgICAgICBpICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3aGlsZSAodWludDhBcnJheVtpXSAhPT0gMCkge1xuICAgICAgICAgICAgaWYgKGkgPj0gZW5kKVxuICAgICAgICAgICAgICAgIHJldHVybiBlbmQ7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxufVxuZXhwb3J0cy5maW5kWmVybyA9IGZpbmRaZXJvO1xuZnVuY3Rpb24gdHJpbVJpZ2h0TnVsbCh4KSB7XG4gICAgY29uc3QgcG9zMCA9IHguaW5kZXhPZignXFwwJyk7XG4gICAgcmV0dXJuIHBvczAgPT09IC0xID8geCA6IHguc3Vic3RyKDAsIHBvczApO1xufVxuZXhwb3J0cy50cmltUmlnaHROdWxsID0gdHJpbVJpZ2h0TnVsbDtcbmZ1bmN0aW9uIHN3YXBCeXRlcyh1aW50OEFycmF5KSB7XG4gICAgY29uc3QgbCA9IHVpbnQ4QXJyYXkubGVuZ3RoO1xuICAgIGlmICgobCAmIDEpICE9PSAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1ZmZlciBsZW5ndGggbXVzdCBiZSBldmVuJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgY29uc3QgYSA9IHVpbnQ4QXJyYXlbaV07XG4gICAgICAgIHVpbnQ4QXJyYXlbaV0gPSB1aW50OEFycmF5W2kgKyAxXTtcbiAgICAgICAgdWludDhBcnJheVtpICsgMV0gPSBhO1xuICAgIH1cbiAgICByZXR1cm4gdWludDhBcnJheTtcbn1cbi8qKlxuICogRGVjb2RlIHN0cmluZ1xuICovXG5mdW5jdGlvbiBkZWNvZGVTdHJpbmcodWludDhBcnJheSwgZW5jb2RpbmcpIHtcbiAgICAvLyBhbm5veWluZyB3b3JrYXJvdW5kIGZvciBhIGRvdWJsZSBCT00gaXNzdWVcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbGVldHJldmVpbC9tdXNpY21ldGFkYXRhL2lzc3Vlcy84NFxuICAgIGlmICh1aW50OEFycmF5WzBdID09PSAweEZGICYmIHVpbnQ4QXJyYXlbMV0gPT09IDB4RkUpIHsgLy8gbGl0dGxlIGVuZGlhblxuICAgICAgICByZXR1cm4gZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc3ViYXJyYXkoMiksIGVuY29kaW5nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZW5jb2RpbmcgPT09ICd1dGYxNmxlJyAmJiB1aW50OEFycmF5WzBdID09PSAweEZFICYmIHVpbnQ4QXJyYXlbMV0gPT09IDB4RkYpIHtcbiAgICAgICAgLy8gQk9NLCBpbmRpY2F0aW5nIGJpZyBlbmRpYW4gZGVjb2RpbmdcbiAgICAgICAgaWYgKCh1aW50OEFycmF5Lmxlbmd0aCAmIDEpICE9PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBldmVuIG51bWJlciBvZiBvY3RldHMgZm9yIDE2LWJpdCB1bmljb2RlIHN0cmluZycpO1xuICAgICAgICByZXR1cm4gZGVjb2RlU3RyaW5nKHN3YXBCeXRlcyh1aW50OEFycmF5KSwgZW5jb2RpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gQnVmZmVyLmZyb20odWludDhBcnJheSkudG9TdHJpbmcoZW5jb2RpbmcpO1xufVxuZXhwb3J0cy5kZWNvZGVTdHJpbmcgPSBkZWNvZGVTdHJpbmc7XG5mdW5jdGlvbiBzdHJpcE51bGxzKHN0cikge1xuICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9eXFx4MDArL2csICcnKTtcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgvXFx4MDArJC9nLCAnJyk7XG4gICAgcmV0dXJuIHN0cjtcbn1cbmV4cG9ydHMuc3RyaXBOdWxscyA9IHN0cmlwTnVsbHM7XG4vKipcbiAqIFJlYWQgYml0LWFsaWduZWQgbnVtYmVyIHN0YXJ0IGZyb20gYnVmZmVyXG4gKiBUb3RhbCBvZmZzZXQgaW4gYml0cyA9IGJ5dGVPZmZzZXQgKiA4ICsgYml0T2Zmc2V0XG4gKiBAcGFyYW0gc291cmNlIEJ5dGUgYnVmZmVyXG4gKiBAcGFyYW0gYnl0ZU9mZnNldCBTdGFydGluZyBvZmZzZXQgaW4gYnl0ZXNcbiAqIEBwYXJhbSBiaXRPZmZzZXQgU3RhcnRpbmcgb2Zmc2V0IGluIGJpdHM6IDAgPSBsc2JcbiAqIEBwYXJhbSBsZW4gTGVuZ3RoIG9mIG51bWJlciBpbiBiaXRzXG4gKiBAcmV0dXJuIERlY29kZWQgYml0IGFsaWduZWQgbnVtYmVyXG4gKi9cbmZ1bmN0aW9uIGdldEJpdEFsbGlnbmVkTnVtYmVyKHNvdXJjZSwgYnl0ZU9mZnNldCwgYml0T2Zmc2V0LCBsZW4pIHtcbiAgICBjb25zdCBieXRlT2ZmID0gYnl0ZU9mZnNldCArIH5+KGJpdE9mZnNldCAvIDgpO1xuICAgIGNvbnN0IGJpdE9mZiA9IGJpdE9mZnNldCAlIDg7XG4gICAgbGV0IHZhbHVlID0gc291cmNlW2J5dGVPZmZdO1xuICAgIHZhbHVlICY9IDB4ZmYgPj4gYml0T2ZmO1xuICAgIGNvbnN0IGJpdHNSZWFkID0gOCAtIGJpdE9mZjtcbiAgICBjb25zdCBiaXRzTGVmdCA9IGxlbiAtIGJpdHNSZWFkO1xuICAgIGlmIChiaXRzTGVmdCA8IDApIHtcbiAgICAgICAgdmFsdWUgPj49ICg4IC0gYml0T2ZmIC0gbGVuKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYml0c0xlZnQgPiAwKSB7XG4gICAgICAgIHZhbHVlIDw8PSBiaXRzTGVmdDtcbiAgICAgICAgdmFsdWUgfD0gZ2V0Qml0QWxsaWduZWROdW1iZXIoc291cmNlLCBieXRlT2Zmc2V0LCBiaXRPZmZzZXQgKyBiaXRzUmVhZCwgYml0c0xlZnQpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnRzLmdldEJpdEFsbGlnbmVkTnVtYmVyID0gZ2V0Qml0QWxsaWduZWROdW1iZXI7XG4vKipcbiAqIFJlYWQgYml0LWFsaWduZWQgbnVtYmVyIHN0YXJ0IGZyb20gYnVmZmVyXG4gKiBUb3RhbCBvZmZzZXQgaW4gYml0cyA9IGJ5dGVPZmZzZXQgKiA4ICsgYml0T2Zmc2V0XG4gKiBAcGFyYW0gc291cmNlIEJ5dGUgVWludDhBcnJheVxuICogQHBhcmFtIGJ5dGVPZmZzZXQgU3RhcnRpbmcgb2Zmc2V0IGluIGJ5dGVzXG4gKiBAcGFyYW0gYml0T2Zmc2V0IFN0YXJ0aW5nIG9mZnNldCBpbiBiaXRzOiAwID0gbW9zdCBzaWduaWZpY2FudCBiaXQsIDcgaXMgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdFxuICogQHJldHVybiBUcnVlIGlmIGJpdCBpcyBzZXRcbiAqL1xuZnVuY3Rpb24gaXNCaXRTZXQoc291cmNlLCBieXRlT2Zmc2V0LCBiaXRPZmZzZXQpIHtcbiAgICByZXR1cm4gZ2V0Qml0QWxsaWduZWROdW1iZXIoc291cmNlLCBieXRlT2Zmc2V0LCBiaXRPZmZzZXQsIDEpID09PSAxO1xufVxuZXhwb3J0cy5pc0JpdFNldCA9IGlzQml0U2V0O1xuZnVuY3Rpb24gYTJoZXgoc3RyKSB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzdHIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGhleCA9IE51bWJlcihzdHIuY2hhckNvZGVBdChpKSkudG9TdHJpbmcoMTYpO1xuICAgICAgICBhcnIucHVzaChoZXgubGVuZ3RoID09PSAxID8gJzAnICsgaGV4IDogaGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIGFyci5qb2luKCcgJyk7XG59XG5leHBvcnRzLmEyaGV4ID0gYTJoZXg7XG4vKipcbiAqIENvbnZlcnQgcG93ZXIgcmF0aW8gdG8gREJcbiAqIHJhdGlvOiBbMC4uMV1cbiAqL1xuZnVuY3Rpb24gcmF0aW9Ub0RiKHJhdGlvKSB7XG4gICAgcmV0dXJuIDEwICogTWF0aC5sb2cxMChyYXRpbyk7XG59XG5leHBvcnRzLnJhdGlvVG9EYiA9IHJhdGlvVG9EYjtcbi8qKlxuICogQ29udmVydCBkQiB0byByYXRpb1xuICogZGIgRGVjaWJlbHNcbiAqL1xuZnVuY3Rpb24gZGJUb1JhdGlvKGRCKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KDEwLCBkQiAvIDEwKTtcbn1cbmV4cG9ydHMuZGJUb1JhdGlvID0gZGJUb1JhdGlvO1xuLyoqXG4gKiBDb252ZXJ0IHJlcGxheSBnYWluIHRvIHJhdGlvIGFuZCBEZWNpYmVsXG4gKiBAcGFyYW0gdmFsdWUgc3RyaW5nIGhvbGRpbmcgYSByYXRpbyBsaWtlICcwLjAzNCcgb3IgJy03LjU0IGRCJ1xuICovXG5mdW5jdGlvbiB0b1JhdGlvKHZhbHVlKSB7XG4gICAgY29uc3QgcHMgPSB2YWx1ZS5zcGxpdCgnICcpLm1hcChwID0+IHAudHJpbSgpLnRvTG93ZXJDYXNlKCkpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAocHMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgY29uc3QgdiA9IHBhcnNlRmxvYXQocHNbMF0pO1xuICAgICAgICByZXR1cm4gcHMubGVuZ3RoID09PSAyICYmIHBzWzFdID09PSAnZGInID8ge1xuICAgICAgICAgICAgZEI6IHYsXG4gICAgICAgICAgICByYXRpbzogZGJUb1JhdGlvKHYpXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgICBkQjogcmF0aW9Ub0RiKHYpLFxuICAgICAgICAgICAgcmF0aW86IHZcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLnRvUmF0aW8gPSB0b1JhdGlvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/Util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/core.js":
/*!*************************************************!*\
  !*** ./node_modules/music-metadata/lib/core.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.scanAppendingHeaders = exports.selectCover = exports.ratingToStars = exports.orderTags = exports.parseFromTokenizer = exports.parseBuffer = exports.parseStream = void 0;\nconst strtok3 = __webpack_require__(/*! strtok3/lib/core */ \"(ssr)/./node_modules/strtok3/lib/core.js\");\nconst ParserFactory_1 = __webpack_require__(/*! ./ParserFactory */ \"(ssr)/./node_modules/music-metadata/lib/ParserFactory.js\");\nconst RandomUint8ArrayReader_1 = __webpack_require__(/*! ./common/RandomUint8ArrayReader */ \"(ssr)/./node_modules/music-metadata/lib/common/RandomUint8ArrayReader.js\");\nconst APEv2Parser_1 = __webpack_require__(/*! ./apev2/APEv2Parser */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\nconst ID3v1Parser_1 = __webpack_require__(/*! ./id3v1/ID3v1Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js\");\nconst Lyrics3_1 = __webpack_require__(/*! ./lyrics3/Lyrics3 */ \"(ssr)/./node_modules/music-metadata/lib/lyrics3/Lyrics3.js\");\n/**\n * Parse audio from Node Stream.Readable\n * @param stream - Stream to read the audio track from\n * @param options - Parsing options\n * @param fileInfo - File information object or MIME-type string\n * @returns Metadata\n */\nfunction parseStream(stream, fileInfo, options = {}) {\n    return parseFromTokenizer(strtok3.fromStream(stream, typeof fileInfo === 'string' ? { mimeType: fileInfo } : fileInfo), options);\n}\nexports.parseStream = parseStream;\n/**\n * Parse audio from Node Buffer\n * @param uint8Array - Uint8Array holding audio data\n * @param fileInfo - File information object or MIME-type string\n * @param options - Parsing options\n * @returns Metadata\n * Ref: https://github.com/Borewit/strtok3/blob/e6938c81ff685074d5eb3064a11c0b03ca934c1d/src/index.ts#L15\n */\nasync function parseBuffer(uint8Array, fileInfo, options = {}) {\n    const bufferReader = new RandomUint8ArrayReader_1.RandomUint8ArrayReader(uint8Array);\n    await scanAppendingHeaders(bufferReader, options);\n    const tokenizer = strtok3.fromBuffer(uint8Array, typeof fileInfo === 'string' ? { mimeType: fileInfo } : fileInfo);\n    return parseFromTokenizer(tokenizer, options);\n}\nexports.parseBuffer = parseBuffer;\n/**\n * Parse audio from ITokenizer source\n * @param tokenizer - Audio source implementing the tokenizer interface\n * @param options - Parsing options\n * @returns Metadata\n */\nfunction parseFromTokenizer(tokenizer, options) {\n    return ParserFactory_1.ParserFactory.parseOnContentType(tokenizer, options);\n}\nexports.parseFromTokenizer = parseFromTokenizer;\n/**\n * Create a dictionary ordered by their tag id (key)\n * @param nativeTags list of tags\n * @returns tags indexed by id\n */\nfunction orderTags(nativeTags) {\n    const tags = {};\n    for (const tag of nativeTags) {\n        (tags[tag.id] = (tags[tag.id] || [])).push(tag.value);\n    }\n    return tags;\n}\nexports.orderTags = orderTags;\n/**\n * Convert rating to 1-5 star rating\n * @param rating: Normalized rating [0..1] (common.rating[n].rating)\n * @returns Number of stars: 1, 2, 3, 4 or 5 stars\n */\nfunction ratingToStars(rating) {\n    return rating === undefined ? 0 : 1 + Math.round(rating * 4);\n}\nexports.ratingToStars = ratingToStars;\n/**\n * Select most likely cover image.\n * @param pictures Usually metadata.common.picture\n * @return Cover image, if any, otherwise null\n */\nfunction selectCover(pictures) {\n    return pictures ? pictures.reduce((acc, cur) => {\n        if (cur.name && cur.name.toLowerCase() in ['front', 'cover', 'cover (front)'])\n            return cur;\n        return acc;\n    }) : null;\n}\nexports.selectCover = selectCover;\nasync function scanAppendingHeaders(randomReader, options = {}) {\n    let apeOffset = randomReader.fileSize;\n    if (await (0, ID3v1Parser_1.hasID3v1Header)(randomReader)) {\n        apeOffset -= 128;\n        const lyricsLen = await (0, Lyrics3_1.getLyricsHeaderLength)(randomReader);\n        apeOffset -= lyricsLen;\n    }\n    options.apeHeader = await APEv2Parser_1.APEv2Parser.findApeFooterOffset(randomReader, apeOffset);\n}\nexports.scanAppendingHeaders = scanAppendingHeaders;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvcmUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsNEJBQTRCLEdBQUcsbUJBQW1CLEdBQUcscUJBQXFCLEdBQUcsaUJBQWlCLEdBQUcsMEJBQTBCLEdBQUcsbUJBQW1CLEdBQUcsbUJBQW1CO0FBQ3ZLLGdCQUFnQixtQkFBTyxDQUFDLGtFQUFrQjtBQUMxQyx3QkFBd0IsbUJBQU8sQ0FBQyxpRkFBaUI7QUFDakQsaUNBQWlDLG1CQUFPLENBQUMsaUhBQWlDO0FBQzFFLHNCQUFzQixtQkFBTyxDQUFDLHlGQUFxQjtBQUNuRCxzQkFBc0IsbUJBQU8sQ0FBQyx5RkFBcUI7QUFDbkQsa0JBQWtCLG1CQUFPLENBQUMscUZBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25ELDBGQUEwRixxQkFBcUI7QUFDL0c7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0Esc0ZBQXNGLHFCQUFxQjtBQUMzRztBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG1CQUFtQjtBQUNuQiw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9jb3JlLmpzPzYwNzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNjYW5BcHBlbmRpbmdIZWFkZXJzID0gZXhwb3J0cy5zZWxlY3RDb3ZlciA9IGV4cG9ydHMucmF0aW5nVG9TdGFycyA9IGV4cG9ydHMub3JkZXJUYWdzID0gZXhwb3J0cy5wYXJzZUZyb21Ub2tlbml6ZXIgPSBleHBvcnRzLnBhcnNlQnVmZmVyID0gZXhwb3J0cy5wYXJzZVN0cmVhbSA9IHZvaWQgMDtcbmNvbnN0IHN0cnRvazMgPSByZXF1aXJlKFwic3RydG9rMy9saWIvY29yZVwiKTtcbmNvbnN0IFBhcnNlckZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuL1BhcnNlckZhY3RvcnlcIik7XG5jb25zdCBSYW5kb21VaW50OEFycmF5UmVhZGVyXzEgPSByZXF1aXJlKFwiLi9jb21tb24vUmFuZG9tVWludDhBcnJheVJlYWRlclwiKTtcbmNvbnN0IEFQRXYyUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9hcGV2Mi9BUEV2MlBhcnNlclwiKTtcbmNvbnN0IElEM3YxUGFyc2VyXzEgPSByZXF1aXJlKFwiLi9pZDN2MS9JRDN2MVBhcnNlclwiKTtcbmNvbnN0IEx5cmljczNfMSA9IHJlcXVpcmUoXCIuL2x5cmljczMvTHlyaWNzM1wiKTtcbi8qKlxuICogUGFyc2UgYXVkaW8gZnJvbSBOb2RlIFN0cmVhbS5SZWFkYWJsZVxuICogQHBhcmFtIHN0cmVhbSAtIFN0cmVhbSB0byByZWFkIHRoZSBhdWRpbyB0cmFjayBmcm9tXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFBhcnNpbmcgb3B0aW9uc1xuICogQHBhcmFtIGZpbGVJbmZvIC0gRmlsZSBpbmZvcm1hdGlvbiBvYmplY3Qgb3IgTUlNRS10eXBlIHN0cmluZ1xuICogQHJldHVybnMgTWV0YWRhdGFcbiAqL1xuZnVuY3Rpb24gcGFyc2VTdHJlYW0oc3RyZWFtLCBmaWxlSW5mbywgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIHBhcnNlRnJvbVRva2VuaXplcihzdHJ0b2szLmZyb21TdHJlYW0oc3RyZWFtLCB0eXBlb2YgZmlsZUluZm8gPT09ICdzdHJpbmcnID8geyBtaW1lVHlwZTogZmlsZUluZm8gfSA6IGZpbGVJbmZvKSwgb3B0aW9ucyk7XG59XG5leHBvcnRzLnBhcnNlU3RyZWFtID0gcGFyc2VTdHJlYW07XG4vKipcbiAqIFBhcnNlIGF1ZGlvIGZyb20gTm9kZSBCdWZmZXJcbiAqIEBwYXJhbSB1aW50OEFycmF5IC0gVWludDhBcnJheSBob2xkaW5nIGF1ZGlvIGRhdGFcbiAqIEBwYXJhbSBmaWxlSW5mbyAtIEZpbGUgaW5mb3JtYXRpb24gb2JqZWN0IG9yIE1JTUUtdHlwZSBzdHJpbmdcbiAqIEBwYXJhbSBvcHRpb25zIC0gUGFyc2luZyBvcHRpb25zXG4gKiBAcmV0dXJucyBNZXRhZGF0YVxuICogUmVmOiBodHRwczovL2dpdGh1Yi5jb20vQm9yZXdpdC9zdHJ0b2szL2Jsb2IvZTY5MzhjODFmZjY4NTA3NGQ1ZWIzMDY0YTExYzBiMDNjYTkzNGMxZC9zcmMvaW5kZXgudHMjTDE1XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHBhcnNlQnVmZmVyKHVpbnQ4QXJyYXksIGZpbGVJbmZvLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBidWZmZXJSZWFkZXIgPSBuZXcgUmFuZG9tVWludDhBcnJheVJlYWRlcl8xLlJhbmRvbVVpbnQ4QXJyYXlSZWFkZXIodWludDhBcnJheSk7XG4gICAgYXdhaXQgc2NhbkFwcGVuZGluZ0hlYWRlcnMoYnVmZmVyUmVhZGVyLCBvcHRpb25zKTtcbiAgICBjb25zdCB0b2tlbml6ZXIgPSBzdHJ0b2szLmZyb21CdWZmZXIodWludDhBcnJheSwgdHlwZW9mIGZpbGVJbmZvID09PSAnc3RyaW5nJyA/IHsgbWltZVR5cGU6IGZpbGVJbmZvIH0gOiBmaWxlSW5mbyk7XG4gICAgcmV0dXJuIHBhcnNlRnJvbVRva2VuaXplcih0b2tlbml6ZXIsIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5wYXJzZUJ1ZmZlciA9IHBhcnNlQnVmZmVyO1xuLyoqXG4gKiBQYXJzZSBhdWRpbyBmcm9tIElUb2tlbml6ZXIgc291cmNlXG4gKiBAcGFyYW0gdG9rZW5pemVyIC0gQXVkaW8gc291cmNlIGltcGxlbWVudGluZyB0aGUgdG9rZW5pemVyIGludGVyZmFjZVxuICogQHBhcmFtIG9wdGlvbnMgLSBQYXJzaW5nIG9wdGlvbnNcbiAqIEByZXR1cm5zIE1ldGFkYXRhXG4gKi9cbmZ1bmN0aW9uIHBhcnNlRnJvbVRva2VuaXplcih0b2tlbml6ZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gUGFyc2VyRmFjdG9yeV8xLlBhcnNlckZhY3RvcnkucGFyc2VPbkNvbnRlbnRUeXBlKHRva2VuaXplciwgb3B0aW9ucyk7XG59XG5leHBvcnRzLnBhcnNlRnJvbVRva2VuaXplciA9IHBhcnNlRnJvbVRva2VuaXplcjtcbi8qKlxuICogQ3JlYXRlIGEgZGljdGlvbmFyeSBvcmRlcmVkIGJ5IHRoZWlyIHRhZyBpZCAoa2V5KVxuICogQHBhcmFtIG5hdGl2ZVRhZ3MgbGlzdCBvZiB0YWdzXG4gKiBAcmV0dXJucyB0YWdzIGluZGV4ZWQgYnkgaWRcbiAqL1xuZnVuY3Rpb24gb3JkZXJUYWdzKG5hdGl2ZVRhZ3MpIHtcbiAgICBjb25zdCB0YWdzID0ge307XG4gICAgZm9yIChjb25zdCB0YWcgb2YgbmF0aXZlVGFncykge1xuICAgICAgICAodGFnc1t0YWcuaWRdID0gKHRhZ3NbdGFnLmlkXSB8fCBbXSkpLnB1c2godGFnLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhZ3M7XG59XG5leHBvcnRzLm9yZGVyVGFncyA9IG9yZGVyVGFncztcbi8qKlxuICogQ29udmVydCByYXRpbmcgdG8gMS01IHN0YXIgcmF0aW5nXG4gKiBAcGFyYW0gcmF0aW5nOiBOb3JtYWxpemVkIHJhdGluZyBbMC4uMV0gKGNvbW1vbi5yYXRpbmdbbl0ucmF0aW5nKVxuICogQHJldHVybnMgTnVtYmVyIG9mIHN0YXJzOiAxLCAyLCAzLCA0IG9yIDUgc3RhcnNcbiAqL1xuZnVuY3Rpb24gcmF0aW5nVG9TdGFycyhyYXRpbmcpIHtcbiAgICByZXR1cm4gcmF0aW5nID09PSB1bmRlZmluZWQgPyAwIDogMSArIE1hdGgucm91bmQocmF0aW5nICogNCk7XG59XG5leHBvcnRzLnJhdGluZ1RvU3RhcnMgPSByYXRpbmdUb1N0YXJzO1xuLyoqXG4gKiBTZWxlY3QgbW9zdCBsaWtlbHkgY292ZXIgaW1hZ2UuXG4gKiBAcGFyYW0gcGljdHVyZXMgVXN1YWxseSBtZXRhZGF0YS5jb21tb24ucGljdHVyZVxuICogQHJldHVybiBDb3ZlciBpbWFnZSwgaWYgYW55LCBvdGhlcndpc2UgbnVsbFxuICovXG5mdW5jdGlvbiBzZWxlY3RDb3ZlcihwaWN0dXJlcykge1xuICAgIHJldHVybiBwaWN0dXJlcyA/IHBpY3R1cmVzLnJlZHVjZSgoYWNjLCBjdXIpID0+IHtcbiAgICAgICAgaWYgKGN1ci5uYW1lICYmIGN1ci5uYW1lLnRvTG93ZXJDYXNlKCkgaW4gWydmcm9udCcsICdjb3ZlcicsICdjb3ZlciAoZnJvbnQpJ10pXG4gICAgICAgICAgICByZXR1cm4gY3VyO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0pIDogbnVsbDtcbn1cbmV4cG9ydHMuc2VsZWN0Q292ZXIgPSBzZWxlY3RDb3ZlcjtcbmFzeW5jIGZ1bmN0aW9uIHNjYW5BcHBlbmRpbmdIZWFkZXJzKHJhbmRvbVJlYWRlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGFwZU9mZnNldCA9IHJhbmRvbVJlYWRlci5maWxlU2l6ZTtcbiAgICBpZiAoYXdhaXQgKDAsIElEM3YxUGFyc2VyXzEuaGFzSUQzdjFIZWFkZXIpKHJhbmRvbVJlYWRlcikpIHtcbiAgICAgICAgYXBlT2Zmc2V0IC09IDEyODtcbiAgICAgICAgY29uc3QgbHlyaWNzTGVuID0gYXdhaXQgKDAsIEx5cmljczNfMS5nZXRMeXJpY3NIZWFkZXJMZW5ndGgpKHJhbmRvbVJlYWRlcik7XG4gICAgICAgIGFwZU9mZnNldCAtPSBseXJpY3NMZW47XG4gICAgfVxuICAgIG9wdGlvbnMuYXBlSGVhZGVyID0gYXdhaXQgQVBFdjJQYXJzZXJfMS5BUEV2MlBhcnNlci5maW5kQXBlRm9vdGVyT2Zmc2V0KHJhbmRvbVJlYWRlciwgYXBlT2Zmc2V0KTtcbn1cbmV4cG9ydHMuc2NhbkFwcGVuZGluZ0hlYWRlcnMgPSBzY2FuQXBwZW5kaW5nSGVhZGVycztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/core.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/dsdiff/DsdiffParser.js":
/*!****************************************************************!*\
  !*** ./node_modules/music-metadata/lib/dsdiff/DsdiffParser.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DsdiffParser = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst strtok3 = __webpack_require__(/*! strtok3/lib/core */ \"(ssr)/./node_modules/strtok3/lib/core.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst ID3v2Parser_1 = __webpack_require__(/*! ../id3v2/ID3v2Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\");\nconst DsdiffToken_1 = __webpack_require__(/*! ./DsdiffToken */ \"(ssr)/./node_modules/music-metadata/lib/dsdiff/DsdiffToken.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:aiff');\n/**\n * DSDIFF - Direct Stream Digital Interchange File Format (Phillips)\n *\n * Ref:\n * - http://www.sonicstudio.com/pdf/dsd/DSDIFF_1.5_Spec.pdf\n */\nclass DsdiffParser extends BasicParser_1.BasicParser {\n    async parse() {\n        const header = await this.tokenizer.readToken(DsdiffToken_1.ChunkHeader64);\n        if (header.chunkID !== 'FRM8')\n            throw new Error('Unexpected chunk-ID');\n        const type = (await this.tokenizer.readToken(FourCC_1.FourCcToken)).trim();\n        switch (type) {\n            case 'DSD':\n                this.metadata.setFormat('container', `DSDIFF/${type}`);\n                this.metadata.setFormat('lossless', true);\n                return this.readFmt8Chunks(header.chunkSize - BigInt(FourCC_1.FourCcToken.len));\n            default:\n                throw Error(`Unsupported DSDIFF type: ${type}`);\n        }\n    }\n    async readFmt8Chunks(remainingSize) {\n        while (remainingSize >= DsdiffToken_1.ChunkHeader64.len) {\n            const chunkHeader = await this.tokenizer.readToken(DsdiffToken_1.ChunkHeader64);\n            //  If the data is an odd number of bytes in length, a pad byte must be added at the end\n            debug(`Chunk id=${chunkHeader.chunkID}`);\n            await this.readData(chunkHeader);\n            remainingSize -= (BigInt(DsdiffToken_1.ChunkHeader64.len) + chunkHeader.chunkSize);\n        }\n    }\n    async readData(header) {\n        debug(`Reading data of chunk[ID=${header.chunkID}, size=${header.chunkSize}]`);\n        const p0 = this.tokenizer.position;\n        switch (header.chunkID.trim()) {\n            case 'FVER': // 3.1 FORMAT VERSION CHUNK\n                const version = await this.tokenizer.readToken(Token.UINT32_LE);\n                debug(`DSDIFF version=${version}`);\n                break;\n            case 'PROP': // 3.2 PROPERTY CHUNK\n                const propType = await this.tokenizer.readToken(FourCC_1.FourCcToken);\n                if (propType !== 'SND ')\n                    throw new Error('Unexpected PROP-chunk ID');\n                await this.handleSoundPropertyChunks(header.chunkSize - BigInt(FourCC_1.FourCcToken.len));\n                break;\n            case 'ID3': // Unofficial ID3 tag support\n                const id3_data = await this.tokenizer.readToken(new Token.Uint8ArrayType(Number(header.chunkSize)));\n                const rst = strtok3.fromBuffer(id3_data);\n                await new ID3v2Parser_1.ID3v2Parser().parse(this.metadata, rst, this.options);\n                break;\n            default:\n                debug(`Ignore chunk[ID=${header.chunkID}, size=${header.chunkSize}]`);\n                break;\n            case 'DSD':\n                this.metadata.setFormat('numberOfSamples', Number(header.chunkSize * BigInt(8) / BigInt(this.metadata.format.numberOfChannels)));\n                this.metadata.setFormat('duration', this.metadata.format.numberOfSamples / this.metadata.format.sampleRate);\n                break;\n        }\n        const remaining = header.chunkSize - BigInt(this.tokenizer.position - p0);\n        if (remaining > 0) {\n            debug(`After Parsing chunk, remaining ${remaining} bytes`);\n            await this.tokenizer.ignore(Number(remaining));\n        }\n    }\n    async handleSoundPropertyChunks(remainingSize) {\n        debug(`Parsing sound-property-chunks, remainingSize=${remainingSize}`);\n        while (remainingSize > 0) {\n            const sndPropHeader = await this.tokenizer.readToken(DsdiffToken_1.ChunkHeader64);\n            debug(`Sound-property-chunk[ID=${sndPropHeader.chunkID}, size=${sndPropHeader.chunkSize}]`);\n            const p0 = this.tokenizer.position;\n            switch (sndPropHeader.chunkID.trim()) {\n                case 'FS': // 3.2.1 Sample Rate Chunk\n                    const sampleRate = await this.tokenizer.readToken(Token.UINT32_BE);\n                    this.metadata.setFormat('sampleRate', sampleRate);\n                    break;\n                case 'CHNL': // 3.2.2 Channels Chunk\n                    const numChannels = await this.tokenizer.readToken(Token.UINT16_BE);\n                    this.metadata.setFormat('numberOfChannels', numChannels);\n                    await this.handleChannelChunks(sndPropHeader.chunkSize - BigInt(Token.UINT16_BE.len));\n                    break;\n                case 'CMPR': // 3.2.3 Compression Type Chunk\n                    const compressionIdCode = (await this.tokenizer.readToken(FourCC_1.FourCcToken)).trim();\n                    const count = await this.tokenizer.readToken(Token.UINT8);\n                    const compressionName = await this.tokenizer.readToken(new Token.StringType(count, 'ascii'));\n                    if (compressionIdCode === 'DSD') {\n                        this.metadata.setFormat('lossless', true);\n                        this.metadata.setFormat('bitsPerSample', 1);\n                    }\n                    this.metadata.setFormat('codec', `${compressionIdCode} (${compressionName})`);\n                    break;\n                case 'ABSS': // 3.2.4 Absolute Start Time Chunk\n                    const hours = await this.tokenizer.readToken(Token.UINT16_BE);\n                    const minutes = await this.tokenizer.readToken(Token.UINT8);\n                    const seconds = await this.tokenizer.readToken(Token.UINT8);\n                    const samples = await this.tokenizer.readToken(Token.UINT32_BE);\n                    debug(`ABSS ${hours}:${minutes}:${seconds}.${samples}`);\n                    break;\n                case 'LSCO': // 3.2.5 Loudspeaker Configuration Chunk\n                    const lsConfig = await this.tokenizer.readToken(Token.UINT16_BE);\n                    debug(`LSCO lsConfig=${lsConfig}`);\n                    break;\n                case 'COMT':\n                default:\n                    debug(`Unknown sound-property-chunk[ID=${sndPropHeader.chunkID}, size=${sndPropHeader.chunkSize}]`);\n                    await this.tokenizer.ignore(Number(sndPropHeader.chunkSize));\n            }\n            const remaining = sndPropHeader.chunkSize - BigInt(this.tokenizer.position - p0);\n            if (remaining > 0) {\n                debug(`After Parsing sound-property-chunk ${sndPropHeader.chunkSize}, remaining ${remaining} bytes`);\n                await this.tokenizer.ignore(Number(remaining));\n            }\n            remainingSize -= BigInt(DsdiffToken_1.ChunkHeader64.len) + sndPropHeader.chunkSize;\n            debug(`Parsing sound-property-chunks, remainingSize=${remainingSize}`);\n        }\n        if (this.metadata.format.lossless && this.metadata.format.sampleRate && this.metadata.format.numberOfChannels && this.metadata.format.bitsPerSample) {\n            const bitrate = this.metadata.format.sampleRate * this.metadata.format.numberOfChannels * this.metadata.format.bitsPerSample;\n            this.metadata.setFormat('bitrate', bitrate);\n        }\n    }\n    async handleChannelChunks(remainingSize) {\n        debug(`Parsing channel-chunks, remainingSize=${remainingSize}`);\n        const channels = [];\n        while (remainingSize >= FourCC_1.FourCcToken.len) {\n            const channelId = await this.tokenizer.readToken(FourCC_1.FourCcToken);\n            debug(`Channel[ID=${channelId}]`);\n            channels.push(channelId);\n            remainingSize -= BigInt(FourCC_1.FourCcToken.len);\n        }\n        debug(`Channels: ${channels.join(', ')}`);\n        return channels;\n    }\n}\nexports.DsdiffParser = DsdiffParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2RzZGlmZi9Ec2RpZmZQYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLGNBQWMsbUJBQU8sQ0FBQyxrRUFBYTtBQUNuQyxnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBTztBQUMvQixnQkFBZ0IsbUJBQU8sQ0FBQyxrRUFBa0I7QUFDMUMsaUJBQWlCLG1CQUFPLENBQUMsa0ZBQWtCO0FBQzNDLHNCQUFzQixtQkFBTyxDQUFDLDRGQUF1QjtBQUNyRCxzQkFBc0IsbUJBQU8sQ0FBQywwRkFBc0I7QUFDcEQsc0JBQXNCLG1CQUFPLENBQUMsb0ZBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELEtBQUs7QUFDcEU7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELEtBQUs7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG9CQUFvQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGVBQWUsU0FBUyxpQkFBaUI7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxlQUFlLFNBQVMsaUJBQWlCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsV0FBVztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxjQUFjO0FBQzVFO0FBQ0E7QUFDQSw2Q0FBNkMsc0JBQXNCLFNBQVMsd0JBQXdCO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELG1CQUFtQixHQUFHLGdCQUFnQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsTUFBTSxHQUFHLFFBQVEsR0FBRyxRQUFRLEdBQUcsUUFBUTtBQUN6RTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsc0JBQXNCLFNBQVMsd0JBQXdCO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELHdCQUF3QixjQUFjLFdBQVc7QUFDN0c7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLGNBQWM7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsY0FBYztBQUNyRTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsVUFBVTtBQUMxQztBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsb0JBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9kc2RpZmYvRHNkaWZmUGFyc2VyLmpzP2MzYTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRzZGlmZlBhcnNlciA9IHZvaWQgMDtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY29uc3QgZGVidWdfMSA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcbmNvbnN0IHN0cnRvazMgPSByZXF1aXJlKFwic3RydG9rMy9saWIvY29yZVwiKTtcbmNvbnN0IEZvdXJDQ18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9Gb3VyQ0NcIik7XG5jb25zdCBCYXNpY1BhcnNlcl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9CYXNpY1BhcnNlclwiKTtcbmNvbnN0IElEM3YyUGFyc2VyXzEgPSByZXF1aXJlKFwiLi4vaWQzdjIvSUQzdjJQYXJzZXJcIik7XG5jb25zdCBEc2RpZmZUb2tlbl8xID0gcmVxdWlyZShcIi4vRHNkaWZmVG9rZW5cIik7XG5jb25zdCBkZWJ1ZyA9ICgwLCBkZWJ1Z18xLmRlZmF1bHQpKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6YWlmZicpO1xuLyoqXG4gKiBEU0RJRkYgLSBEaXJlY3QgU3RyZWFtIERpZ2l0YWwgSW50ZXJjaGFuZ2UgRmlsZSBGb3JtYXQgKFBoaWxsaXBzKVxuICpcbiAqIFJlZjpcbiAqIC0gaHR0cDovL3d3dy5zb25pY3N0dWRpby5jb20vcGRmL2RzZC9EU0RJRkZfMS41X1NwZWMucGRmXG4gKi9cbmNsYXNzIERzZGlmZlBhcnNlciBleHRlbmRzIEJhc2ljUGFyc2VyXzEuQmFzaWNQYXJzZXIge1xuICAgIGFzeW5jIHBhcnNlKCkge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oRHNkaWZmVG9rZW5fMS5DaHVua0hlYWRlcjY0KTtcbiAgICAgICAgaWYgKGhlYWRlci5jaHVua0lEICE9PSAnRlJNOCcpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgY2h1bmstSUQnKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IChhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oRm91ckNDXzEuRm91ckNjVG9rZW4pKS50cmltKCk7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnRFNEJzpcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29udGFpbmVyJywgYERTRElGRi8ke3R5cGV9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2xvc3NsZXNzJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZEZtdDhDaHVua3MoaGVhZGVyLmNodW5rU2l6ZSAtIEJpZ0ludChGb3VyQ0NfMS5Gb3VyQ2NUb2tlbi5sZW4pKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFVuc3VwcG9ydGVkIERTRElGRiB0eXBlOiAke3R5cGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcmVhZEZtdDhDaHVua3MocmVtYWluaW5nU2l6ZSkge1xuICAgICAgICB3aGlsZSAocmVtYWluaW5nU2l6ZSA+PSBEc2RpZmZUb2tlbl8xLkNodW5rSGVhZGVyNjQubGVuKSB7XG4gICAgICAgICAgICBjb25zdCBjaHVua0hlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihEc2RpZmZUb2tlbl8xLkNodW5rSGVhZGVyNjQpO1xuICAgICAgICAgICAgLy8gIElmIHRoZSBkYXRhIGlzIGFuIG9kZCBudW1iZXIgb2YgYnl0ZXMgaW4gbGVuZ3RoLCBhIHBhZCBieXRlIG11c3QgYmUgYWRkZWQgYXQgdGhlIGVuZFxuICAgICAgICAgICAgZGVidWcoYENodW5rIGlkPSR7Y2h1bmtIZWFkZXIuY2h1bmtJRH1gKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVhZERhdGEoY2h1bmtIZWFkZXIpO1xuICAgICAgICAgICAgcmVtYWluaW5nU2l6ZSAtPSAoQmlnSW50KERzZGlmZlRva2VuXzEuQ2h1bmtIZWFkZXI2NC5sZW4pICsgY2h1bmtIZWFkZXIuY2h1bmtTaXplKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyByZWFkRGF0YShoZWFkZXIpIHtcbiAgICAgICAgZGVidWcoYFJlYWRpbmcgZGF0YSBvZiBjaHVua1tJRD0ke2hlYWRlci5jaHVua0lEfSwgc2l6ZT0ke2hlYWRlci5jaHVua1NpemV9XWApO1xuICAgICAgICBjb25zdCBwMCA9IHRoaXMudG9rZW5pemVyLnBvc2l0aW9uO1xuICAgICAgICBzd2l0Y2ggKGhlYWRlci5jaHVua0lELnRyaW0oKSkge1xuICAgICAgICAgICAgY2FzZSAnRlZFUic6IC8vIDMuMSBGT1JNQVQgVkVSU0lPTiBDSFVOS1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oVG9rZW4uVUlOVDMyX0xFKTtcbiAgICAgICAgICAgICAgICBkZWJ1ZyhgRFNESUZGIHZlcnNpb249JHt2ZXJzaW9ufWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUFJPUCc6IC8vIDMuMiBQUk9QRVJUWSBDSFVOS1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BUeXBlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEZvdXJDQ18xLkZvdXJDY1Rva2VuKTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcFR5cGUgIT09ICdTTkQgJylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIFBST1AtY2h1bmsgSUQnKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVNvdW5kUHJvcGVydHlDaHVua3MoaGVhZGVyLmNodW5rU2l6ZSAtIEJpZ0ludChGb3VyQ0NfMS5Gb3VyQ2NUb2tlbi5sZW4pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0lEMyc6IC8vIFVub2ZmaWNpYWwgSUQzIHRhZyBzdXBwb3J0XG4gICAgICAgICAgICAgICAgY29uc3QgaWQzX2RhdGEgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLlVpbnQ4QXJyYXlUeXBlKE51bWJlcihoZWFkZXIuY2h1bmtTaXplKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJzdCA9IHN0cnRvazMuZnJvbUJ1ZmZlcihpZDNfZGF0YSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IElEM3YyUGFyc2VyXzEuSUQzdjJQYXJzZXIoKS5wYXJzZSh0aGlzLm1ldGFkYXRhLCByc3QsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGRlYnVnKGBJZ25vcmUgY2h1bmtbSUQ9JHtoZWFkZXIuY2h1bmtJRH0sIHNpemU9JHtoZWFkZXIuY2h1bmtTaXplfV1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0RTRCc6XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mU2FtcGxlcycsIE51bWJlcihoZWFkZXIuY2h1bmtTaXplICogQmlnSW50KDgpIC8gQmlnSW50KHRoaXMubWV0YWRhdGEuZm9ybWF0Lm51bWJlck9mQ2hhbm5lbHMpKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgdGhpcy5tZXRhZGF0YS5mb3JtYXQubnVtYmVyT2ZTYW1wbGVzIC8gdGhpcy5tZXRhZGF0YS5mb3JtYXQuc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtYWluaW5nID0gaGVhZGVyLmNodW5rU2l6ZSAtIEJpZ0ludCh0aGlzLnRva2VuaXplci5wb3NpdGlvbiAtIHAwKTtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICAgIGRlYnVnKGBBZnRlciBQYXJzaW5nIGNodW5rLCByZW1haW5pbmcgJHtyZW1haW5pbmd9IGJ5dGVzYCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoTnVtYmVyKHJlbWFpbmluZykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZVNvdW5kUHJvcGVydHlDaHVua3MocmVtYWluaW5nU2l6ZSkge1xuICAgICAgICBkZWJ1ZyhgUGFyc2luZyBzb3VuZC1wcm9wZXJ0eS1jaHVua3MsIHJlbWFpbmluZ1NpemU9JHtyZW1haW5pbmdTaXplfWApO1xuICAgICAgICB3aGlsZSAocmVtYWluaW5nU2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHNuZFByb3BIZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oRHNkaWZmVG9rZW5fMS5DaHVua0hlYWRlcjY0KTtcbiAgICAgICAgICAgIGRlYnVnKGBTb3VuZC1wcm9wZXJ0eS1jaHVua1tJRD0ke3NuZFByb3BIZWFkZXIuY2h1bmtJRH0sIHNpemU9JHtzbmRQcm9wSGVhZGVyLmNodW5rU2l6ZX1dYCk7XG4gICAgICAgICAgICBjb25zdCBwMCA9IHRoaXMudG9rZW5pemVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgc3dpdGNoIChzbmRQcm9wSGVhZGVyLmNodW5rSUQudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnRlMnOiAvLyAzLjIuMSBTYW1wbGUgUmF0ZSBDaHVua1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzYW1wbGVSYXRlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQzMl9CRSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdzYW1wbGVSYXRlJywgc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0NITkwnOiAvLyAzLjIuMiBDaGFubmVscyBDaHVua1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1DaGFubmVscyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihUb2tlbi5VSU5UMTZfQkUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZDaGFubmVscycsIG51bUNoYW5uZWxzKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVDaGFubmVsQ2h1bmtzKHNuZFByb3BIZWFkZXIuY2h1bmtTaXplIC0gQmlnSW50KFRva2VuLlVJTlQxNl9CRS5sZW4pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQ01QUic6IC8vIDMuMi4zIENvbXByZXNzaW9uIFR5cGUgQ2h1bmtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcHJlc3Npb25JZENvZGUgPSAoYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEZvdXJDQ18xLkZvdXJDY1Rva2VuKSkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihUb2tlbi5VSU5UOCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzaW9uTmFtZSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVG9rZW4uU3RyaW5nVHlwZShjb3VudCwgJ2FzY2lpJykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcHJlc3Npb25JZENvZGUgPT09ICdEU0QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbG9zc2xlc3MnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRzUGVyU2FtcGxlJywgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjJywgYCR7Y29tcHJlc3Npb25JZENvZGV9ICgke2NvbXByZXNzaW9uTmFtZX0pYCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0FCU1MnOiAvLyAzLjIuNCBBYnNvbHV0ZSBTdGFydCBUaW1lIENodW5rXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJzID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQxNl9CRSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oVG9rZW4uVUlOVDgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQ4KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FtcGxlcyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihUb2tlbi5VSU5UMzJfQkUpO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgQUJTUyAke2hvdXJzfToke21pbnV0ZXN9OiR7c2Vjb25kc30uJHtzYW1wbGVzfWApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdMU0NPJzogLy8gMy4yLjUgTG91ZHNwZWFrZXIgQ29uZmlndXJhdGlvbiBDaHVua1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsc0NvbmZpZyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihUb2tlbi5VSU5UMTZfQkUpO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgTFNDTyBsc0NvbmZpZz0ke2xzQ29uZmlnfWApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDT01UJzpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgVW5rbm93biBzb3VuZC1wcm9wZXJ0eS1jaHVua1tJRD0ke3NuZFByb3BIZWFkZXIuY2h1bmtJRH0sIHNpemU9JHtzbmRQcm9wSGVhZGVyLmNodW5rU2l6ZX1dYCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShOdW1iZXIoc25kUHJvcEhlYWRlci5jaHVua1NpemUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IHNuZFByb3BIZWFkZXIuY2h1bmtTaXplIC0gQmlnSW50KHRoaXMudG9rZW5pemVyLnBvc2l0aW9uIC0gcDApO1xuICAgICAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZyhgQWZ0ZXIgUGFyc2luZyBzb3VuZC1wcm9wZXJ0eS1jaHVuayAke3NuZFByb3BIZWFkZXIuY2h1bmtTaXplfSwgcmVtYWluaW5nICR7cmVtYWluaW5nfSBieXRlc2ApO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShOdW1iZXIocmVtYWluaW5nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1haW5pbmdTaXplIC09IEJpZ0ludChEc2RpZmZUb2tlbl8xLkNodW5rSGVhZGVyNjQubGVuKSArIHNuZFByb3BIZWFkZXIuY2h1bmtTaXplO1xuICAgICAgICAgICAgZGVidWcoYFBhcnNpbmcgc291bmQtcHJvcGVydHktY2h1bmtzLCByZW1haW5pbmdTaXplPSR7cmVtYWluaW5nU2l6ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5mb3JtYXQubG9zc2xlc3MgJiYgdGhpcy5tZXRhZGF0YS5mb3JtYXQuc2FtcGxlUmF0ZSAmJiB0aGlzLm1ldGFkYXRhLmZvcm1hdC5udW1iZXJPZkNoYW5uZWxzICYmIHRoaXMubWV0YWRhdGEuZm9ybWF0LmJpdHNQZXJTYW1wbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGJpdHJhdGUgPSB0aGlzLm1ldGFkYXRhLmZvcm1hdC5zYW1wbGVSYXRlICogdGhpcy5tZXRhZGF0YS5mb3JtYXQubnVtYmVyT2ZDaGFubmVscyAqIHRoaXMubWV0YWRhdGEuZm9ybWF0LmJpdHNQZXJTYW1wbGU7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIGJpdHJhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUNoYW5uZWxDaHVua3MocmVtYWluaW5nU2l6ZSkge1xuICAgICAgICBkZWJ1ZyhgUGFyc2luZyBjaGFubmVsLWNodW5rcywgcmVtYWluaW5nU2l6ZT0ke3JlbWFpbmluZ1NpemV9YCk7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxzID0gW107XG4gICAgICAgIHdoaWxlIChyZW1haW5pbmdTaXplID49IEZvdXJDQ18xLkZvdXJDY1Rva2VuLmxlbikge1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbElkID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEZvdXJDQ18xLkZvdXJDY1Rva2VuKTtcbiAgICAgICAgICAgIGRlYnVnKGBDaGFubmVsW0lEPSR7Y2hhbm5lbElkfV1gKTtcbiAgICAgICAgICAgIGNoYW5uZWxzLnB1c2goY2hhbm5lbElkKTtcbiAgICAgICAgICAgIHJlbWFpbmluZ1NpemUgLT0gQmlnSW50KEZvdXJDQ18xLkZvdXJDY1Rva2VuLmxlbik7XG4gICAgICAgIH1cbiAgICAgICAgZGVidWcoYENoYW5uZWxzOiAke2NoYW5uZWxzLmpvaW4oJywgJyl9YCk7XG4gICAgICAgIHJldHVybiBjaGFubmVscztcbiAgICB9XG59XG5leHBvcnRzLkRzZGlmZlBhcnNlciA9IERzZGlmZlBhcnNlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/dsdiff/DsdiffParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/dsdiff/DsdiffToken.js":
/*!***************************************************************!*\
  !*** ./node_modules/music-metadata/lib/dsdiff/DsdiffToken.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ChunkHeader64 = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n/**\n * DSDIFF chunk header\n * The data-size encoding is deviating from EA-IFF 85\n * Ref: http://www.sonicstudio.com/pdf/dsd/DSDIFF_1.5_Spec.pdf\n */\nexports.ChunkHeader64 = {\n    len: 12,\n    get: (buf, off) => {\n        return {\n            // Group-ID\n            chunkID: FourCC_1.FourCcToken.get(buf, off),\n            // Size\n            chunkSize: Token.INT64_BE.get(buf, off + 4)\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2RzZGlmZi9Ec2RpZmZUb2tlbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLGtGQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2RzZGlmZi9Ec2RpZmZUb2tlbi5qcz9iMTU2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DaHVua0hlYWRlcjY0ID0gdm9pZCAwO1xuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG5jb25zdCBGb3VyQ0NfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vRm91ckNDXCIpO1xuLyoqXG4gKiBEU0RJRkYgY2h1bmsgaGVhZGVyXG4gKiBUaGUgZGF0YS1zaXplIGVuY29kaW5nIGlzIGRldmlhdGluZyBmcm9tIEVBLUlGRiA4NVxuICogUmVmOiBodHRwOi8vd3d3LnNvbmljc3R1ZGlvLmNvbS9wZGYvZHNkL0RTRElGRl8xLjVfU3BlYy5wZGZcbiAqL1xuZXhwb3J0cy5DaHVua0hlYWRlcjY0ID0ge1xuICAgIGxlbjogMTIsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIEdyb3VwLUlEXG4gICAgICAgICAgICBjaHVua0lEOiBGb3VyQ0NfMS5Gb3VyQ2NUb2tlbi5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgLy8gU2l6ZVxuICAgICAgICAgICAgY2h1bmtTaXplOiBUb2tlbi5JTlQ2NF9CRS5nZXQoYnVmLCBvZmYgKyA0KVxuICAgICAgICB9O1xuICAgIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/dsdiff/DsdiffToken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/dsf/DsfChunk.js":
/*!*********************************************************!*\
  !*** ./node_modules/music-metadata/lib/dsf/DsfChunk.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FormatChunk = exports.ChannelType = exports.DsdChunk = exports.ChunkHeader = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n/**\n * Common chunk DSD header: the 'chunk name (Four-CC)' & chunk size\n */\nexports.ChunkHeader = {\n    len: 12,\n    get: (buf, off) => {\n        return { id: FourCC_1.FourCcToken.get(buf, off), size: Token.UINT64_LE.get(buf, off + 4) };\n    }\n};\n/**\n * Common chunk DSD header: the 'chunk name (Four-CC)' & chunk size\n */\nexports.DsdChunk = {\n    len: 16,\n    get: (buf, off) => {\n        return {\n            fileSize: Token.INT64_LE.get(buf, off),\n            metadataPointer: Token.INT64_LE.get(buf, off + 8)\n        };\n    }\n};\nvar ChannelType;\n(function (ChannelType) {\n    ChannelType[ChannelType[\"mono\"] = 1] = \"mono\";\n    ChannelType[ChannelType[\"stereo\"] = 2] = \"stereo\";\n    ChannelType[ChannelType[\"channels\"] = 3] = \"channels\";\n    ChannelType[ChannelType[\"quad\"] = 4] = \"quad\";\n    ChannelType[ChannelType[\"4 channels\"] = 5] = \"4 channels\";\n    ChannelType[ChannelType[\"5 channels\"] = 6] = \"5 channels\";\n    ChannelType[ChannelType[\"5.1 channels\"] = 7] = \"5.1 channels\";\n})(ChannelType = exports.ChannelType || (exports.ChannelType = {}));\n/**\n * Common chunk DSD header: the 'chunk name (Four-CC)' & chunk size\n */\nexports.FormatChunk = {\n    len: 40,\n    get: (buf, off) => {\n        return {\n            formatVersion: Token.INT32_LE.get(buf, off),\n            formatID: Token.INT32_LE.get(buf, off + 4),\n            channelType: Token.INT32_LE.get(buf, off + 8),\n            channelNum: Token.INT32_LE.get(buf, off + 12),\n            samplingFrequency: Token.INT32_LE.get(buf, off + 16),\n            bitsPerSample: Token.INT32_LE.get(buf, off + 20),\n            sampleCount: Token.INT64_LE.get(buf, off + 24),\n            blockSizePerChannel: Token.INT32_LE.get(buf, off + 32)\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2RzZi9Ec2ZDaHVuay5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUIsR0FBRyxtQkFBbUIsR0FBRyxnQkFBZ0IsR0FBRyxtQkFBbUI7QUFDbEYsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLGtGQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdDQUF3QyxtQkFBbUIsS0FBSztBQUNqRTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9kc2YvRHNmQ2h1bmsuanM/ZjUxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRm9ybWF0Q2h1bmsgPSBleHBvcnRzLkNoYW5uZWxUeXBlID0gZXhwb3J0cy5Ec2RDaHVuayA9IGV4cG9ydHMuQ2h1bmtIZWFkZXIgPSB2b2lkIDA7XG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoXCJ0b2tlbi10eXBlc1wiKTtcbmNvbnN0IEZvdXJDQ18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9Gb3VyQ0NcIik7XG4vKipcbiAqIENvbW1vbiBjaHVuayBEU0QgaGVhZGVyOiB0aGUgJ2NodW5rIG5hbWUgKEZvdXItQ0MpJyAmIGNodW5rIHNpemVcbiAqL1xuZXhwb3J0cy5DaHVua0hlYWRlciA9IHtcbiAgICBsZW46IDEyLFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7IGlkOiBGb3VyQ0NfMS5Gb3VyQ2NUb2tlbi5nZXQoYnVmLCBvZmYpLCBzaXplOiBUb2tlbi5VSU5UNjRfTEUuZ2V0KGJ1Ziwgb2ZmICsgNCkgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBDb21tb24gY2h1bmsgRFNEIGhlYWRlcjogdGhlICdjaHVuayBuYW1lIChGb3VyLUNDKScgJiBjaHVuayBzaXplXG4gKi9cbmV4cG9ydHMuRHNkQ2h1bmsgPSB7XG4gICAgbGVuOiAxNixcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmlsZVNpemU6IFRva2VuLklOVDY0X0xFLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICBtZXRhZGF0YVBvaW50ZXI6IFRva2VuLklOVDY0X0xFLmdldChidWYsIG9mZiArIDgpXG4gICAgICAgIH07XG4gICAgfVxufTtcbnZhciBDaGFubmVsVHlwZTtcbihmdW5jdGlvbiAoQ2hhbm5lbFR5cGUpIHtcbiAgICBDaGFubmVsVHlwZVtDaGFubmVsVHlwZVtcIm1vbm9cIl0gPSAxXSA9IFwibW9ub1wiO1xuICAgIENoYW5uZWxUeXBlW0NoYW5uZWxUeXBlW1wic3RlcmVvXCJdID0gMl0gPSBcInN0ZXJlb1wiO1xuICAgIENoYW5uZWxUeXBlW0NoYW5uZWxUeXBlW1wiY2hhbm5lbHNcIl0gPSAzXSA9IFwiY2hhbm5lbHNcIjtcbiAgICBDaGFubmVsVHlwZVtDaGFubmVsVHlwZVtcInF1YWRcIl0gPSA0XSA9IFwicXVhZFwiO1xuICAgIENoYW5uZWxUeXBlW0NoYW5uZWxUeXBlW1wiNCBjaGFubmVsc1wiXSA9IDVdID0gXCI0IGNoYW5uZWxzXCI7XG4gICAgQ2hhbm5lbFR5cGVbQ2hhbm5lbFR5cGVbXCI1IGNoYW5uZWxzXCJdID0gNl0gPSBcIjUgY2hhbm5lbHNcIjtcbiAgICBDaGFubmVsVHlwZVtDaGFubmVsVHlwZVtcIjUuMSBjaGFubmVsc1wiXSA9IDddID0gXCI1LjEgY2hhbm5lbHNcIjtcbn0pKENoYW5uZWxUeXBlID0gZXhwb3J0cy5DaGFubmVsVHlwZSB8fCAoZXhwb3J0cy5DaGFubmVsVHlwZSA9IHt9KSk7XG4vKipcbiAqIENvbW1vbiBjaHVuayBEU0QgaGVhZGVyOiB0aGUgJ2NodW5rIG5hbWUgKEZvdXItQ0MpJyAmIGNodW5rIHNpemVcbiAqL1xuZXhwb3J0cy5Gb3JtYXRDaHVuayA9IHtcbiAgICBsZW46IDQwLFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3JtYXRWZXJzaW9uOiBUb2tlbi5JTlQzMl9MRS5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgZm9ybWF0SUQ6IFRva2VuLklOVDMyX0xFLmdldChidWYsIG9mZiArIDQpLFxuICAgICAgICAgICAgY2hhbm5lbFR5cGU6IFRva2VuLklOVDMyX0xFLmdldChidWYsIG9mZiArIDgpLFxuICAgICAgICAgICAgY2hhbm5lbE51bTogVG9rZW4uSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTIpLFxuICAgICAgICAgICAgc2FtcGxpbmdGcmVxdWVuY3k6IFRva2VuLklOVDMyX0xFLmdldChidWYsIG9mZiArIDE2KSxcbiAgICAgICAgICAgIGJpdHNQZXJTYW1wbGU6IFRva2VuLklOVDMyX0xFLmdldChidWYsIG9mZiArIDIwKSxcbiAgICAgICAgICAgIHNhbXBsZUNvdW50OiBUb2tlbi5JTlQ2NF9MRS5nZXQoYnVmLCBvZmYgKyAyNCksXG4gICAgICAgICAgICBibG9ja1NpemVQZXJDaGFubmVsOiBUb2tlbi5JTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAzMilcbiAgICAgICAgfTtcbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/dsf/DsfChunk.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/dsf/DsfParser.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/dsf/DsfParser.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DsfParser = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst AbstractID3Parser_1 = __webpack_require__(/*! ../id3v2/AbstractID3Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js\");\nconst DsfChunk_1 = __webpack_require__(/*! ./DsfChunk */ \"(ssr)/./node_modules/music-metadata/lib/dsf/DsfChunk.js\");\nconst ID3v2Parser_1 = __webpack_require__(/*! ../id3v2/ID3v2Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:DSF');\n/**\n * DSF (dsd stream file) File Parser\n * Ref: https://dsd-guide.com/sites/default/files/white-papers/DSFFileFormatSpec_E.pdf\n */\nclass DsfParser extends AbstractID3Parser_1.AbstractID3Parser {\n    async postId3v2Parse() {\n        const p0 = this.tokenizer.position; // mark start position, normally 0\n        const chunkHeader = await this.tokenizer.readToken(DsfChunk_1.ChunkHeader);\n        if (chunkHeader.id !== 'DSD ')\n            throw new Error('Invalid chunk signature');\n        this.metadata.setFormat('container', 'DSF');\n        this.metadata.setFormat('lossless', true);\n        const dsdChunk = await this.tokenizer.readToken(DsfChunk_1.DsdChunk);\n        if (dsdChunk.metadataPointer === BigInt(0)) {\n            debug(`No ID3v2 tag present`);\n        }\n        else {\n            debug(`expect ID3v2 at offset=${dsdChunk.metadataPointer}`);\n            await this.parseChunks(dsdChunk.fileSize - chunkHeader.size);\n            // Jump to ID3 header\n            await this.tokenizer.ignore(Number(dsdChunk.metadataPointer) - this.tokenizer.position - p0);\n            return new ID3v2Parser_1.ID3v2Parser().parse(this.metadata, this.tokenizer, this.options);\n        }\n    }\n    async parseChunks(bytesRemaining) {\n        while (bytesRemaining >= DsfChunk_1.ChunkHeader.len) {\n            const chunkHeader = await this.tokenizer.readToken(DsfChunk_1.ChunkHeader);\n            debug(`Parsing chunk name=${chunkHeader.id} size=${chunkHeader.size}`);\n            switch (chunkHeader.id) {\n                case 'fmt ':\n                    const formatChunk = await this.tokenizer.readToken(DsfChunk_1.FormatChunk);\n                    this.metadata.setFormat('numberOfChannels', formatChunk.channelNum);\n                    this.metadata.setFormat('sampleRate', formatChunk.samplingFrequency);\n                    this.metadata.setFormat('bitsPerSample', formatChunk.bitsPerSample);\n                    this.metadata.setFormat('numberOfSamples', formatChunk.sampleCount);\n                    this.metadata.setFormat('duration', Number(formatChunk.sampleCount) / formatChunk.samplingFrequency);\n                    const bitrate = formatChunk.bitsPerSample * formatChunk.samplingFrequency * formatChunk.channelNum;\n                    this.metadata.setFormat('bitrate', bitrate);\n                    return; // We got what we want, stop further processing of chunks\n                default:\n                    this.tokenizer.ignore(Number(chunkHeader.size) - DsfChunk_1.ChunkHeader.len);\n                    break;\n            }\n            bytesRemaining -= chunkHeader.size;\n        }\n    }\n}\nexports.DsfParser = DsfParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2RzZi9Ec2ZQYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLDRCQUE0QixtQkFBTyxDQUFDLHNHQUE0QjtBQUNoRSxtQkFBbUIsbUJBQU8sQ0FBQywyRUFBWTtBQUN2QyxzQkFBc0IsbUJBQU8sQ0FBQywwRkFBc0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMseUJBQXlCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxnQkFBZ0IsT0FBTyxpQkFBaUI7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9kc2YvRHNmUGFyc2VyLmpzP2FlZjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRzZlBhcnNlciA9IHZvaWQgMDtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCBBYnN0cmFjdElEM1BhcnNlcl8xID0gcmVxdWlyZShcIi4uL2lkM3YyL0Fic3RyYWN0SUQzUGFyc2VyXCIpO1xuY29uc3QgRHNmQ2h1bmtfMSA9IHJlcXVpcmUoXCIuL0RzZkNodW5rXCIpO1xuY29uc3QgSUQzdjJQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi9pZDN2Mi9JRDN2MlBhcnNlclwiKTtcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjpEU0YnKTtcbi8qKlxuICogRFNGIChkc2Qgc3RyZWFtIGZpbGUpIEZpbGUgUGFyc2VyXG4gKiBSZWY6IGh0dHBzOi8vZHNkLWd1aWRlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL3doaXRlLXBhcGVycy9EU0ZGaWxlRm9ybWF0U3BlY19FLnBkZlxuICovXG5jbGFzcyBEc2ZQYXJzZXIgZXh0ZW5kcyBBYnN0cmFjdElEM1BhcnNlcl8xLkFic3RyYWN0SUQzUGFyc2VyIHtcbiAgICBhc3luYyBwb3N0SWQzdjJQYXJzZSgpIHtcbiAgICAgICAgY29uc3QgcDAgPSB0aGlzLnRva2VuaXplci5wb3NpdGlvbjsgLy8gbWFyayBzdGFydCBwb3NpdGlvbiwgbm9ybWFsbHkgMFxuICAgICAgICBjb25zdCBjaHVua0hlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihEc2ZDaHVua18xLkNodW5rSGVhZGVyKTtcbiAgICAgICAgaWYgKGNodW5rSGVhZGVyLmlkICE9PSAnRFNEICcpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY2h1bmsgc2lnbmF0dXJlJyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb250YWluZXInLCAnRFNGJyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdsb3NzbGVzcycsIHRydWUpO1xuICAgICAgICBjb25zdCBkc2RDaHVuayA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihEc2ZDaHVua18xLkRzZENodW5rKTtcbiAgICAgICAgaWYgKGRzZENodW5rLm1ldGFkYXRhUG9pbnRlciA9PT0gQmlnSW50KDApKSB7XG4gICAgICAgICAgICBkZWJ1ZyhgTm8gSUQzdjIgdGFnIHByZXNlbnRgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlYnVnKGBleHBlY3QgSUQzdjIgYXQgb2Zmc2V0PSR7ZHNkQ2h1bmsubWV0YWRhdGFQb2ludGVyfWApO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXJzZUNodW5rcyhkc2RDaHVuay5maWxlU2l6ZSAtIGNodW5rSGVhZGVyLnNpemUpO1xuICAgICAgICAgICAgLy8gSnVtcCB0byBJRDMgaGVhZGVyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoTnVtYmVyKGRzZENodW5rLm1ldGFkYXRhUG9pbnRlcikgLSB0aGlzLnRva2VuaXplci5wb3NpdGlvbiAtIHAwKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSUQzdjJQYXJzZXJfMS5JRDN2MlBhcnNlcigpLnBhcnNlKHRoaXMubWV0YWRhdGEsIHRoaXMudG9rZW5pemVyLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlQ2h1bmtzKGJ5dGVzUmVtYWluaW5nKSB7XG4gICAgICAgIHdoaWxlIChieXRlc1JlbWFpbmluZyA+PSBEc2ZDaHVua18xLkNodW5rSGVhZGVyLmxlbikge1xuICAgICAgICAgICAgY29uc3QgY2h1bmtIZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oRHNmQ2h1bmtfMS5DaHVua0hlYWRlcik7XG4gICAgICAgICAgICBkZWJ1ZyhgUGFyc2luZyBjaHVuayBuYW1lPSR7Y2h1bmtIZWFkZXIuaWR9IHNpemU9JHtjaHVua0hlYWRlci5zaXplfWApO1xuICAgICAgICAgICAgc3dpdGNoIChjaHVua0hlYWRlci5pZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZtdCAnOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXRDaHVuayA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihEc2ZDaHVua18xLkZvcm1hdENodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mQ2hhbm5lbHMnLCBmb3JtYXRDaHVuay5jaGFubmVsTnVtKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBmb3JtYXRDaHVuay5zYW1wbGluZ0ZyZXF1ZW5jeSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRzUGVyU2FtcGxlJywgZm9ybWF0Q2h1bmsuYml0c1BlclNhbXBsZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZlNhbXBsZXMnLCBmb3JtYXRDaHVuay5zYW1wbGVDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdkdXJhdGlvbicsIE51bWJlcihmb3JtYXRDaHVuay5zYW1wbGVDb3VudCkgLyBmb3JtYXRDaHVuay5zYW1wbGluZ0ZyZXF1ZW5jeSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJpdHJhdGUgPSBmb3JtYXRDaHVuay5iaXRzUGVyU2FtcGxlICogZm9ybWF0Q2h1bmsuc2FtcGxpbmdGcmVxdWVuY3kgKiBmb3JtYXRDaHVuay5jaGFubmVsTnVtO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIGJpdHJhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIFdlIGdvdCB3aGF0IHdlIHdhbnQsIHN0b3AgZnVydGhlciBwcm9jZXNzaW5nIG9mIGNodW5rc1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9rZW5pemVyLmlnbm9yZShOdW1iZXIoY2h1bmtIZWFkZXIuc2l6ZSkgLSBEc2ZDaHVua18xLkNodW5rSGVhZGVyLmxlbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnl0ZXNSZW1haW5pbmcgLT0gY2h1bmtIZWFkZXIuc2l6ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuRHNmUGFyc2VyID0gRHNmUGFyc2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/dsf/DsfParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/flac/FlacParser.js":
/*!************************************************************!*\
  !*** ./node_modules/music-metadata/lib/flac/FlacParser.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FlacParser = void 0;\nconst token_types_1 = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst util = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst Vorbis_1 = __webpack_require__(/*! ../ogg/vorbis/Vorbis */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/Vorbis.js\");\nconst AbstractID3Parser_1 = __webpack_require__(/*! ../id3v2/AbstractID3Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\nconst VorbisParser_1 = __webpack_require__(/*! ../ogg/vorbis/VorbisParser */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js\");\nconst VorbisDecoder_1 = __webpack_require__(/*! ../ogg/vorbis/VorbisDecoder */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisDecoder.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:FLAC');\n/**\n * FLAC supports up to 128 kinds of metadata blocks; currently the following are defined:\n * ref: https://xiph.org/flac/format.html#metadata_block\n */\nvar BlockType;\n(function (BlockType) {\n    BlockType[BlockType[\"STREAMINFO\"] = 0] = \"STREAMINFO\";\n    BlockType[BlockType[\"PADDING\"] = 1] = \"PADDING\";\n    BlockType[BlockType[\"APPLICATION\"] = 2] = \"APPLICATION\";\n    BlockType[BlockType[\"SEEKTABLE\"] = 3] = \"SEEKTABLE\";\n    BlockType[BlockType[\"VORBIS_COMMENT\"] = 4] = \"VORBIS_COMMENT\";\n    BlockType[BlockType[\"CUESHEET\"] = 5] = \"CUESHEET\";\n    BlockType[BlockType[\"PICTURE\"] = 6] = \"PICTURE\";\n})(BlockType || (BlockType = {}));\nclass FlacParser extends AbstractID3Parser_1.AbstractID3Parser {\n    constructor() {\n        super(...arguments);\n        this.padding = 0;\n    }\n    /**\n     * Initialize parser with output (metadata), input (tokenizer) & parsing options (options).\n     * @param {INativeMetadataCollector} metadata Output\n     * @param {ITokenizer} tokenizer Input\n     * @param {IOptions} options Parsing options\n     */\n    init(metadata, tokenizer, options) {\n        super.init(metadata, tokenizer, options);\n        this.vorbisParser = new VorbisParser_1.VorbisParser(metadata, options);\n        return this;\n    }\n    async postId3v2Parse() {\n        const fourCC = await this.tokenizer.readToken(FourCC_1.FourCcToken);\n        if (fourCC.toString() !== 'fLaC') {\n            throw new Error('Invalid FLAC preamble');\n        }\n        let blockHeader;\n        do {\n            // Read block header\n            blockHeader = await this.tokenizer.readToken(Metadata.BlockHeader);\n            // Parse block data\n            await this.parseDataBlock(blockHeader);\n        } while (!blockHeader.lastBlock);\n        if (this.tokenizer.fileInfo.size && this.metadata.format.duration) {\n            const dataSize = this.tokenizer.fileInfo.size - this.tokenizer.position;\n            this.metadata.setFormat('bitrate', 8 * dataSize / this.metadata.format.duration);\n        }\n    }\n    parseDataBlock(blockHeader) {\n        debug(`blockHeader type=${blockHeader.type}, length=${blockHeader.length}`);\n        switch (blockHeader.type) {\n            case BlockType.STREAMINFO:\n                return this.parseBlockStreamInfo(blockHeader.length);\n            case BlockType.PADDING:\n                this.padding += blockHeader.length;\n                break;\n            case BlockType.APPLICATION:\n                break;\n            case BlockType.SEEKTABLE:\n                break;\n            case BlockType.VORBIS_COMMENT:\n                return this.parseComment(blockHeader.length);\n            case BlockType.CUESHEET:\n                break;\n            case BlockType.PICTURE:\n                return this.parsePicture(blockHeader.length).then();\n            default:\n                this.metadata.addWarning('Unknown block type: ' + blockHeader.type);\n        }\n        // Ignore data block\n        return this.tokenizer.ignore(blockHeader.length).then();\n    }\n    /**\n     * Parse STREAMINFO\n     */\n    async parseBlockStreamInfo(dataLen) {\n        if (dataLen !== Metadata.BlockStreamInfo.len)\n            throw new Error('Unexpected block-stream-info length');\n        const streamInfo = await this.tokenizer.readToken(Metadata.BlockStreamInfo);\n        this.metadata.setFormat('container', 'FLAC');\n        this.metadata.setFormat('codec', 'FLAC');\n        this.metadata.setFormat('lossless', true);\n        this.metadata.setFormat('numberOfChannels', streamInfo.channels);\n        this.metadata.setFormat('bitsPerSample', streamInfo.bitsPerSample);\n        this.metadata.setFormat('sampleRate', streamInfo.sampleRate);\n        if (streamInfo.totalSamples > 0) {\n            this.metadata.setFormat('duration', streamInfo.totalSamples / streamInfo.sampleRate);\n        }\n    }\n    /**\n     * Parse VORBIS_COMMENT\n     * Ref: https://www.xiph.org/vorbis/doc/Vorbis_I_spec.html#x1-640004.2.3\n     */\n    async parseComment(dataLen) {\n        const data = await this.tokenizer.readToken(new token_types_1.Uint8ArrayType(dataLen));\n        const decoder = new VorbisDecoder_1.VorbisDecoder(data, 0);\n        decoder.readStringUtf8(); // vendor (skip)\n        const commentListLength = decoder.readInt32();\n        for (let i = 0; i < commentListLength; i++) {\n            const tag = decoder.parseUserComment();\n            this.vorbisParser.addTag(tag.key, tag.value);\n        }\n    }\n    async parsePicture(dataLen) {\n        if (this.options.skipCovers) {\n            return this.tokenizer.ignore(dataLen);\n        }\n        else {\n            const picture = await this.tokenizer.readToken(new Vorbis_1.VorbisPictureToken(dataLen));\n            this.vorbisParser.addTag('METADATA_BLOCK_PICTURE', picture);\n        }\n    }\n}\nexports.FlacParser = FlacParser;\nclass Metadata {\n}\nMetadata.BlockHeader = {\n    len: 4,\n    get: (buf, off) => {\n        return {\n            lastBlock: util.getBit(buf, off, 7),\n            type: util.getBitAllignedNumber(buf, off, 1, 7),\n            length: token_types_1.UINT24_BE.get(buf, off + 1)\n        };\n    }\n};\n/**\n * METADATA_BLOCK_DATA\n * Ref: https://xiph.org/flac/format.html#metadata_block_streaminfo\n */\nMetadata.BlockStreamInfo = {\n    len: 34,\n    get: (buf, off) => {\n        return {\n            // The minimum block size (in samples) used in the stream.\n            minimumBlockSize: token_types_1.UINT16_BE.get(buf, off),\n            // The maximum block size (in samples) used in the stream.\n            // (Minimum blocksize == maximum blocksize) implies a fixed-blocksize stream.\n            maximumBlockSize: token_types_1.UINT16_BE.get(buf, off + 2) / 1000,\n            // The minimum frame size (in bytes) used in the stream.\n            // May be 0 to imply the value is not known.\n            minimumFrameSize: token_types_1.UINT24_BE.get(buf, off + 4),\n            // The maximum frame size (in bytes) used in the stream.\n            // May be 0 to imply the value is not known.\n            maximumFrameSize: token_types_1.UINT24_BE.get(buf, off + 7),\n            // Sample rate in Hz. Though 20 bits are available,\n            // the maximum sample rate is limited by the structure of frame headers to 655350Hz.\n            // Also, a value of 0 is invalid.\n            sampleRate: token_types_1.UINT24_BE.get(buf, off + 10) >> 4,\n            // probably slower: sampleRate: common.getBitAllignedNumber(buf, off + 10, 0, 20),\n            // (number of channels)-1. FLAC supports from 1 to 8 channels\n            channels: util.getBitAllignedNumber(buf, off + 12, 4, 3) + 1,\n            // bits per sample)-1.\n            // FLAC supports from 4 to 32 bits per sample. Currently the reference encoder and decoders only support up to 24 bits per sample.\n            bitsPerSample: util.getBitAllignedNumber(buf, off + 12, 7, 5) + 1,\n            // Total samples in stream.\n            // 'Samples' means inter-channel sample, i.e. one second of 44.1Khz audio will have 44100 samples regardless of the number of channels.\n            // A value of zero here means the number of total samples is unknown.\n            totalSamples: util.getBitAllignedNumber(buf, off + 13, 4, 36),\n            // the MD5 hash of the file (see notes for usage... it's a littly tricky)\n            fileMD5: new token_types_1.Uint8ArrayType(16).get(buf, off + 18)\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2ZsYWMvRmxhY1BhcnNlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEIsc0JBQXNCLG1CQUFPLENBQUMsa0VBQWE7QUFDM0MsZ0JBQWdCLG1CQUFPLENBQUMsc0RBQU87QUFDL0IsYUFBYSxtQkFBTyxDQUFDLDhFQUFnQjtBQUNyQyxpQkFBaUIsbUJBQU8sQ0FBQywwRkFBc0I7QUFDL0MsNEJBQTRCLG1CQUFPLENBQUMsc0dBQTRCO0FBQ2hFLGlCQUFpQixtQkFBTyxDQUFDLGtGQUFrQjtBQUMzQyx1QkFBdUIsbUJBQU8sQ0FBQyxzR0FBNEI7QUFDM0Qsd0JBQXdCLG1CQUFPLENBQUMsd0dBQTZCO0FBQzdEO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOEJBQThCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwQkFBMEI7QUFDekMsZUFBZSxZQUFZO0FBQzNCLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxpQkFBaUIsV0FBVyxtQkFBbUI7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9mbGFjL0ZsYWNQYXJzZXIuanM/OGQxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRmxhY1BhcnNlciA9IHZvaWQgMDtcbmNvbnN0IHRva2VuX3R5cGVzXzEgPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG5jb25zdCBkZWJ1Z18xID0gcmVxdWlyZShcImRlYnVnXCIpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCIuLi9jb21tb24vVXRpbFwiKTtcbmNvbnN0IFZvcmJpc18xID0gcmVxdWlyZShcIi4uL29nZy92b3JiaXMvVm9yYmlzXCIpO1xuY29uc3QgQWJzdHJhY3RJRDNQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi9pZDN2Mi9BYnN0cmFjdElEM1BhcnNlclwiKTtcbmNvbnN0IEZvdXJDQ18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9Gb3VyQ0NcIik7XG5jb25zdCBWb3JiaXNQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi9vZ2cvdm9yYmlzL1ZvcmJpc1BhcnNlclwiKTtcbmNvbnN0IFZvcmJpc0RlY29kZXJfMSA9IHJlcXVpcmUoXCIuLi9vZ2cvdm9yYmlzL1ZvcmJpc0RlY29kZXJcIik7XG5jb25zdCBkZWJ1ZyA9ICgwLCBkZWJ1Z18xLmRlZmF1bHQpKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6RkxBQycpO1xuLyoqXG4gKiBGTEFDIHN1cHBvcnRzIHVwIHRvIDEyOCBraW5kcyBvZiBtZXRhZGF0YSBibG9ja3M7IGN1cnJlbnRseSB0aGUgZm9sbG93aW5nIGFyZSBkZWZpbmVkOlxuICogcmVmOiBodHRwczovL3hpcGgub3JnL2ZsYWMvZm9ybWF0Lmh0bWwjbWV0YWRhdGFfYmxvY2tcbiAqL1xudmFyIEJsb2NrVHlwZTtcbihmdW5jdGlvbiAoQmxvY2tUeXBlKSB7XG4gICAgQmxvY2tUeXBlW0Jsb2NrVHlwZVtcIlNUUkVBTUlORk9cIl0gPSAwXSA9IFwiU1RSRUFNSU5GT1wiO1xuICAgIEJsb2NrVHlwZVtCbG9ja1R5cGVbXCJQQURESU5HXCJdID0gMV0gPSBcIlBBRERJTkdcIjtcbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiQVBQTElDQVRJT05cIl0gPSAyXSA9IFwiQVBQTElDQVRJT05cIjtcbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiU0VFS1RBQkxFXCJdID0gM10gPSBcIlNFRUtUQUJMRVwiO1xuICAgIEJsb2NrVHlwZVtCbG9ja1R5cGVbXCJWT1JCSVNfQ09NTUVOVFwiXSA9IDRdID0gXCJWT1JCSVNfQ09NTUVOVFwiO1xuICAgIEJsb2NrVHlwZVtCbG9ja1R5cGVbXCJDVUVTSEVFVFwiXSA9IDVdID0gXCJDVUVTSEVFVFwiO1xuICAgIEJsb2NrVHlwZVtCbG9ja1R5cGVbXCJQSUNUVVJFXCJdID0gNl0gPSBcIlBJQ1RVUkVcIjtcbn0pKEJsb2NrVHlwZSB8fCAoQmxvY2tUeXBlID0ge30pKTtcbmNsYXNzIEZsYWNQYXJzZXIgZXh0ZW5kcyBBYnN0cmFjdElEM1BhcnNlcl8xLkFic3RyYWN0SUQzUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5wYWRkaW5nID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBwYXJzZXIgd2l0aCBvdXRwdXQgKG1ldGFkYXRhKSwgaW5wdXQgKHRva2VuaXplcikgJiBwYXJzaW5nIG9wdGlvbnMgKG9wdGlvbnMpLlxuICAgICAqIEBwYXJhbSB7SU5hdGl2ZU1ldGFkYXRhQ29sbGVjdG9yfSBtZXRhZGF0YSBPdXRwdXRcbiAgICAgKiBAcGFyYW0ge0lUb2tlbml6ZXJ9IHRva2VuaXplciBJbnB1dFxuICAgICAqIEBwYXJhbSB7SU9wdGlvbnN9IG9wdGlvbnMgUGFyc2luZyBvcHRpb25zXG4gICAgICovXG4gICAgaW5pdChtZXRhZGF0YSwgdG9rZW5pemVyLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyLmluaXQobWV0YWRhdGEsIHRva2VuaXplciwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudm9yYmlzUGFyc2VyID0gbmV3IFZvcmJpc1BhcnNlcl8xLlZvcmJpc1BhcnNlcihtZXRhZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhc3luYyBwb3N0SWQzdjJQYXJzZSgpIHtcbiAgICAgICAgY29uc3QgZm91ckNDID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEZvdXJDQ18xLkZvdXJDY1Rva2VuKTtcbiAgICAgICAgaWYgKGZvdXJDQy50b1N0cmluZygpICE9PSAnZkxhQycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBGTEFDIHByZWFtYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJsb2NrSGVhZGVyO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBSZWFkIGJsb2NrIGhlYWRlclxuICAgICAgICAgICAgYmxvY2tIZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oTWV0YWRhdGEuQmxvY2tIZWFkZXIpO1xuICAgICAgICAgICAgLy8gUGFyc2UgYmxvY2sgZGF0YVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXJzZURhdGFCbG9jayhibG9ja0hlYWRlcik7XG4gICAgICAgIH0gd2hpbGUgKCFibG9ja0hlYWRlci5sYXN0QmxvY2spO1xuICAgICAgICBpZiAodGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSAmJiB0aGlzLm1ldGFkYXRhLmZvcm1hdC5kdXJhdGlvbikge1xuICAgICAgICAgICAgY29uc3QgZGF0YVNpemUgPSB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIC0gdGhpcy50b2tlbml6ZXIucG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIDggKiBkYXRhU2l6ZSAvIHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJzZURhdGFCbG9jayhibG9ja0hlYWRlcikge1xuICAgICAgICBkZWJ1ZyhgYmxvY2tIZWFkZXIgdHlwZT0ke2Jsb2NrSGVhZGVyLnR5cGV9LCBsZW5ndGg9JHtibG9ja0hlYWRlci5sZW5ndGh9YCk7XG4gICAgICAgIHN3aXRjaCAoYmxvY2tIZWFkZXIudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBCbG9ja1R5cGUuU1RSRUFNSU5GTzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUJsb2NrU3RyZWFtSW5mbyhibG9ja0hlYWRlci5sZW5ndGgpO1xuICAgICAgICAgICAgY2FzZSBCbG9ja1R5cGUuUEFERElORzpcbiAgICAgICAgICAgICAgICB0aGlzLnBhZGRpbmcgKz0gYmxvY2tIZWFkZXIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBCbG9ja1R5cGUuQVBQTElDQVRJT046XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEJsb2NrVHlwZS5TRUVLVEFCTEU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEJsb2NrVHlwZS5WT1JCSVNfQ09NTUVOVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUNvbW1lbnQoYmxvY2tIZWFkZXIubGVuZ3RoKTtcbiAgICAgICAgICAgIGNhc2UgQmxvY2tUeXBlLkNVRVNIRUVUOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBCbG9ja1R5cGUuUElDVFVSRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVBpY3R1cmUoYmxvY2tIZWFkZXIubGVuZ3RoKS50aGVuKCk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuYWRkV2FybmluZygnVW5rbm93biBibG9jayB0eXBlOiAnICsgYmxvY2tIZWFkZXIudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWdub3JlIGRhdGEgYmxvY2tcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW5pemVyLmlnbm9yZShibG9ja0hlYWRlci5sZW5ndGgpLnRoZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgU1RSRUFNSU5GT1xuICAgICAqL1xuICAgIGFzeW5jIHBhcnNlQmxvY2tTdHJlYW1JbmZvKGRhdGFMZW4pIHtcbiAgICAgICAgaWYgKGRhdGFMZW4gIT09IE1ldGFkYXRhLkJsb2NrU3RyZWFtSW5mby5sZW4pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgYmxvY2stc3RyZWFtLWluZm8gbGVuZ3RoJyk7XG4gICAgICAgIGNvbnN0IHN0cmVhbUluZm8gPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oTWV0YWRhdGEuQmxvY2tTdHJlYW1JbmZvKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsICdGTEFDJyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb2RlYycsICdGTEFDJyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdsb3NzbGVzcycsIHRydWUpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZDaGFubmVscycsIHN0cmVhbUluZm8uY2hhbm5lbHMpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0c1BlclNhbXBsZScsIHN0cmVhbUluZm8uYml0c1BlclNhbXBsZSk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdzYW1wbGVSYXRlJywgc3RyZWFtSW5mby5zYW1wbGVSYXRlKTtcbiAgICAgICAgaWYgKHN0cmVhbUluZm8udG90YWxTYW1wbGVzID4gMCkge1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgc3RyZWFtSW5mby50b3RhbFNhbXBsZXMgLyBzdHJlYW1JbmZvLnNhbXBsZVJhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlIFZPUkJJU19DT01NRU5UXG4gICAgICogUmVmOiBodHRwczovL3d3dy54aXBoLm9yZy92b3JiaXMvZG9jL1ZvcmJpc19JX3NwZWMuaHRtbCN4MS02NDAwMDQuMi4zXG4gICAgICovXG4gICAgYXN5bmMgcGFyc2VDb21tZW50KGRhdGFMZW4pIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgdG9rZW5fdHlwZXNfMS5VaW50OEFycmF5VHlwZShkYXRhTGVuKSk7XG4gICAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVm9yYmlzRGVjb2Rlcl8xLlZvcmJpc0RlY29kZXIoZGF0YSwgMCk7XG4gICAgICAgIGRlY29kZXIucmVhZFN0cmluZ1V0ZjgoKTsgLy8gdmVuZG9yIChza2lwKVxuICAgICAgICBjb25zdCBjb21tZW50TGlzdExlbmd0aCA9IGRlY29kZXIucmVhZEludDMyKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tbWVudExpc3RMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gZGVjb2Rlci5wYXJzZVVzZXJDb21tZW50KCk7XG4gICAgICAgICAgICB0aGlzLnZvcmJpc1BhcnNlci5hZGRUYWcodGFnLmtleSwgdGFnLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwYXJzZVBpY3R1cmUoZGF0YUxlbikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNraXBDb3ZlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuaXplci5pZ25vcmUoZGF0YUxlbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwaWN0dXJlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBWb3JiaXNfMS5Wb3JiaXNQaWN0dXJlVG9rZW4oZGF0YUxlbikpO1xuICAgICAgICAgICAgdGhpcy52b3JiaXNQYXJzZXIuYWRkVGFnKCdNRVRBREFUQV9CTE9DS19QSUNUVVJFJywgcGljdHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkZsYWNQYXJzZXIgPSBGbGFjUGFyc2VyO1xuY2xhc3MgTWV0YWRhdGEge1xufVxuTWV0YWRhdGEuQmxvY2tIZWFkZXIgPSB7XG4gICAgbGVuOiA0LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsYXN0QmxvY2s6IHV0aWwuZ2V0Qml0KGJ1Ziwgb2ZmLCA3KSxcbiAgICAgICAgICAgIHR5cGU6IHV0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYsIDEsIDcpLFxuICAgICAgICAgICAgbGVuZ3RoOiB0b2tlbl90eXBlc18xLlVJTlQyNF9CRS5nZXQoYnVmLCBvZmYgKyAxKVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vKipcbiAqIE1FVEFEQVRBX0JMT0NLX0RBVEFcbiAqIFJlZjogaHR0cHM6Ly94aXBoLm9yZy9mbGFjL2Zvcm1hdC5odG1sI21ldGFkYXRhX2Jsb2NrX3N0cmVhbWluZm9cbiAqL1xuTWV0YWRhdGEuQmxvY2tTdHJlYW1JbmZvID0ge1xuICAgIGxlbjogMzQsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIFRoZSBtaW5pbXVtIGJsb2NrIHNpemUgKGluIHNhbXBsZXMpIHVzZWQgaW4gdGhlIHN0cmVhbS5cbiAgICAgICAgICAgIG1pbmltdW1CbG9ja1NpemU6IHRva2VuX3R5cGVzXzEuVUlOVDE2X0JFLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICAvLyBUaGUgbWF4aW11bSBibG9jayBzaXplIChpbiBzYW1wbGVzKSB1c2VkIGluIHRoZSBzdHJlYW0uXG4gICAgICAgICAgICAvLyAoTWluaW11bSBibG9ja3NpemUgPT0gbWF4aW11bSBibG9ja3NpemUpIGltcGxpZXMgYSBmaXhlZC1ibG9ja3NpemUgc3RyZWFtLlxuICAgICAgICAgICAgbWF4aW11bUJsb2NrU2l6ZTogdG9rZW5fdHlwZXNfMS5VSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgMikgLyAxMDAwLFxuICAgICAgICAgICAgLy8gVGhlIG1pbmltdW0gZnJhbWUgc2l6ZSAoaW4gYnl0ZXMpIHVzZWQgaW4gdGhlIHN0cmVhbS5cbiAgICAgICAgICAgIC8vIE1heSBiZSAwIHRvIGltcGx5IHRoZSB2YWx1ZSBpcyBub3Qga25vd24uXG4gICAgICAgICAgICBtaW5pbXVtRnJhbWVTaXplOiB0b2tlbl90eXBlc18xLlVJTlQyNF9CRS5nZXQoYnVmLCBvZmYgKyA0KSxcbiAgICAgICAgICAgIC8vIFRoZSBtYXhpbXVtIGZyYW1lIHNpemUgKGluIGJ5dGVzKSB1c2VkIGluIHRoZSBzdHJlYW0uXG4gICAgICAgICAgICAvLyBNYXkgYmUgMCB0byBpbXBseSB0aGUgdmFsdWUgaXMgbm90IGtub3duLlxuICAgICAgICAgICAgbWF4aW11bUZyYW1lU2l6ZTogdG9rZW5fdHlwZXNfMS5VSU5UMjRfQkUuZ2V0KGJ1Ziwgb2ZmICsgNyksXG4gICAgICAgICAgICAvLyBTYW1wbGUgcmF0ZSBpbiBIei4gVGhvdWdoIDIwIGJpdHMgYXJlIGF2YWlsYWJsZSxcbiAgICAgICAgICAgIC8vIHRoZSBtYXhpbXVtIHNhbXBsZSByYXRlIGlzIGxpbWl0ZWQgYnkgdGhlIHN0cnVjdHVyZSBvZiBmcmFtZSBoZWFkZXJzIHRvIDY1NTM1MEh6LlxuICAgICAgICAgICAgLy8gQWxzbywgYSB2YWx1ZSBvZiAwIGlzIGludmFsaWQuXG4gICAgICAgICAgICBzYW1wbGVSYXRlOiB0b2tlbl90eXBlc18xLlVJTlQyNF9CRS5nZXQoYnVmLCBvZmYgKyAxMCkgPj4gNCxcbiAgICAgICAgICAgIC8vIHByb2JhYmx5IHNsb3dlcjogc2FtcGxlUmF0ZTogY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMTAsIDAsIDIwKSxcbiAgICAgICAgICAgIC8vIChudW1iZXIgb2YgY2hhbm5lbHMpLTEuIEZMQUMgc3VwcG9ydHMgZnJvbSAxIHRvIDggY2hhbm5lbHNcbiAgICAgICAgICAgIGNoYW5uZWxzOiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMTIsIDQsIDMpICsgMSxcbiAgICAgICAgICAgIC8vIGJpdHMgcGVyIHNhbXBsZSktMS5cbiAgICAgICAgICAgIC8vIEZMQUMgc3VwcG9ydHMgZnJvbSA0IHRvIDMyIGJpdHMgcGVyIHNhbXBsZS4gQ3VycmVudGx5IHRoZSByZWZlcmVuY2UgZW5jb2RlciBhbmQgZGVjb2RlcnMgb25seSBzdXBwb3J0IHVwIHRvIDI0IGJpdHMgcGVyIHNhbXBsZS5cbiAgICAgICAgICAgIGJpdHNQZXJTYW1wbGU6IHV0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAxMiwgNywgNSkgKyAxLFxuICAgICAgICAgICAgLy8gVG90YWwgc2FtcGxlcyBpbiBzdHJlYW0uXG4gICAgICAgICAgICAvLyAnU2FtcGxlcycgbWVhbnMgaW50ZXItY2hhbm5lbCBzYW1wbGUsIGkuZS4gb25lIHNlY29uZCBvZiA0NC4xS2h6IGF1ZGlvIHdpbGwgaGF2ZSA0NDEwMCBzYW1wbGVzIHJlZ2FyZGxlc3Mgb2YgdGhlIG51bWJlciBvZiBjaGFubmVscy5cbiAgICAgICAgICAgIC8vIEEgdmFsdWUgb2YgemVybyBoZXJlIG1lYW5zIHRoZSBudW1iZXIgb2YgdG90YWwgc2FtcGxlcyBpcyB1bmtub3duLlxuICAgICAgICAgICAgdG90YWxTYW1wbGVzOiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMTMsIDQsIDM2KSxcbiAgICAgICAgICAgIC8vIHRoZSBNRDUgaGFzaCBvZiB0aGUgZmlsZSAoc2VlIG5vdGVzIGZvciB1c2FnZS4uLiBpdCdzIGEgbGl0dGx5IHRyaWNreSlcbiAgICAgICAgICAgIGZpbGVNRDU6IG5ldyB0b2tlbl90eXBlc18xLlVpbnQ4QXJyYXlUeXBlKDE2KS5nZXQoYnVmLCBvZmYgKyAxOClcbiAgICAgICAgfTtcbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/flac/FlacParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.hasID3v1Header = exports.ID3v1Parser = exports.Genres = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst token_types_1 = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst util = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst APEv2Parser_1 = __webpack_require__(/*! ../apev2/APEv2Parser */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:ID3v1');\n/**\n * ID3v1 Genre mappings\n * Ref: https://de.wikipedia.org/wiki/Liste_der_ID3v1-Genres\n */\nexports.Genres = [\n    'Blues', 'Classic Rock', 'Country', 'Dance', 'Disco', 'Funk', 'Grunge', 'Hip-Hop',\n    'Jazz', 'Metal', 'New Age', 'Oldies', 'Other', 'Pop', 'R&B', 'Rap', 'Reggae', 'Rock',\n    'Techno', 'Industrial', 'Alternative', 'Ska', 'Death Metal', 'Pranks', 'Soundtrack',\n    'Euro-Techno', 'Ambient', 'Trip-Hop', 'Vocal', 'Jazz+Funk', 'Fusion', 'Trance',\n    'Classical', 'Instrumental', 'Acid', 'House', 'Game', 'Sound Clip', 'Gospel', 'Noise',\n    'Alt. Rock', 'Bass', 'Soul', 'Punk', 'Space', 'Meditative', 'Instrumental Pop',\n    'Instrumental Rock', 'Ethnic', 'Gothic', 'Darkwave', 'Techno-Industrial',\n    'Electronic', 'Pop-Folk', 'Eurodance', 'Dream', 'Southern Rock', 'Comedy', 'Cult',\n    'Gangsta Rap', 'Top 40', 'Christian Rap', 'Pop/Funk', 'Jungle', 'Native American',\n    'Cabaret', 'New Wave', 'Psychedelic', 'Rave', 'Showtunes', 'Trailer', 'Lo-Fi', 'Tribal',\n    'Acid Punk', 'Acid Jazz', 'Polka', 'Retro', 'Musical', 'Rock & Roll', 'Hard Rock',\n    'Folk', 'Folk/Rock', 'National Folk', 'Swing', 'Fast-Fusion', 'Bebob', 'Latin', 'Revival',\n    'Celtic', 'Bluegrass', 'Avantgarde', 'Gothic Rock', 'Progressive Rock', 'Psychedelic Rock',\n    'Symphonic Rock', 'Slow Rock', 'Big Band', 'Chorus', 'Easy Listening', 'Acoustic', 'Humour',\n    'Speech', 'Chanson', 'Opera', 'Chamber Music', 'Sonata', 'Symphony', 'Booty Bass', 'Primus',\n    'Porn Groove', 'Satire', 'Slow Jam', 'Club', 'Tango', 'Samba', 'Folklore',\n    'Ballad', 'Power Ballad', 'Rhythmic Soul', 'Freestyle', 'Duet', 'Punk Rock', 'Drum Solo',\n    'A Cappella', 'Euro-House', 'Dance Hall', 'Goa', 'Drum & Bass', 'Club-House',\n    'Hardcore', 'Terror', 'Indie', 'BritPop', 'Negerpunk', 'Polsk Punk', 'Beat',\n    'Christian Gangsta Rap', 'Heavy Metal', 'Black Metal', 'Crossover', 'Contemporary Christian',\n    'Christian Rock', 'Merengue', 'Salsa', 'Thrash Metal', 'Anime', 'JPop', 'Synthpop',\n    'Abstract', 'Art Rock', 'Baroque', 'Bhangra', 'Big Beat', 'Breakbeat', 'Chillout',\n    'Downtempo', 'Dub', 'EBM', 'Eclectic', 'Electro', 'Electroclash', 'Emo', 'Experimental',\n    'Garage', 'Global', 'IDM', 'Illbient', 'Industro-Goth', 'Jam Band', 'Krautrock',\n    'Leftfield', 'Lounge', 'Math Rock', 'New Romantic', 'Nu-Breakz', 'Post-Punk', 'Post-Rock',\n    'Psytrance', 'Shoegaze', 'Space Rock', 'Trop Rock', 'World Music', 'Neoclassical', 'Audiobook',\n    'Audio Theatre', 'Neue Deutsche Welle', 'Podcast', 'Indie Rock', 'G-Funk', 'Dubstep',\n    'Garage Rock', 'Psybient'\n];\n/**\n * Spec: http://id3.org/ID3v1\n * Wiki: https://en.wikipedia.org/wiki/ID3\n */\nconst Iid3v1Token = {\n    len: 128,\n    /**\n     * @param buf Buffer possibly holding the 128 bytes ID3v1.1 metadata header\n     * @param off Offset in buffer in bytes\n     * @returns ID3v1.1 header if first 3 bytes equals 'TAG', otherwise null is returned\n     */\n    get: (buf, off) => {\n        const header = new Id3v1StringType(3).get(buf, off);\n        return header === 'TAG' ? {\n            header,\n            title: new Id3v1StringType(30).get(buf, off + 3),\n            artist: new Id3v1StringType(30).get(buf, off + 33),\n            album: new Id3v1StringType(30).get(buf, off + 63),\n            year: new Id3v1StringType(4).get(buf, off + 93),\n            comment: new Id3v1StringType(28).get(buf, off + 97),\n            // ID3v1.1 separator for track\n            zeroByte: token_types_1.UINT8.get(buf, off + 127),\n            // track: ID3v1.1 field added by Michael Mutschler\n            track: token_types_1.UINT8.get(buf, off + 126),\n            genre: token_types_1.UINT8.get(buf, off + 127)\n        } : null;\n    }\n};\nclass Id3v1StringType extends token_types_1.StringType {\n    constructor(len) {\n        super(len, 'binary');\n    }\n    get(buf, off) {\n        let value = super.get(buf, off);\n        value = util.trimRightNull(value);\n        value = value.trim();\n        return value.length > 0 ? value : undefined;\n    }\n}\nclass ID3v1Parser extends BasicParser_1.BasicParser {\n    static getGenre(genreIndex) {\n        if (genreIndex < exports.Genres.length) {\n            return exports.Genres[genreIndex];\n        }\n        return undefined; // ToDO: generate warning\n    }\n    async parse() {\n        if (!this.tokenizer.fileInfo.size) {\n            debug('Skip checking for ID3v1 because the file-size is unknown');\n            return;\n        }\n        if (this.options.apeHeader) {\n            this.tokenizer.ignore(this.options.apeHeader.offset - this.tokenizer.position);\n            const apeParser = new APEv2Parser_1.APEv2Parser();\n            apeParser.init(this.metadata, this.tokenizer, this.options);\n            await apeParser.parseTags(this.options.apeHeader.footer);\n        }\n        const offset = this.tokenizer.fileInfo.size - Iid3v1Token.len;\n        if (this.tokenizer.position > offset) {\n            debug('Already consumed the last 128 bytes');\n            return;\n        }\n        const header = await this.tokenizer.readToken(Iid3v1Token, offset);\n        if (header) {\n            debug('ID3v1 header found at: pos=%s', this.tokenizer.fileInfo.size - Iid3v1Token.len);\n            for (const id of ['title', 'artist', 'album', 'comment', 'track', 'year']) {\n                if (header[id] && header[id] !== '')\n                    this.addTag(id, header[id]);\n            }\n            const genre = ID3v1Parser.getGenre(header.genre);\n            if (genre)\n                this.addTag('genre', genre);\n        }\n        else {\n            debug('ID3v1 header not found at: pos=%s', this.tokenizer.fileInfo.size - Iid3v1Token.len);\n        }\n    }\n    addTag(id, value) {\n        this.metadata.addTag('ID3v1', id, value);\n    }\n}\nexports.ID3v1Parser = ID3v1Parser;\nasync function hasID3v1Header(reader) {\n    if (reader.fileSize >= 128) {\n        const tag = Buffer.alloc(3);\n        await reader.randomRead(tag, 0, tag.length, reader.fileSize - 128);\n        return tag.toString('binary') === 'TAG';\n    }\n    return false;\n}\nexports.hasID3v1Header = hasID3v1Header;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YxL0lEM3YxUGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQixHQUFHLG1CQUFtQixHQUFHLGNBQWM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsc0RBQU87QUFDL0Isc0JBQXNCLG1CQUFPLENBQUMsa0VBQWE7QUFDM0MsYUFBYSxtQkFBTyxDQUFDLDhFQUFnQjtBQUNyQyxzQkFBc0IsbUJBQU8sQ0FBQyw0RkFBdUI7QUFDckQsc0JBQXNCLG1CQUFPLENBQUMsMEZBQXNCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9pZDN2MS9JRDN2MVBhcnNlci5qcz81MDk1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5oYXNJRDN2MUhlYWRlciA9IGV4cG9ydHMuSUQzdjFQYXJzZXIgPSBleHBvcnRzLkdlbnJlcyA9IHZvaWQgMDtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCB0b2tlbl90eXBlc18xID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCIuLi9jb21tb24vVXRpbFwiKTtcbmNvbnN0IEJhc2ljUGFyc2VyXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL0Jhc2ljUGFyc2VyXCIpO1xuY29uc3QgQVBFdjJQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi9hcGV2Mi9BUEV2MlBhcnNlclwiKTtcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjpJRDN2MScpO1xuLyoqXG4gKiBJRDN2MSBHZW5yZSBtYXBwaW5nc1xuICogUmVmOiBodHRwczovL2RlLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0ZV9kZXJfSUQzdjEtR2VucmVzXG4gKi9cbmV4cG9ydHMuR2VucmVzID0gW1xuICAgICdCbHVlcycsICdDbGFzc2ljIFJvY2snLCAnQ291bnRyeScsICdEYW5jZScsICdEaXNjbycsICdGdW5rJywgJ0dydW5nZScsICdIaXAtSG9wJyxcbiAgICAnSmF6eicsICdNZXRhbCcsICdOZXcgQWdlJywgJ09sZGllcycsICdPdGhlcicsICdQb3AnLCAnUiZCJywgJ1JhcCcsICdSZWdnYWUnLCAnUm9jaycsXG4gICAgJ1RlY2hubycsICdJbmR1c3RyaWFsJywgJ0FsdGVybmF0aXZlJywgJ1NrYScsICdEZWF0aCBNZXRhbCcsICdQcmFua3MnLCAnU291bmR0cmFjaycsXG4gICAgJ0V1cm8tVGVjaG5vJywgJ0FtYmllbnQnLCAnVHJpcC1Ib3AnLCAnVm9jYWwnLCAnSmF6eitGdW5rJywgJ0Z1c2lvbicsICdUcmFuY2UnLFxuICAgICdDbGFzc2ljYWwnLCAnSW5zdHJ1bWVudGFsJywgJ0FjaWQnLCAnSG91c2UnLCAnR2FtZScsICdTb3VuZCBDbGlwJywgJ0dvc3BlbCcsICdOb2lzZScsXG4gICAgJ0FsdC4gUm9jaycsICdCYXNzJywgJ1NvdWwnLCAnUHVuaycsICdTcGFjZScsICdNZWRpdGF0aXZlJywgJ0luc3RydW1lbnRhbCBQb3AnLFxuICAgICdJbnN0cnVtZW50YWwgUm9jaycsICdFdGhuaWMnLCAnR290aGljJywgJ0Rhcmt3YXZlJywgJ1RlY2huby1JbmR1c3RyaWFsJyxcbiAgICAnRWxlY3Ryb25pYycsICdQb3AtRm9saycsICdFdXJvZGFuY2UnLCAnRHJlYW0nLCAnU291dGhlcm4gUm9jaycsICdDb21lZHknLCAnQ3VsdCcsXG4gICAgJ0dhbmdzdGEgUmFwJywgJ1RvcCA0MCcsICdDaHJpc3RpYW4gUmFwJywgJ1BvcC9GdW5rJywgJ0p1bmdsZScsICdOYXRpdmUgQW1lcmljYW4nLFxuICAgICdDYWJhcmV0JywgJ05ldyBXYXZlJywgJ1BzeWNoZWRlbGljJywgJ1JhdmUnLCAnU2hvd3R1bmVzJywgJ1RyYWlsZXInLCAnTG8tRmknLCAnVHJpYmFsJyxcbiAgICAnQWNpZCBQdW5rJywgJ0FjaWQgSmF6eicsICdQb2xrYScsICdSZXRybycsICdNdXNpY2FsJywgJ1JvY2sgJiBSb2xsJywgJ0hhcmQgUm9jaycsXG4gICAgJ0ZvbGsnLCAnRm9say9Sb2NrJywgJ05hdGlvbmFsIEZvbGsnLCAnU3dpbmcnLCAnRmFzdC1GdXNpb24nLCAnQmVib2InLCAnTGF0aW4nLCAnUmV2aXZhbCcsXG4gICAgJ0NlbHRpYycsICdCbHVlZ3Jhc3MnLCAnQXZhbnRnYXJkZScsICdHb3RoaWMgUm9jaycsICdQcm9ncmVzc2l2ZSBSb2NrJywgJ1BzeWNoZWRlbGljIFJvY2snLFxuICAgICdTeW1waG9uaWMgUm9jaycsICdTbG93IFJvY2snLCAnQmlnIEJhbmQnLCAnQ2hvcnVzJywgJ0Vhc3kgTGlzdGVuaW5nJywgJ0Fjb3VzdGljJywgJ0h1bW91cicsXG4gICAgJ1NwZWVjaCcsICdDaGFuc29uJywgJ09wZXJhJywgJ0NoYW1iZXIgTXVzaWMnLCAnU29uYXRhJywgJ1N5bXBob255JywgJ0Jvb3R5IEJhc3MnLCAnUHJpbXVzJyxcbiAgICAnUG9ybiBHcm9vdmUnLCAnU2F0aXJlJywgJ1Nsb3cgSmFtJywgJ0NsdWInLCAnVGFuZ28nLCAnU2FtYmEnLCAnRm9sa2xvcmUnLFxuICAgICdCYWxsYWQnLCAnUG93ZXIgQmFsbGFkJywgJ1JoeXRobWljIFNvdWwnLCAnRnJlZXN0eWxlJywgJ0R1ZXQnLCAnUHVuayBSb2NrJywgJ0RydW0gU29sbycsXG4gICAgJ0EgQ2FwcGVsbGEnLCAnRXVyby1Ib3VzZScsICdEYW5jZSBIYWxsJywgJ0dvYScsICdEcnVtICYgQmFzcycsICdDbHViLUhvdXNlJyxcbiAgICAnSGFyZGNvcmUnLCAnVGVycm9yJywgJ0luZGllJywgJ0JyaXRQb3AnLCAnTmVnZXJwdW5rJywgJ1BvbHNrIFB1bmsnLCAnQmVhdCcsXG4gICAgJ0NocmlzdGlhbiBHYW5nc3RhIFJhcCcsICdIZWF2eSBNZXRhbCcsICdCbGFjayBNZXRhbCcsICdDcm9zc292ZXInLCAnQ29udGVtcG9yYXJ5IENocmlzdGlhbicsXG4gICAgJ0NocmlzdGlhbiBSb2NrJywgJ01lcmVuZ3VlJywgJ1NhbHNhJywgJ1RocmFzaCBNZXRhbCcsICdBbmltZScsICdKUG9wJywgJ1N5bnRocG9wJyxcbiAgICAnQWJzdHJhY3QnLCAnQXJ0IFJvY2snLCAnQmFyb3F1ZScsICdCaGFuZ3JhJywgJ0JpZyBCZWF0JywgJ0JyZWFrYmVhdCcsICdDaGlsbG91dCcsXG4gICAgJ0Rvd250ZW1wbycsICdEdWInLCAnRUJNJywgJ0VjbGVjdGljJywgJ0VsZWN0cm8nLCAnRWxlY3Ryb2NsYXNoJywgJ0VtbycsICdFeHBlcmltZW50YWwnLFxuICAgICdHYXJhZ2UnLCAnR2xvYmFsJywgJ0lETScsICdJbGxiaWVudCcsICdJbmR1c3Ryby1Hb3RoJywgJ0phbSBCYW5kJywgJ0tyYXV0cm9jaycsXG4gICAgJ0xlZnRmaWVsZCcsICdMb3VuZ2UnLCAnTWF0aCBSb2NrJywgJ05ldyBSb21hbnRpYycsICdOdS1CcmVha3onLCAnUG9zdC1QdW5rJywgJ1Bvc3QtUm9jaycsXG4gICAgJ1BzeXRyYW5jZScsICdTaG9lZ2F6ZScsICdTcGFjZSBSb2NrJywgJ1Ryb3AgUm9jaycsICdXb3JsZCBNdXNpYycsICdOZW9jbGFzc2ljYWwnLCAnQXVkaW9ib29rJyxcbiAgICAnQXVkaW8gVGhlYXRyZScsICdOZXVlIERldXRzY2hlIFdlbGxlJywgJ1BvZGNhc3QnLCAnSW5kaWUgUm9jaycsICdHLUZ1bmsnLCAnRHVic3RlcCcsXG4gICAgJ0dhcmFnZSBSb2NrJywgJ1BzeWJpZW50J1xuXTtcbi8qKlxuICogU3BlYzogaHR0cDovL2lkMy5vcmcvSUQzdjFcbiAqIFdpa2k6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lEM1xuICovXG5jb25zdCBJaWQzdjFUb2tlbiA9IHtcbiAgICBsZW46IDEyOCxcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYnVmIEJ1ZmZlciBwb3NzaWJseSBob2xkaW5nIHRoZSAxMjggYnl0ZXMgSUQzdjEuMSBtZXRhZGF0YSBoZWFkZXJcbiAgICAgKiBAcGFyYW0gb2ZmIE9mZnNldCBpbiBidWZmZXIgaW4gYnl0ZXNcbiAgICAgKiBAcmV0dXJucyBJRDN2MS4xIGhlYWRlciBpZiBmaXJzdCAzIGJ5dGVzIGVxdWFscyAnVEFHJywgb3RoZXJ3aXNlIG51bGwgaXMgcmV0dXJuZWRcbiAgICAgKi9cbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBuZXcgSWQzdjFTdHJpbmdUeXBlKDMpLmdldChidWYsIG9mZik7XG4gICAgICAgIHJldHVybiBoZWFkZXIgPT09ICdUQUcnID8ge1xuICAgICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgICAgdGl0bGU6IG5ldyBJZDN2MVN0cmluZ1R5cGUoMzApLmdldChidWYsIG9mZiArIDMpLFxuICAgICAgICAgICAgYXJ0aXN0OiBuZXcgSWQzdjFTdHJpbmdUeXBlKDMwKS5nZXQoYnVmLCBvZmYgKyAzMyksXG4gICAgICAgICAgICBhbGJ1bTogbmV3IElkM3YxU3RyaW5nVHlwZSgzMCkuZ2V0KGJ1Ziwgb2ZmICsgNjMpLFxuICAgICAgICAgICAgeWVhcjogbmV3IElkM3YxU3RyaW5nVHlwZSg0KS5nZXQoYnVmLCBvZmYgKyA5MyksXG4gICAgICAgICAgICBjb21tZW50OiBuZXcgSWQzdjFTdHJpbmdUeXBlKDI4KS5nZXQoYnVmLCBvZmYgKyA5NyksXG4gICAgICAgICAgICAvLyBJRDN2MS4xIHNlcGFyYXRvciBmb3IgdHJhY2tcbiAgICAgICAgICAgIHplcm9CeXRlOiB0b2tlbl90eXBlc18xLlVJTlQ4LmdldChidWYsIG9mZiArIDEyNyksXG4gICAgICAgICAgICAvLyB0cmFjazogSUQzdjEuMSBmaWVsZCBhZGRlZCBieSBNaWNoYWVsIE11dHNjaGxlclxuICAgICAgICAgICAgdHJhY2s6IHRva2VuX3R5cGVzXzEuVUlOVDguZ2V0KGJ1Ziwgb2ZmICsgMTI2KSxcbiAgICAgICAgICAgIGdlbnJlOiB0b2tlbl90eXBlc18xLlVJTlQ4LmdldChidWYsIG9mZiArIDEyNylcbiAgICAgICAgfSA6IG51bGw7XG4gICAgfVxufTtcbmNsYXNzIElkM3YxU3RyaW5nVHlwZSBleHRlbmRzIHRva2VuX3R5cGVzXzEuU3RyaW5nVHlwZSB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHN1cGVyKGxlbiwgJ2JpbmFyeScpO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gc3VwZXIuZ2V0KGJ1Ziwgb2ZmKTtcbiAgICAgICAgdmFsdWUgPSB1dGlsLnRyaW1SaWdodE51bGwodmFsdWUpO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA+IDAgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICB9XG59XG5jbGFzcyBJRDN2MVBhcnNlciBleHRlbmRzIEJhc2ljUGFyc2VyXzEuQmFzaWNQYXJzZXIge1xuICAgIHN0YXRpYyBnZXRHZW5yZShnZW5yZUluZGV4KSB7XG4gICAgICAgIGlmIChnZW5yZUluZGV4IDwgZXhwb3J0cy5HZW5yZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5HZW5yZXNbZ2VucmVJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsgLy8gVG9ETzogZ2VuZXJhdGUgd2FybmluZ1xuICAgIH1cbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplKSB7XG4gICAgICAgICAgICBkZWJ1ZygnU2tpcCBjaGVja2luZyBmb3IgSUQzdjEgYmVjYXVzZSB0aGUgZmlsZS1zaXplIGlzIHVua25vd24nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFwZUhlYWRlcikge1xuICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuaWdub3JlKHRoaXMub3B0aW9ucy5hcGVIZWFkZXIub2Zmc2V0IC0gdGhpcy50b2tlbml6ZXIucG9zaXRpb24pO1xuICAgICAgICAgICAgY29uc3QgYXBlUGFyc2VyID0gbmV3IEFQRXYyUGFyc2VyXzEuQVBFdjJQYXJzZXIoKTtcbiAgICAgICAgICAgIGFwZVBhcnNlci5pbml0KHRoaXMubWV0YWRhdGEsIHRoaXMudG9rZW5pemVyLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgYXdhaXQgYXBlUGFyc2VyLnBhcnNlVGFncyh0aGlzLm9wdGlvbnMuYXBlSGVhZGVyLmZvb3Rlcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSAtIElpZDN2MVRva2VuLmxlbjtcbiAgICAgICAgaWYgKHRoaXMudG9rZW5pemVyLnBvc2l0aW9uID4gb2Zmc2V0KSB7XG4gICAgICAgICAgICBkZWJ1ZygnQWxyZWFkeSBjb25zdW1lZCB0aGUgbGFzdCAxMjggYnl0ZXMnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oSWlkM3YxVG9rZW4sIG9mZnNldCk7XG4gICAgICAgIGlmIChoZWFkZXIpIHtcbiAgICAgICAgICAgIGRlYnVnKCdJRDN2MSBoZWFkZXIgZm91bmQgYXQ6IHBvcz0lcycsIHRoaXMudG9rZW5pemVyLmZpbGVJbmZvLnNpemUgLSBJaWQzdjFUb2tlbi5sZW4pO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBbJ3RpdGxlJywgJ2FydGlzdCcsICdhbGJ1bScsICdjb21tZW50JywgJ3RyYWNrJywgJ3llYXInXSkge1xuICAgICAgICAgICAgICAgIGlmIChoZWFkZXJbaWRdICYmIGhlYWRlcltpZF0gIT09ICcnKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRhZyhpZCwgaGVhZGVyW2lkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBnZW5yZSA9IElEM3YxUGFyc2VyLmdldEdlbnJlKGhlYWRlci5nZW5yZSk7XG4gICAgICAgICAgICBpZiAoZ2VucmUpXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUYWcoJ2dlbnJlJywgZ2VucmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVidWcoJ0lEM3YxIGhlYWRlciBub3QgZm91bmQgYXQ6IHBvcz0lcycsIHRoaXMudG9rZW5pemVyLmZpbGVJbmZvLnNpemUgLSBJaWQzdjFUb2tlbi5sZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFRhZyhpZCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRUYWcoJ0lEM3YxJywgaWQsIHZhbHVlKTtcbiAgICB9XG59XG5leHBvcnRzLklEM3YxUGFyc2VyID0gSUQzdjFQYXJzZXI7XG5hc3luYyBmdW5jdGlvbiBoYXNJRDN2MUhlYWRlcihyZWFkZXIpIHtcbiAgICBpZiAocmVhZGVyLmZpbGVTaXplID49IDEyOCkge1xuICAgICAgICBjb25zdCB0YWcgPSBCdWZmZXIuYWxsb2MoMyk7XG4gICAgICAgIGF3YWl0IHJlYWRlci5yYW5kb21SZWFkKHRhZywgMCwgdGFnLmxlbmd0aCwgcmVhZGVyLmZpbGVTaXplIC0gMTI4KTtcbiAgICAgICAgcmV0dXJuIHRhZy50b1N0cmluZygnYmluYXJ5JykgPT09ICdUQUcnO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmhhc0lEM3YxSGVhZGVyID0gaGFzSUQzdjFIZWFkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1TagMap.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v1/ID3v1TagMap.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ID3v1TagMapper = void 0;\nconst GenericTagMapper_1 = __webpack_require__(/*! ../common/GenericTagMapper */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n/**\n * ID3v1 tag mappings\n */\nconst id3v1TagMap = {\n    title: 'title',\n    artist: 'artist',\n    album: 'album',\n    year: 'year',\n    comment: 'comment',\n    track: 'track',\n    genre: 'genre'\n};\nclass ID3v1TagMapper extends GenericTagMapper_1.CommonTagMapper {\n    constructor() {\n        super(['ID3v1'], id3v1TagMap);\n    }\n}\nexports.ID3v1TagMapper = ID3v1TagMapper;\n//# sourceMappingURL=ID3v1TagMap.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YxL0lEM3YxVGFnTWFwLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QiwyQkFBMkIsbUJBQU8sQ0FBQyxzR0FBNEI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9pZDN2MS9JRDN2MVRhZ01hcC5qcz85ZTgxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JRDN2MVRhZ01hcHBlciA9IHZvaWQgMDtcbmNvbnN0IEdlbmVyaWNUYWdNYXBwZXJfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vR2VuZXJpY1RhZ01hcHBlclwiKTtcbi8qKlxuICogSUQzdjEgdGFnIG1hcHBpbmdzXG4gKi9cbmNvbnN0IGlkM3YxVGFnTWFwID0ge1xuICAgIHRpdGxlOiAndGl0bGUnLFxuICAgIGFydGlzdDogJ2FydGlzdCcsXG4gICAgYWxidW06ICdhbGJ1bScsXG4gICAgeWVhcjogJ3llYXInLFxuICAgIGNvbW1lbnQ6ICdjb21tZW50JyxcbiAgICB0cmFjazogJ3RyYWNrJyxcbiAgICBnZW5yZTogJ2dlbnJlJ1xufTtcbmNsYXNzIElEM3YxVGFnTWFwcGVyIGV4dGVuZHMgR2VuZXJpY1RhZ01hcHBlcl8xLkNvbW1vblRhZ01hcHBlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFsnSUQzdjEnXSwgaWQzdjFUYWdNYXApO1xuICAgIH1cbn1cbmV4cG9ydHMuSUQzdjFUYWdNYXBwZXIgPSBJRDN2MVRhZ01hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlEM3YxVGFnTWFwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1TagMap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.AbstractID3Parser = void 0;\nconst core_1 = __webpack_require__(/*! strtok3/lib/core */ \"(ssr)/./node_modules/strtok3/lib/core.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst ID3v2Token_1 = __webpack_require__(/*! ./ID3v2Token */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\nconst ID3v2Parser_1 = __webpack_require__(/*! ./ID3v2Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\");\nconst ID3v1Parser_1 = __webpack_require__(/*! ../id3v1/ID3v1Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:ID3');\n/**\n * Abstract parser which tries take ID3v2 and ID3v1 headers.\n */\nclass AbstractID3Parser extends BasicParser_1.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.id3parser = new ID3v2Parser_1.ID3v2Parser();\n    }\n    static async startsWithID3v2Header(tokenizer) {\n        return (await tokenizer.peekToken(ID3v2Token_1.ID3v2Header)).fileIdentifier === 'ID3';\n    }\n    async parse() {\n        try {\n            await this.parseID3v2();\n        }\n        catch (err) {\n            if (err instanceof core_1.EndOfStreamError) {\n                debug(`End-of-stream`);\n            }\n            else {\n                throw err;\n            }\n        }\n    }\n    finalize() {\n        return;\n    }\n    async parseID3v2() {\n        await this.tryReadId3v2Headers();\n        debug('End of ID3v2 header, go to MPEG-parser: pos=%s', this.tokenizer.position);\n        await this.postId3v2Parse();\n        if (this.options.skipPostHeaders && this.metadata.hasAny()) {\n            this.finalize();\n        }\n        else {\n            const id3v1parser = new ID3v1Parser_1.ID3v1Parser();\n            await id3v1parser.init(this.metadata, this.tokenizer, this.options).parse();\n            this.finalize();\n        }\n    }\n    async tryReadId3v2Headers() {\n        const id3Header = await this.tokenizer.peekToken(ID3v2Token_1.ID3v2Header);\n        if (id3Header.fileIdentifier === 'ID3') {\n            debug('Found ID3v2 header, pos=%s', this.tokenizer.position);\n            await this.id3parser.parse(this.metadata, this.tokenizer, this.options);\n            return this.tryReadId3v2Headers();\n        }\n    }\n}\nexports.AbstractID3Parser = AbstractID3Parser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0Fic3RyYWN0SUQzUGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QjtBQUN6QixlQUFlLG1CQUFPLENBQUMsa0VBQWtCO0FBQ3pDLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLHFCQUFxQixtQkFBTyxDQUFDLGlGQUFjO0FBQzNDLHNCQUFzQixtQkFBTyxDQUFDLG1GQUFlO0FBQzdDLHNCQUFzQixtQkFBTyxDQUFDLDBGQUFzQjtBQUNwRCxzQkFBc0IsbUJBQU8sQ0FBQyw0RkFBdUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9pZDN2Mi9BYnN0cmFjdElEM1BhcnNlci5qcz8xYmRjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BYnN0cmFjdElEM1BhcnNlciA9IHZvaWQgMDtcbmNvbnN0IGNvcmVfMSA9IHJlcXVpcmUoXCJzdHJ0b2szL2xpYi9jb3JlXCIpO1xuY29uc3QgZGVidWdfMSA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcbmNvbnN0IElEM3YyVG9rZW5fMSA9IHJlcXVpcmUoXCIuL0lEM3YyVG9rZW5cIik7XG5jb25zdCBJRDN2MlBhcnNlcl8xID0gcmVxdWlyZShcIi4vSUQzdjJQYXJzZXJcIik7XG5jb25zdCBJRDN2MVBhcnNlcl8xID0gcmVxdWlyZShcIi4uL2lkM3YxL0lEM3YxUGFyc2VyXCIpO1xuY29uc3QgQmFzaWNQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vQmFzaWNQYXJzZXJcIik7XG5jb25zdCBkZWJ1ZyA9ICgwLCBkZWJ1Z18xLmRlZmF1bHQpKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6SUQzJyk7XG4vKipcbiAqIEFic3RyYWN0IHBhcnNlciB3aGljaCB0cmllcyB0YWtlIElEM3YyIGFuZCBJRDN2MSBoZWFkZXJzLlxuICovXG5jbGFzcyBBYnN0cmFjdElEM1BhcnNlciBleHRlbmRzIEJhc2ljUGFyc2VyXzEuQmFzaWNQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmlkM3BhcnNlciA9IG5ldyBJRDN2MlBhcnNlcl8xLklEM3YyUGFyc2VyKCk7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBzdGFydHNXaXRoSUQzdjJIZWFkZXIodG9rZW5pemVyKSB7XG4gICAgICAgIHJldHVybiAoYXdhaXQgdG9rZW5pemVyLnBlZWtUb2tlbihJRDN2MlRva2VuXzEuSUQzdjJIZWFkZXIpKS5maWxlSWRlbnRpZmllciA9PT0gJ0lEMyc7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXJzZUlEM3YyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIGNvcmVfMS5FbmRPZlN0cmVhbUVycm9yKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoYEVuZC1vZi1zdHJlYW1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5hbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUlEM3YyKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnRyeVJlYWRJZDN2MkhlYWRlcnMoKTtcbiAgICAgICAgZGVidWcoJ0VuZCBvZiBJRDN2MiBoZWFkZXIsIGdvIHRvIE1QRUctcGFyc2VyOiBwb3M9JXMnLCB0aGlzLnRva2VuaXplci5wb3NpdGlvbik7XG4gICAgICAgIGF3YWl0IHRoaXMucG9zdElkM3YyUGFyc2UoKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5za2lwUG9zdEhlYWRlcnMgJiYgdGhpcy5tZXRhZGF0YS5oYXNBbnkoKSkge1xuICAgICAgICAgICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaWQzdjFwYXJzZXIgPSBuZXcgSUQzdjFQYXJzZXJfMS5JRDN2MVBhcnNlcigpO1xuICAgICAgICAgICAgYXdhaXQgaWQzdjFwYXJzZXIuaW5pdCh0aGlzLm1ldGFkYXRhLCB0aGlzLnRva2VuaXplciwgdGhpcy5vcHRpb25zKS5wYXJzZSgpO1xuICAgICAgICAgICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHRyeVJlYWRJZDN2MkhlYWRlcnMoKSB7XG4gICAgICAgIGNvbnN0IGlkM0hlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnBlZWtUb2tlbihJRDN2MlRva2VuXzEuSUQzdjJIZWFkZXIpO1xuICAgICAgICBpZiAoaWQzSGVhZGVyLmZpbGVJZGVudGlmaWVyID09PSAnSUQzJykge1xuICAgICAgICAgICAgZGVidWcoJ0ZvdW5kIElEM3YyIGhlYWRlciwgcG9zPSVzJywgdGhpcy50b2tlbml6ZXIucG9zaXRpb24pO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pZDNwYXJzZXIucGFyc2UodGhpcy5tZXRhZGF0YSwgdGhpcy50b2tlbml6ZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cnlSZWFkSWQzdjJIZWFkZXJzKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkFic3RyYWN0SUQzUGFyc2VyID0gQWJzdHJhY3RJRDNQYXJzZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v2/FrameParser.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v2/FrameParser.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FrameParser = exports.parseGenre = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst util = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst ID3v2Token_1 = __webpack_require__(/*! ./ID3v2Token */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\nconst ID3v1Parser_1 = __webpack_require__(/*! ../id3v1/ID3v1Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js\");\nconst debug = (0, debug_1.default)('music-metadata:id3v2:frame-parser');\nconst defaultEnc = 'latin1'; // latin1 == iso-8859-1;\nfunction parseGenre(origVal) {\n    // match everything inside parentheses\n    const genres = [];\n    let code;\n    let word = '';\n    for (const c of origVal) {\n        if (typeof code === 'string') {\n            if (c === '(' && code === '') {\n                word += '(';\n                code = undefined;\n            }\n            else if (c === ')') {\n                if (word !== '') {\n                    genres.push(word);\n                    word = '';\n                }\n                const genre = parseGenreCode(code);\n                if (genre) {\n                    genres.push(genre);\n                }\n                code = undefined;\n            }\n            else\n                code += c;\n        }\n        else if (c === '(') {\n            code = '';\n        }\n        else {\n            word += c;\n        }\n    }\n    if (word) {\n        if (genres.length === 0 && word.match(/^\\d*$/)) {\n            word = ID3v1Parser_1.Genres[word];\n        }\n        genres.push(word);\n    }\n    return genres;\n}\nexports.parseGenre = parseGenre;\nfunction parseGenreCode(code) {\n    if (code === 'RX')\n        return 'Remix';\n    if (code === 'CR')\n        return 'Cover';\n    if (code.match(/^\\d*$/)) {\n        return ID3v1Parser_1.Genres[code];\n    }\n}\nclass FrameParser {\n    /**\n     * Create id3v2 frame parser\n     * @param major - Major version, e.g. (4) for  id3v2.4\n     * @param warningCollector - Used to collect decode issue\n     */\n    constructor(major, warningCollector) {\n        this.major = major;\n        this.warningCollector = warningCollector;\n    }\n    readData(uint8Array, type, includeCovers) {\n        if (uint8Array.length === 0) {\n            this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${type}`);\n            return;\n        }\n        const { encoding, bom } = ID3v2Token_1.TextEncodingToken.get(uint8Array, 0);\n        const length = uint8Array.length;\n        let offset = 0;\n        let output = []; // ToDo\n        const nullTerminatorLength = FrameParser.getNullTerminatorLength(encoding);\n        let fzero;\n        const out = {};\n        debug(`Parsing tag type=${type}, encoding=${encoding}, bom=${bom}`);\n        switch (type !== 'TXXX' && type[0] === 'T' ? 'T*' : type) {\n            case 'T*': // 4.2.1. Text information frames - details\n            case 'IPLS': // v2.3: Involved people list\n            case 'MVIN':\n            case 'MVNM':\n            case 'PCS':\n            case 'PCST':\n                let text;\n                try {\n                    text = util.decodeString(uint8Array.slice(1), encoding).replace(/\\x00+$/, '');\n                }\n                catch (error) {\n                    this.warningCollector.addWarning(`id3v2.${this.major} type=${type} header has invalid string value: ${error.message}`);\n                }\n                switch (type) {\n                    case 'TMCL': // Musician credits list\n                    case 'TIPL': // Involved people list\n                    case 'IPLS': // Involved people list\n                        output = this.splitValue(type, text);\n                        output = FrameParser.functionList(output);\n                        break;\n                    case 'TRK':\n                    case 'TRCK':\n                    case 'TPOS':\n                        output = text;\n                        break;\n                    case 'TCOM':\n                    case 'TEXT':\n                    case 'TOLY':\n                    case 'TOPE':\n                    case 'TPE1':\n                    case 'TSRC':\n                        // id3v2.3 defines that TCOM, TEXT, TOLY, TOPE & TPE1 values are separated by /\n                        output = this.splitValue(type, text);\n                        break;\n                    case 'TCO':\n                    case 'TCON':\n                        output = this.splitValue(type, text).map(v => parseGenre(v)).reduce((acc, val) => acc.concat(val), []);\n                        break;\n                    case 'PCS':\n                    case 'PCST':\n                        // TODO: Why `default` not results `1` but `''`?\n                        output = this.major >= 4 ? this.splitValue(type, text) : [text];\n                        output = (Array.isArray(output) && output[0] === '') ? 1 : 0;\n                        break;\n                    default:\n                        output = this.major >= 4 ? this.splitValue(type, text) : [text];\n                }\n                break;\n            case 'TXXX':\n                output = FrameParser.readIdentifierAndData(uint8Array, offset + 1, length, encoding);\n                output = {\n                    description: output.id,\n                    text: this.splitValue(type, util.decodeString(output.data, encoding).replace(/\\x00+$/, ''))\n                };\n                break;\n            case 'PIC':\n            case 'APIC':\n                if (includeCovers) {\n                    const pic = {};\n                    offset += 1;\n                    switch (this.major) {\n                        case 2:\n                            pic.format = util.decodeString(uint8Array.slice(offset, offset + 3), 'latin1'); // 'latin1'; // latin1 == iso-8859-1;\n                            offset += 3;\n                            break;\n                        case 3:\n                        case 4:\n                            fzero = util.findZero(uint8Array, offset, length, defaultEnc);\n                            pic.format = util.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                            offset = fzero + 1;\n                            break;\n                        default:\n                            throw new Error('Warning: unexpected major versionIndex: ' + this.major);\n                    }\n                    pic.format = FrameParser.fixPictureMimeType(pic.format);\n                    pic.type = ID3v2Token_1.AttachedPictureType[uint8Array[offset]];\n                    offset += 1;\n                    fzero = util.findZero(uint8Array, offset, length, encoding);\n                    pic.description = util.decodeString(uint8Array.slice(offset, fzero), encoding);\n                    offset = fzero + nullTerminatorLength;\n                    pic.data = Buffer.from(uint8Array.slice(offset, length));\n                    output = pic;\n                }\n                break;\n            case 'CNT':\n            case 'PCNT':\n                output = Token.UINT32_BE.get(uint8Array, 0);\n                break;\n            case 'SYLT':\n                // skip text encoding (1 byte),\n                //      language (3 bytes),\n                //      time stamp format (1 byte),\n                //      content tagTypes (1 byte),\n                //      content descriptor (1 byte)\n                offset += 7;\n                output = [];\n                while (offset < length) {\n                    const txt = uint8Array.slice(offset, offset = util.findZero(uint8Array, offset, length, encoding));\n                    offset += 5; // push offset forward one +  4 byte timestamp\n                    output.push(util.decodeString(txt, encoding));\n                }\n                break;\n            case 'ULT':\n            case 'USLT':\n            case 'COM':\n            case 'COMM':\n                offset += 1;\n                out.language = util.decodeString(uint8Array.slice(offset, offset + 3), defaultEnc);\n                offset += 3;\n                fzero = util.findZero(uint8Array, offset, length, encoding);\n                out.description = util.decodeString(uint8Array.slice(offset, fzero), encoding);\n                offset = fzero + nullTerminatorLength;\n                out.text = util.decodeString(uint8Array.slice(offset, length), encoding).replace(/\\x00+$/, '');\n                output = [out];\n                break;\n            case 'UFID':\n                output = FrameParser.readIdentifierAndData(uint8Array, offset, length, defaultEnc);\n                output = { owner_identifier: output.id, identifier: output.data };\n                break;\n            case 'PRIV': // private frame\n                output = FrameParser.readIdentifierAndData(uint8Array, offset, length, defaultEnc);\n                output = { owner_identifier: output.id, data: output.data };\n                break;\n            case 'POPM': // Popularimeter\n                fzero = util.findZero(uint8Array, offset, length, defaultEnc);\n                const email = util.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                offset = fzero + 1;\n                const dataLen = length - offset;\n                output = {\n                    email,\n                    rating: Token.UINT8.get(uint8Array, offset),\n                    counter: dataLen >= 5 ? Token.UINT32_BE.get(uint8Array, offset + 1) : undefined\n                };\n                break;\n            case 'GEOB': { // General encapsulated object\n                fzero = util.findZero(uint8Array, offset + 1, length, encoding);\n                const mimeType = util.decodeString(uint8Array.slice(offset + 1, fzero), defaultEnc);\n                offset = fzero + 1;\n                fzero = util.findZero(uint8Array, offset, length - offset, encoding);\n                const filename = util.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                offset = fzero + 1;\n                fzero = util.findZero(uint8Array, offset, length - offset, encoding);\n                const description = util.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                output = {\n                    type: mimeType,\n                    filename,\n                    description,\n                    data: uint8Array.slice(offset + 1, length)\n                };\n                break;\n            }\n            // W-Frames:\n            case 'WCOM':\n            case 'WCOP':\n            case 'WOAF':\n            case 'WOAR':\n            case 'WOAS':\n            case 'WORS':\n            case 'WPAY':\n            case 'WPUB':\n                // Decode URL\n                output = util.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                break;\n            case 'WXXX': {\n                // Decode URL\n                fzero = util.findZero(uint8Array, offset + 1, length, encoding);\n                const description = util.decodeString(uint8Array.slice(offset + 1, fzero), encoding);\n                offset = fzero + (encoding === 'utf16le' ? 2 : 1);\n                output = { description, url: util.decodeString(uint8Array.slice(offset, length), defaultEnc) };\n                break;\n            }\n            case 'WFD':\n            case 'WFED':\n                output = util.decodeString(uint8Array.slice(offset + 1, util.findZero(uint8Array, offset + 1, length, encoding)), encoding);\n                break;\n            case 'MCDI': {\n                // Music CD identifier\n                output = uint8Array.slice(0, length);\n                break;\n            }\n            default:\n                debug('Warning: unsupported id3v2-tag-type: ' + type);\n                break;\n        }\n        return output;\n    }\n    static fixPictureMimeType(pictureType) {\n        pictureType = pictureType.toLocaleLowerCase();\n        switch (pictureType) {\n            case 'jpg':\n                return 'image/jpeg';\n            case 'png':\n                return 'image/png';\n        }\n        return pictureType;\n    }\n    /**\n     * Converts TMCL (Musician credits list) or TIPL (Involved people list)\n     * @param entries\n     */\n    static functionList(entries) {\n        const res = {};\n        for (let i = 0; i + 1 < entries.length; i += 2) {\n            const names = entries[i + 1].split(',');\n            res[entries[i]] = res.hasOwnProperty(entries[i]) ? res[entries[i]].concat(names) : names;\n        }\n        return res;\n    }\n    /**\n     * id3v2.4 defines that multiple T* values are separated by 0x00\n     * id3v2.3 defines that TCOM, TEXT, TOLY, TOPE & TPE1 values are separated by /\n     * @param tag - Tag name\n     * @param text - Concatenated tag value\n     * @returns Split tag value\n     */\n    splitValue(tag, text) {\n        let values;\n        if (this.major < 4) {\n            values = text.split(/\\x00/g);\n            if (values.length > 1) {\n                this.warningCollector.addWarning(`ID3v2.${this.major} ${tag} uses non standard null-separator.`);\n            }\n            else {\n                values = text.split(/\\//g);\n            }\n        }\n        else {\n            values = text.split(/\\x00/g);\n        }\n        return FrameParser.trimArray(values);\n    }\n    static trimArray(values) {\n        return values.map(value => value.replace(/\\x00+$/, '').trim());\n    }\n    static readIdentifierAndData(uint8Array, offset, length, encoding) {\n        const fzero = util.findZero(uint8Array, offset, length, encoding);\n        const id = util.decodeString(uint8Array.slice(offset, fzero), encoding);\n        offset = fzero + FrameParser.getNullTerminatorLength(encoding);\n        return { id, data: uint8Array.slice(offset, length) };\n    }\n    static getNullTerminatorLength(enc) {\n        return enc === 'utf16le' ? 2 : 1;\n    }\n}\nexports.FrameParser = FrameParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0ZyYW1lUGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQixHQUFHLGtCQUFrQjtBQUN4QyxnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBTztBQUMvQixjQUFjLG1CQUFPLENBQUMsa0VBQWE7QUFDbkMsYUFBYSxtQkFBTyxDQUFDLDhFQUFnQjtBQUNyQyxxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBYztBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQywwRkFBc0I7QUFDcEQ7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELFlBQVksNEJBQTRCLEtBQUs7QUFDbkc7QUFDQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsS0FBSyxhQUFhLFNBQVMsUUFBUSxJQUFJO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxZQUFZLE9BQU8sTUFBTSxtQ0FBbUMsY0FBYztBQUN4STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEdBQTRHLGFBQWE7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHdCQUF3QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELFlBQVksRUFBRSxLQUFLO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9pZDN2Mi9GcmFtZVBhcnNlci5qcz80MzczIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5GcmFtZVBhcnNlciA9IGV4cG9ydHMucGFyc2VHZW5yZSA9IHZvaWQgMDtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoXCJ0b2tlbi10eXBlc1wiKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKFwiLi4vY29tbW9uL1V0aWxcIik7XG5jb25zdCBJRDN2MlRva2VuXzEgPSByZXF1aXJlKFwiLi9JRDN2MlRva2VuXCIpO1xuY29uc3QgSUQzdjFQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi9pZDN2MS9JRDN2MVBhcnNlclwiKTtcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoJ211c2ljLW1ldGFkYXRhOmlkM3YyOmZyYW1lLXBhcnNlcicpO1xuY29uc3QgZGVmYXVsdEVuYyA9ICdsYXRpbjEnOyAvLyBsYXRpbjEgPT0gaXNvLTg4NTktMTtcbmZ1bmN0aW9uIHBhcnNlR2VucmUob3JpZ1ZhbCkge1xuICAgIC8vIG1hdGNoIGV2ZXJ5dGhpbmcgaW5zaWRlIHBhcmVudGhlc2VzXG4gICAgY29uc3QgZ2VucmVzID0gW107XG4gICAgbGV0IGNvZGU7XG4gICAgbGV0IHdvcmQgPSAnJztcbiAgICBmb3IgKGNvbnN0IGMgb2Ygb3JpZ1ZhbCkge1xuICAgICAgICBpZiAodHlwZW9mIGNvZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJygnICYmIGNvZGUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgd29yZCArPSAnKCc7XG4gICAgICAgICAgICAgICAgY29kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICcpJykge1xuICAgICAgICAgICAgICAgIGlmICh3b3JkICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBnZW5yZXMucHVzaCh3b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgd29yZCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBnZW5yZSA9IHBhcnNlR2VucmVDb2RlKGNvZGUpO1xuICAgICAgICAgICAgICAgIGlmIChnZW5yZSkge1xuICAgICAgICAgICAgICAgICAgICBnZW5yZXMucHVzaChnZW5yZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY29kZSArPSBjO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09ICcoJykge1xuICAgICAgICAgICAgY29kZSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd29yZCArPSBjO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh3b3JkKSB7XG4gICAgICAgIGlmIChnZW5yZXMubGVuZ3RoID09PSAwICYmIHdvcmQubWF0Y2goL15cXGQqJC8pKSB7XG4gICAgICAgICAgICB3b3JkID0gSUQzdjFQYXJzZXJfMS5HZW5yZXNbd29yZF07XG4gICAgICAgIH1cbiAgICAgICAgZ2VucmVzLnB1c2god29yZCk7XG4gICAgfVxuICAgIHJldHVybiBnZW5yZXM7XG59XG5leHBvcnRzLnBhcnNlR2VucmUgPSBwYXJzZUdlbnJlO1xuZnVuY3Rpb24gcGFyc2VHZW5yZUNvZGUoY29kZSkge1xuICAgIGlmIChjb2RlID09PSAnUlgnKVxuICAgICAgICByZXR1cm4gJ1JlbWl4JztcbiAgICBpZiAoY29kZSA9PT0gJ0NSJylcbiAgICAgICAgcmV0dXJuICdDb3Zlcic7XG4gICAgaWYgKGNvZGUubWF0Y2goL15cXGQqJC8pKSB7XG4gICAgICAgIHJldHVybiBJRDN2MVBhcnNlcl8xLkdlbnJlc1tjb2RlXTtcbiAgICB9XG59XG5jbGFzcyBGcmFtZVBhcnNlciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGlkM3YyIGZyYW1lIHBhcnNlclxuICAgICAqIEBwYXJhbSBtYWpvciAtIE1ham9yIHZlcnNpb24sIGUuZy4gKDQpIGZvciAgaWQzdjIuNFxuICAgICAqIEBwYXJhbSB3YXJuaW5nQ29sbGVjdG9yIC0gVXNlZCB0byBjb2xsZWN0IGRlY29kZSBpc3N1ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1ham9yLCB3YXJuaW5nQ29sbGVjdG9yKSB7XG4gICAgICAgIHRoaXMubWFqb3IgPSBtYWpvcjtcbiAgICAgICAgdGhpcy53YXJuaW5nQ29sbGVjdG9yID0gd2FybmluZ0NvbGxlY3RvcjtcbiAgICB9XG4gICAgcmVhZERhdGEodWludDhBcnJheSwgdHlwZSwgaW5jbHVkZUNvdmVycykge1xuICAgICAgICBpZiAodWludDhBcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMud2FybmluZ0NvbGxlY3Rvci5hZGRXYXJuaW5nKGBpZDN2Mi4ke3RoaXMubWFqb3J9IGhlYWRlciBoYXMgZW1wdHkgdGFnIHR5cGU9JHt0eXBlfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZW5jb2RpbmcsIGJvbSB9ID0gSUQzdjJUb2tlbl8xLlRleHRFbmNvZGluZ1Rva2VuLmdldCh1aW50OEFycmF5LCAwKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdWludDhBcnJheS5sZW5ndGg7XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBsZXQgb3V0cHV0ID0gW107IC8vIFRvRG9cbiAgICAgICAgY29uc3QgbnVsbFRlcm1pbmF0b3JMZW5ndGggPSBGcmFtZVBhcnNlci5nZXROdWxsVGVybWluYXRvckxlbmd0aChlbmNvZGluZyk7XG4gICAgICAgIGxldCBmemVybztcbiAgICAgICAgY29uc3Qgb3V0ID0ge307XG4gICAgICAgIGRlYnVnKGBQYXJzaW5nIHRhZyB0eXBlPSR7dHlwZX0sIGVuY29kaW5nPSR7ZW5jb2Rpbmd9LCBib209JHtib219YCk7XG4gICAgICAgIHN3aXRjaCAodHlwZSAhPT0gJ1RYWFgnICYmIHR5cGVbMF0gPT09ICdUJyA/ICdUKicgOiB0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdUKic6IC8vIDQuMi4xLiBUZXh0IGluZm9ybWF0aW9uIGZyYW1lcyAtIGRldGFpbHNcbiAgICAgICAgICAgIGNhc2UgJ0lQTFMnOiAvLyB2Mi4zOiBJbnZvbHZlZCBwZW9wbGUgbGlzdFxuICAgICAgICAgICAgY2FzZSAnTVZJTic6XG4gICAgICAgICAgICBjYXNlICdNVk5NJzpcbiAgICAgICAgICAgIGNhc2UgJ1BDUyc6XG4gICAgICAgICAgICBjYXNlICdQQ1NUJzpcbiAgICAgICAgICAgICAgICBsZXQgdGV4dDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZSgxKSwgZW5jb2RpbmcpLnJlcGxhY2UoL1xceDAwKyQvLCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndhcm5pbmdDb2xsZWN0b3IuYWRkV2FybmluZyhgaWQzdjIuJHt0aGlzLm1ham9yfSB0eXBlPSR7dHlwZX0gaGVhZGVyIGhhcyBpbnZhbGlkIHN0cmluZyB2YWx1ZTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVE1DTCc6IC8vIE11c2ljaWFuIGNyZWRpdHMgbGlzdFxuICAgICAgICAgICAgICAgICAgICBjYXNlICdUSVBMJzogLy8gSW52b2x2ZWQgcGVvcGxlIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnSVBMUyc6IC8vIEludm9sdmVkIHBlb3BsZSBsaXN0XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB0aGlzLnNwbGl0VmFsdWUodHlwZSwgdGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBGcmFtZVBhcnNlci5mdW5jdGlvbkxpc3Qob3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdUUksnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdUUkNLJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVFBPUyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1RDT00nOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdURVhUJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVE9MWSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1RPUEUnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdUUEUxJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVFNSQyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZDN2Mi4zIGRlZmluZXMgdGhhdCBUQ09NLCBURVhULCBUT0xZLCBUT1BFICYgVFBFMSB2YWx1ZXMgYXJlIHNlcGFyYXRlZCBieSAvXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB0aGlzLnNwbGl0VmFsdWUodHlwZSwgdGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVENPJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVENPTic6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB0aGlzLnNwbGl0VmFsdWUodHlwZSwgdGV4dCkubWFwKHYgPT4gcGFyc2VHZW5yZSh2KSkucmVkdWNlKChhY2MsIHZhbCkgPT4gYWNjLmNvbmNhdCh2YWwpLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUENTJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUENTVCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBXaHkgYGRlZmF1bHRgIG5vdCByZXN1bHRzIGAxYCBidXQgYCcnYD9cbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IHRoaXMubWFqb3IgPj0gNCA/IHRoaXMuc3BsaXRWYWx1ZSh0eXBlLCB0ZXh0KSA6IFt0ZXh0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IChBcnJheS5pc0FycmF5KG91dHB1dCkgJiYgb3V0cHV0WzBdID09PSAnJykgPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gdGhpcy5tYWpvciA+PSA0ID8gdGhpcy5zcGxpdFZhbHVlKHR5cGUsIHRleHQpIDogW3RleHRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1RYWFgnOlxuICAgICAgICAgICAgICAgIG91dHB1dCA9IEZyYW1lUGFyc2VyLnJlYWRJZGVudGlmaWVyQW5kRGF0YSh1aW50OEFycmF5LCBvZmZzZXQgKyAxLCBsZW5ndGgsIGVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBvdXRwdXQuaWQsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuc3BsaXRWYWx1ZSh0eXBlLCB1dGlsLmRlY29kZVN0cmluZyhvdXRwdXQuZGF0YSwgZW5jb2RpbmcpLnJlcGxhY2UoL1xceDAwKyQvLCAnJykpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1BJQyc6XG4gICAgICAgICAgICBjYXNlICdBUElDJzpcbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZUNvdmVycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaWMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5tYWpvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYy5mb3JtYXQgPSB1dGlsLmRlY29kZVN0cmluZyh1aW50OEFycmF5LnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgMyksICdsYXRpbjEnKTsgLy8gJ2xhdGluMSc7IC8vIGxhdGluMSA9PSBpc28tODg1OS0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ6ZXJvID0gdXRpbC5maW5kWmVybyh1aW50OEFycmF5LCBvZmZzZXQsIGxlbmd0aCwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljLmZvcm1hdCA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBmemVybyksIGRlZmF1bHRFbmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGZ6ZXJvICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXYXJuaW5nOiB1bmV4cGVjdGVkIG1ham9yIHZlcnNpb25JbmRleDogJyArIHRoaXMubWFqb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBpYy5mb3JtYXQgPSBGcmFtZVBhcnNlci5maXhQaWN0dXJlTWltZVR5cGUocGljLmZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgIHBpYy50eXBlID0gSUQzdjJUb2tlbl8xLkF0dGFjaGVkUGljdHVyZVR5cGVbdWludDhBcnJheVtvZmZzZXRdXTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGZ6ZXJvID0gdXRpbC5maW5kWmVybyh1aW50OEFycmF5LCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgICAgICBwaWMuZGVzY3JpcHRpb24gPSB1dGlsLmRlY29kZVN0cmluZyh1aW50OEFycmF5LnNsaWNlKG9mZnNldCwgZnplcm8pLCBlbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGZ6ZXJvICsgbnVsbFRlcm1pbmF0b3JMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHBpYy5kYXRhID0gQnVmZmVyLmZyb20odWludDhBcnJheS5zbGljZShvZmZzZXQsIGxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBwaWM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQ05UJzpcbiAgICAgICAgICAgIGNhc2UgJ1BDTlQnOlxuICAgICAgICAgICAgICAgIG91dHB1dCA9IFRva2VuLlVJTlQzMl9CRS5nZXQodWludDhBcnJheSwgMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTWUxUJzpcbiAgICAgICAgICAgICAgICAvLyBza2lwIHRleHQgZW5jb2RpbmcgKDEgYnl0ZSksXG4gICAgICAgICAgICAgICAgLy8gICAgICBsYW5ndWFnZSAoMyBieXRlcyksXG4gICAgICAgICAgICAgICAgLy8gICAgICB0aW1lIHN0YW1wIGZvcm1hdCAoMSBieXRlKSxcbiAgICAgICAgICAgICAgICAvLyAgICAgIGNvbnRlbnQgdGFnVHlwZXMgKDEgYnl0ZSksXG4gICAgICAgICAgICAgICAgLy8gICAgICBjb250ZW50IGRlc2NyaXB0b3IgKDEgYnl0ZSlcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gNztcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBbXTtcbiAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR4dCA9IHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgPSB1dGlsLmZpbmRaZXJvKHVpbnQ4QXJyYXksIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gNTsgLy8gcHVzaCBvZmZzZXQgZm9yd2FyZCBvbmUgKyAgNCBieXRlIHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCh1dGlsLmRlY29kZVN0cmluZyh0eHQsIGVuY29kaW5nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVUxUJzpcbiAgICAgICAgICAgIGNhc2UgJ1VTTFQnOlxuICAgICAgICAgICAgY2FzZSAnQ09NJzpcbiAgICAgICAgICAgIGNhc2UgJ0NPTU0nOlxuICAgICAgICAgICAgICAgIG9mZnNldCArPSAxO1xuICAgICAgICAgICAgICAgIG91dC5sYW5ndWFnZSA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyAzKSwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDM7XG4gICAgICAgICAgICAgICAgZnplcm8gPSB1dGlsLmZpbmRaZXJvKHVpbnQ4QXJyYXksIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgb3V0LmRlc2NyaXB0aW9uID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGZ6ZXJvKSwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IGZ6ZXJvICsgbnVsbFRlcm1pbmF0b3JMZW5ndGg7XG4gICAgICAgICAgICAgICAgb3V0LnRleHQgPSB1dGlsLmRlY29kZVN0cmluZyh1aW50OEFycmF5LnNsaWNlKG9mZnNldCwgbGVuZ3RoKSwgZW5jb2RpbmcpLnJlcGxhY2UoL1xceDAwKyQvLCAnJyk7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gW291dF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdVRklEJzpcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBGcmFtZVBhcnNlci5yZWFkSWRlbnRpZmllckFuZERhdGEodWludDhBcnJheSwgb2Zmc2V0LCBsZW5ndGgsIGRlZmF1bHRFbmMpO1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IHsgb3duZXJfaWRlbnRpZmllcjogb3V0cHV0LmlkLCBpZGVudGlmaWVyOiBvdXRwdXQuZGF0YSB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUFJJVic6IC8vIHByaXZhdGUgZnJhbWVcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBGcmFtZVBhcnNlci5yZWFkSWRlbnRpZmllckFuZERhdGEodWludDhBcnJheSwgb2Zmc2V0LCBsZW5ndGgsIGRlZmF1bHRFbmMpO1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IHsgb3duZXJfaWRlbnRpZmllcjogb3V0cHV0LmlkLCBkYXRhOiBvdXRwdXQuZGF0YSB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUE9QTSc6IC8vIFBvcHVsYXJpbWV0ZXJcbiAgICAgICAgICAgICAgICBmemVybyA9IHV0aWwuZmluZFplcm8odWludDhBcnJheSwgb2Zmc2V0LCBsZW5ndGgsIGRlZmF1bHRFbmMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGZ6ZXJvKSwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gZnplcm8gKyAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFMZW4gPSBsZW5ndGggLSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0ge1xuICAgICAgICAgICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBUb2tlbi5VSU5UOC5nZXQodWludDhBcnJheSwgb2Zmc2V0KSxcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcjogZGF0YUxlbiA+PSA1ID8gVG9rZW4uVUlOVDMyX0JFLmdldCh1aW50OEFycmF5LCBvZmZzZXQgKyAxKSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHRU9CJzogeyAvLyBHZW5lcmFsIGVuY2Fwc3VsYXRlZCBvYmplY3RcbiAgICAgICAgICAgICAgICBmemVybyA9IHV0aWwuZmluZFplcm8odWludDhBcnJheSwgb2Zmc2V0ICsgMSwgbGVuZ3RoLCBlbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWltZVR5cGUgPSB1dGlsLmRlY29kZVN0cmluZyh1aW50OEFycmF5LnNsaWNlKG9mZnNldCArIDEsIGZ6ZXJvKSwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gZnplcm8gKyAxO1xuICAgICAgICAgICAgICAgIGZ6ZXJvID0gdXRpbC5maW5kWmVybyh1aW50OEFycmF5LCBvZmZzZXQsIGxlbmd0aCAtIG9mZnNldCwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVuYW1lID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGZ6ZXJvKSwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gZnplcm8gKyAxO1xuICAgICAgICAgICAgICAgIGZ6ZXJvID0gdXRpbC5maW5kWmVybyh1aW50OEFycmF5LCBvZmZzZXQsIGxlbmd0aCAtIG9mZnNldCwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGZ6ZXJvKSwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtaW1lVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB1aW50OEFycmF5LnNsaWNlKG9mZnNldCArIDEsIGxlbmd0aClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVy1GcmFtZXM6XG4gICAgICAgICAgICBjYXNlICdXQ09NJzpcbiAgICAgICAgICAgIGNhc2UgJ1dDT1AnOlxuICAgICAgICAgICAgY2FzZSAnV09BRic6XG4gICAgICAgICAgICBjYXNlICdXT0FSJzpcbiAgICAgICAgICAgIGNhc2UgJ1dPQVMnOlxuICAgICAgICAgICAgY2FzZSAnV09SUyc6XG4gICAgICAgICAgICBjYXNlICdXUEFZJzpcbiAgICAgICAgICAgIGNhc2UgJ1dQVUInOlxuICAgICAgICAgICAgICAgIC8vIERlY29kZSBVUkxcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSB1dGlsLmRlY29kZVN0cmluZyh1aW50OEFycmF5LnNsaWNlKG9mZnNldCwgZnplcm8pLCBkZWZhdWx0RW5jKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1dYWFgnOiB7XG4gICAgICAgICAgICAgICAgLy8gRGVjb2RlIFVSTFxuICAgICAgICAgICAgICAgIGZ6ZXJvID0gdXRpbC5maW5kWmVybyh1aW50OEFycmF5LCBvZmZzZXQgKyAxLCBsZW5ndGgsIGVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0ICsgMSwgZnplcm8pLCBlbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gZnplcm8gKyAoZW5jb2RpbmcgPT09ICd1dGYxNmxlJyA/IDIgOiAxKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSB7IGRlc2NyaXB0aW9uLCB1cmw6IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBsZW5ndGgpLCBkZWZhdWx0RW5jKSB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnV0ZEJzpcbiAgICAgICAgICAgIGNhc2UgJ1dGRUQnOlxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0ICsgMSwgdXRpbC5maW5kWmVybyh1aW50OEFycmF5LCBvZmZzZXQgKyAxLCBsZW5ndGgsIGVuY29kaW5nKSksIGVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ01DREknOiB7XG4gICAgICAgICAgICAgICAgLy8gTXVzaWMgQ0QgaWRlbnRpZmllclxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHVpbnQ4QXJyYXkuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZGVidWcoJ1dhcm5pbmc6IHVuc3VwcG9ydGVkIGlkM3YyLXRhZy10eXBlOiAnICsgdHlwZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgc3RhdGljIGZpeFBpY3R1cmVNaW1lVHlwZShwaWN0dXJlVHlwZSkge1xuICAgICAgICBwaWN0dXJlVHlwZSA9IHBpY3R1cmVUeXBlLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIHN3aXRjaCAocGljdHVyZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2pwZyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdpbWFnZS9qcGVnJztcbiAgICAgICAgICAgIGNhc2UgJ3BuZyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdpbWFnZS9wbmcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwaWN0dXJlVHlwZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgVE1DTCAoTXVzaWNpYW4gY3JlZGl0cyBsaXN0KSBvciBUSVBMIChJbnZvbHZlZCBwZW9wbGUgbGlzdClcbiAgICAgKiBAcGFyYW0gZW50cmllc1xuICAgICAqL1xuICAgIHN0YXRpYyBmdW5jdGlvbkxpc3QoZW50cmllcykge1xuICAgICAgICBjb25zdCByZXMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgKyAxIDwgZW50cmllcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBlbnRyaWVzW2kgKyAxXS5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgcmVzW2VudHJpZXNbaV1dID0gcmVzLmhhc093blByb3BlcnR5KGVudHJpZXNbaV0pID8gcmVzW2VudHJpZXNbaV1dLmNvbmNhdChuYW1lcykgOiBuYW1lcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBpZDN2Mi40IGRlZmluZXMgdGhhdCBtdWx0aXBsZSBUKiB2YWx1ZXMgYXJlIHNlcGFyYXRlZCBieSAweDAwXG4gICAgICogaWQzdjIuMyBkZWZpbmVzIHRoYXQgVENPTSwgVEVYVCwgVE9MWSwgVE9QRSAmIFRQRTEgdmFsdWVzIGFyZSBzZXBhcmF0ZWQgYnkgL1xuICAgICAqIEBwYXJhbSB0YWcgLSBUYWcgbmFtZVxuICAgICAqIEBwYXJhbSB0ZXh0IC0gQ29uY2F0ZW5hdGVkIHRhZyB2YWx1ZVxuICAgICAqIEByZXR1cm5zIFNwbGl0IHRhZyB2YWx1ZVxuICAgICAqL1xuICAgIHNwbGl0VmFsdWUodGFnLCB0ZXh0KSB7XG4gICAgICAgIGxldCB2YWx1ZXM7XG4gICAgICAgIGlmICh0aGlzLm1ham9yIDwgNCkge1xuICAgICAgICAgICAgdmFsdWVzID0gdGV4dC5zcGxpdCgvXFx4MDAvZyk7XG4gICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndhcm5pbmdDb2xsZWN0b3IuYWRkV2FybmluZyhgSUQzdjIuJHt0aGlzLm1ham9yfSAke3RhZ30gdXNlcyBub24gc3RhbmRhcmQgbnVsbC1zZXBhcmF0b3IuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSB0ZXh0LnNwbGl0KC9cXC8vZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSB0ZXh0LnNwbGl0KC9cXHgwMC9nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRnJhbWVQYXJzZXIudHJpbUFycmF5KHZhbHVlcyk7XG4gICAgfVxuICAgIHN0YXRpYyB0cmltQXJyYXkodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXMubWFwKHZhbHVlID0+IHZhbHVlLnJlcGxhY2UoL1xceDAwKyQvLCAnJykudHJpbSgpKTtcbiAgICB9XG4gICAgc3RhdGljIHJlYWRJZGVudGlmaWVyQW5kRGF0YSh1aW50OEFycmF5LCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgICAgICAgY29uc3QgZnplcm8gPSB1dGlsLmZpbmRaZXJvKHVpbnQ4QXJyYXksIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZyk7XG4gICAgICAgIGNvbnN0IGlkID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGZ6ZXJvKSwgZW5jb2RpbmcpO1xuICAgICAgICBvZmZzZXQgPSBmemVybyArIEZyYW1lUGFyc2VyLmdldE51bGxUZXJtaW5hdG9yTGVuZ3RoKGVuY29kaW5nKTtcbiAgICAgICAgcmV0dXJuIHsgaWQsIGRhdGE6IHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBsZW5ndGgpIH07XG4gICAgfVxuICAgIHN0YXRpYyBnZXROdWxsVGVybWluYXRvckxlbmd0aChlbmMpIHtcbiAgICAgICAgcmV0dXJuIGVuYyA9PT0gJ3V0ZjE2bGUnID8gMiA6IDE7XG4gICAgfVxufVxuZXhwb3J0cy5GcmFtZVBhcnNlciA9IEZyYW1lUGFyc2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v2/FrameParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v22TagMapper.js":
/*!******************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v2/ID3v22TagMapper.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ID3v22TagMapper = exports.id3v22TagMap = void 0;\nconst CaseInsensitiveTagMap_1 = __webpack_require__(/*! ../common/CaseInsensitiveTagMap */ \"(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js\");\n/**\n * ID3v2.2 tag mappings\n */\nexports.id3v22TagMap = {\n    TT2: 'title',\n    TP1: 'artist',\n    TP2: 'albumartist',\n    TAL: 'album',\n    TYE: 'year',\n    COM: 'comment',\n    TRK: 'track',\n    TPA: 'disk',\n    TCO: 'genre',\n    PIC: 'picture',\n    TCM: 'composer',\n    TOR: 'originaldate',\n    TOT: 'originalalbum',\n    TXT: 'lyricist',\n    TP3: 'conductor',\n    TPB: 'label',\n    TT1: 'grouping',\n    TT3: 'subtitle',\n    TLA: 'language',\n    TCR: 'copyright',\n    WCP: 'license',\n    TEN: 'encodedby',\n    TSS: 'encodersettings',\n    WAR: 'website',\n    'COM:iTunPGAP': 'gapless'\n    /* ToDo: iTunes tags:\n    'COM:iTunNORM': ,\n    'COM:iTunSMPB': 'encoder delay',\n    'COM:iTunes_CDDB_IDs'\n    */ ,\n    PCS: 'podcast',\n    TCP: \"compilation\",\n    TDR: 'date',\n    TS2: 'albumartistsort',\n    TSA: 'albumsort',\n    TSC: 'composersort',\n    TSP: 'artistsort',\n    TST: 'titlesort',\n    WFD: 'podcasturl',\n    TBP: 'bpm'\n};\nclass ID3v22TagMapper extends CaseInsensitiveTagMap_1.CaseInsensitiveTagMap {\n    constructor() {\n        super(['ID3v2.2'], exports.id3v22TagMap);\n    }\n}\nexports.ID3v22TagMapper = ID3v22TagMapper;\n//# sourceMappingURL=ID3v22TagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0lEM3YyMlRhZ01hcHBlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUIsR0FBRyxvQkFBb0I7QUFDOUMsZ0NBQWdDLG1CQUFPLENBQUMsZ0hBQWlDO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9pZDN2Mi9JRDN2MjJUYWdNYXBwZXIuanM/ZmNkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSUQzdjIyVGFnTWFwcGVyID0gZXhwb3J0cy5pZDN2MjJUYWdNYXAgPSB2b2lkIDA7XG5jb25zdCBDYXNlSW5zZW5zaXRpdmVUYWdNYXBfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vQ2FzZUluc2Vuc2l0aXZlVGFnTWFwXCIpO1xuLyoqXG4gKiBJRDN2Mi4yIHRhZyBtYXBwaW5nc1xuICovXG5leHBvcnRzLmlkM3YyMlRhZ01hcCA9IHtcbiAgICBUVDI6ICd0aXRsZScsXG4gICAgVFAxOiAnYXJ0aXN0JyxcbiAgICBUUDI6ICdhbGJ1bWFydGlzdCcsXG4gICAgVEFMOiAnYWxidW0nLFxuICAgIFRZRTogJ3llYXInLFxuICAgIENPTTogJ2NvbW1lbnQnLFxuICAgIFRSSzogJ3RyYWNrJyxcbiAgICBUUEE6ICdkaXNrJyxcbiAgICBUQ086ICdnZW5yZScsXG4gICAgUElDOiAncGljdHVyZScsXG4gICAgVENNOiAnY29tcG9zZXInLFxuICAgIFRPUjogJ29yaWdpbmFsZGF0ZScsXG4gICAgVE9UOiAnb3JpZ2luYWxhbGJ1bScsXG4gICAgVFhUOiAnbHlyaWNpc3QnLFxuICAgIFRQMzogJ2NvbmR1Y3RvcicsXG4gICAgVFBCOiAnbGFiZWwnLFxuICAgIFRUMTogJ2dyb3VwaW5nJyxcbiAgICBUVDM6ICdzdWJ0aXRsZScsXG4gICAgVExBOiAnbGFuZ3VhZ2UnLFxuICAgIFRDUjogJ2NvcHlyaWdodCcsXG4gICAgV0NQOiAnbGljZW5zZScsXG4gICAgVEVOOiAnZW5jb2RlZGJ5JyxcbiAgICBUU1M6ICdlbmNvZGVyc2V0dGluZ3MnLFxuICAgIFdBUjogJ3dlYnNpdGUnLFxuICAgICdDT006aVR1blBHQVAnOiAnZ2FwbGVzcydcbiAgICAvKiBUb0RvOiBpVHVuZXMgdGFnczpcbiAgICAnQ09NOmlUdW5OT1JNJzogLFxuICAgICdDT006aVR1blNNUEInOiAnZW5jb2RlciBkZWxheScsXG4gICAgJ0NPTTppVHVuZXNfQ0REQl9JRHMnXG4gICAgKi8gLFxuICAgIFBDUzogJ3BvZGNhc3QnLFxuICAgIFRDUDogXCJjb21waWxhdGlvblwiLFxuICAgIFREUjogJ2RhdGUnLFxuICAgIFRTMjogJ2FsYnVtYXJ0aXN0c29ydCcsXG4gICAgVFNBOiAnYWxidW1zb3J0JyxcbiAgICBUU0M6ICdjb21wb3NlcnNvcnQnLFxuICAgIFRTUDogJ2FydGlzdHNvcnQnLFxuICAgIFRTVDogJ3RpdGxlc29ydCcsXG4gICAgV0ZEOiAncG9kY2FzdHVybCcsXG4gICAgVEJQOiAnYnBtJ1xufTtcbmNsYXNzIElEM3YyMlRhZ01hcHBlciBleHRlbmRzIENhc2VJbnNlbnNpdGl2ZVRhZ01hcF8xLkNhc2VJbnNlbnNpdGl2ZVRhZ01hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFsnSUQzdjIuMiddLCBleHBvcnRzLmlkM3YyMlRhZ01hcCk7XG4gICAgfVxufVxuZXhwb3J0cy5JRDN2MjJUYWdNYXBwZXIgPSBJRDN2MjJUYWdNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JRDN2MjJUYWdNYXBwZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v22TagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v24TagMapper.js":
/*!******************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v2/ID3v24TagMapper.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ID3v24TagMapper = void 0;\nconst GenericTagMapper_1 = __webpack_require__(/*! ../common/GenericTagMapper */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\nconst CaseInsensitiveTagMap_1 = __webpack_require__(/*! ../common/CaseInsensitiveTagMap */ \"(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js\");\nconst util = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/**\n * ID3v2.3/ID3v2.4 tag mappings\n */\nconst id3v24TagMap = {\n    // id3v2.3\n    TIT2: 'title',\n    TPE1: 'artist',\n    'TXXX:Artists': 'artists',\n    TPE2: 'albumartist',\n    TALB: 'album',\n    TDRV: 'date',\n    /**\n     * Original release year\n     */\n    TORY: 'originalyear',\n    TPOS: 'disk',\n    TCON: 'genre',\n    APIC: 'picture',\n    TCOM: 'composer',\n    'USLT:description': 'lyrics',\n    TSOA: 'albumsort',\n    TSOT: 'titlesort',\n    TOAL: 'originalalbum',\n    TSOP: 'artistsort',\n    TSO2: 'albumartistsort',\n    TSOC: 'composersort',\n    TEXT: 'lyricist',\n    'TXXX:Writer': 'writer',\n    TPE3: 'conductor',\n    // 'IPLS:instrument': 'performer:instrument', // ToDo\n    TPE4: 'remixer',\n    'IPLS:arranger': 'arranger',\n    'IPLS:engineer': 'engineer',\n    'IPLS:producer': 'producer',\n    'IPLS:DJ-mix': 'djmixer',\n    'IPLS:mix': 'mixer',\n    TPUB: 'label',\n    TIT1: 'grouping',\n    TIT3: 'subtitle',\n    TRCK: 'track',\n    TCMP: 'compilation',\n    POPM: 'rating',\n    TBPM: 'bpm',\n    TMED: 'media',\n    'TXXX:CATALOGNUMBER': 'catalognumber',\n    'TXXX:MusicBrainz Album Status': 'releasestatus',\n    'TXXX:MusicBrainz Album Type': 'releasetype',\n    /**\n     * Release country as documented: https://picard.musicbrainz.org/docs/mappings/#cite_note-0\n     */\n    'TXXX:MusicBrainz Album Release Country': 'releasecountry',\n    /**\n     * Release country as implemented // ToDo: report\n     */\n    'TXXX:RELEASECOUNTRY': 'releasecountry',\n    'TXXX:SCRIPT': 'script',\n    TLAN: 'language',\n    TCOP: 'copyright',\n    WCOP: 'license',\n    TENC: 'encodedby',\n    TSSE: 'encodersettings',\n    'TXXX:BARCODE': 'barcode',\n    'TXXX:ISRC': 'isrc',\n    TSRC: 'isrc',\n    'TXXX:ASIN': 'asin',\n    'TXXX:originalyear': 'originalyear',\n    'UFID:http://musicbrainz.org': 'musicbrainz_recordingid',\n    'TXXX:MusicBrainz Release Track Id': 'musicbrainz_trackid',\n    'TXXX:MusicBrainz Album Id': 'musicbrainz_albumid',\n    'TXXX:MusicBrainz Artist Id': 'musicbrainz_artistid',\n    'TXXX:MusicBrainz Album Artist Id': 'musicbrainz_albumartistid',\n    'TXXX:MusicBrainz Release Group Id': 'musicbrainz_releasegroupid',\n    'TXXX:MusicBrainz Work Id': 'musicbrainz_workid',\n    'TXXX:MusicBrainz TRM Id': 'musicbrainz_trmid',\n    'TXXX:MusicBrainz Disc Id': 'musicbrainz_discid',\n    'TXXX:ACOUSTID_ID': 'acoustid_id',\n    'TXXX:Acoustid Id': 'acoustid_id',\n    'TXXX:Acoustid Fingerprint': 'acoustid_fingerprint',\n    'TXXX:MusicIP PUID': 'musicip_puid',\n    'TXXX:MusicMagic Fingerprint': 'musicip_fingerprint',\n    WOAR: 'website',\n    // id3v2.4\n    // ToDo: In same sequence as defined at http://id3.org/id3v2.4.0-frames\n    TDRC: 'date',\n    TYER: 'year',\n    TDOR: 'originaldate',\n    // 'TMCL:instrument': 'performer:instrument',\n    'TIPL:arranger': 'arranger',\n    'TIPL:engineer': 'engineer',\n    'TIPL:producer': 'producer',\n    'TIPL:DJ-mix': 'djmixer',\n    'TIPL:mix': 'mixer',\n    TMOO: 'mood',\n    // additional mappings:\n    SYLT: 'lyrics',\n    TSST: 'discsubtitle',\n    TKEY: 'key',\n    COMM: 'comment',\n    TOPE: 'originalartist',\n    // Windows Media Player\n    'PRIV:AverageLevel': 'averageLevel',\n    'PRIV:PeakLevel': 'peakLevel',\n    // Discogs\n    'TXXX:DISCOGS_ARTIST_ID': 'discogs_artist_id',\n    'TXXX:DISCOGS_ARTISTS': 'artists',\n    'TXXX:DISCOGS_ARTIST_NAME': 'artists',\n    'TXXX:DISCOGS_ALBUM_ARTISTS': 'albumartist',\n    'TXXX:DISCOGS_CATALOG': 'catalognumber',\n    'TXXX:DISCOGS_COUNTRY': 'releasecountry',\n    'TXXX:DISCOGS_DATE': 'originaldate',\n    'TXXX:DISCOGS_LABEL': 'label',\n    'TXXX:DISCOGS_LABEL_ID': 'discogs_label_id',\n    'TXXX:DISCOGS_MASTER_RELEASE_ID': 'discogs_master_release_id',\n    'TXXX:DISCOGS_RATING': 'discogs_rating',\n    'TXXX:DISCOGS_RELEASED': 'date',\n    'TXXX:DISCOGS_RELEASE_ID': 'discogs_release_id',\n    'TXXX:DISCOGS_VOTES': 'discogs_votes',\n    'TXXX:CATALOGID': 'catalognumber',\n    'TXXX:STYLE': 'genre',\n    'TXXX:REPLAYGAIN_TRACK_PEAK': 'replaygain_track_peak',\n    'TXXX:REPLAYGAIN_TRACK_GAIN': 'replaygain_track_gain',\n    'TXXX:REPLAYGAIN_ALBUM_PEAK': 'replaygain_album_peak',\n    'TXXX:REPLAYGAIN_ALBUM_GAIN': 'replaygain_album_gain',\n    'TXXX:MP3GAIN_MINMAX': 'replaygain_track_minmax',\n    'TXXX:MP3GAIN_ALBUM_MINMAX': 'replaygain_album_minmax',\n    'TXXX:MP3GAIN_UNDO': 'replaygain_undo',\n    MVNM: 'movement',\n    MVIN: 'movementIndex',\n    PCST: 'podcast',\n    TCAT: 'category',\n    TDES: 'description',\n    TDRL: 'date',\n    TGID: 'podcastId',\n    TKWD: 'keywords',\n    WFED: 'podcasturl'\n};\nclass ID3v24TagMapper extends CaseInsensitiveTagMap_1.CaseInsensitiveTagMap {\n    static toRating(popm) {\n        return {\n            source: popm.email,\n            rating: popm.rating > 0 ? (popm.rating - 1) / 254 * GenericTagMapper_1.CommonTagMapper.maxRatingScore : undefined\n        };\n    }\n    constructor() {\n        super(['ID3v2.3', 'ID3v2.4'], id3v24TagMap);\n    }\n    /**\n     * Handle post mapping exceptions / correction\n     * @param tag to post map\n     * @param warnings Wil be used to register (collect) warnings\n     * @return Common value e.g. \"Buena Vista Social Club\"\n     */\n    postMap(tag, warnings) {\n        switch (tag.id) {\n            case 'UFID': // decode MusicBrainz Recording Id\n                if (tag.value.owner_identifier === 'http://musicbrainz.org') {\n                    tag.id += ':' + tag.value.owner_identifier;\n                    tag.value = util.decodeString(tag.value.identifier, 'latin1'); // latin1 == iso-8859-1\n                }\n                break;\n            case 'PRIV':\n                switch (tag.value.owner_identifier) {\n                    // decode Windows Media Player\n                    case 'AverageLevel':\n                    case 'PeakValue':\n                        tag.id += ':' + tag.value.owner_identifier;\n                        tag.value = tag.value.data.length === 4 ? tag.value.data.readUInt32LE(0) : null;\n                        if (tag.value === null) {\n                            warnings.addWarning(`Failed to parse PRIV:PeakValue`);\n                        }\n                        break;\n                    default:\n                        warnings.addWarning(`Unknown PRIV owner-identifier: ${tag.value.owner_identifier}`);\n                }\n                break;\n            case 'COMM':\n                tag.value = tag.value ? tag.value.text : null;\n                break;\n            case 'POPM':\n                tag.value = ID3v24TagMapper.toRating(tag.value);\n                break;\n            default:\n                break;\n        }\n    }\n}\nexports.ID3v24TagMapper = ID3v24TagMapper;\n//# sourceMappingURL=ID3v24TagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0lEM3YyNFRhZ01hcHBlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkIsMkJBQTJCLG1CQUFPLENBQUMsc0dBQTRCO0FBQy9ELGdDQUFnQyxtQkFBTyxDQUFDLGdIQUFpQztBQUN6RSxhQUFhLG1CQUFPLENBQUMsOEVBQWdCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsMkJBQTJCO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0lEM3YyNFRhZ01hcHBlci5qcz9iOTA0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JRDN2MjRUYWdNYXBwZXIgPSB2b2lkIDA7XG5jb25zdCBHZW5lcmljVGFnTWFwcGVyXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL0dlbmVyaWNUYWdNYXBwZXJcIik7XG5jb25zdCBDYXNlSW5zZW5zaXRpdmVUYWdNYXBfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vQ2FzZUluc2Vuc2l0aXZlVGFnTWFwXCIpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCIuLi9jb21tb24vVXRpbFwiKTtcbi8qKlxuICogSUQzdjIuMy9JRDN2Mi40IHRhZyBtYXBwaW5nc1xuICovXG5jb25zdCBpZDN2MjRUYWdNYXAgPSB7XG4gICAgLy8gaWQzdjIuM1xuICAgIFRJVDI6ICd0aXRsZScsXG4gICAgVFBFMTogJ2FydGlzdCcsXG4gICAgJ1RYWFg6QXJ0aXN0cyc6ICdhcnRpc3RzJyxcbiAgICBUUEUyOiAnYWxidW1hcnRpc3QnLFxuICAgIFRBTEI6ICdhbGJ1bScsXG4gICAgVERSVjogJ2RhdGUnLFxuICAgIC8qKlxuICAgICAqIE9yaWdpbmFsIHJlbGVhc2UgeWVhclxuICAgICAqL1xuICAgIFRPUlk6ICdvcmlnaW5hbHllYXInLFxuICAgIFRQT1M6ICdkaXNrJyxcbiAgICBUQ09OOiAnZ2VucmUnLFxuICAgIEFQSUM6ICdwaWN0dXJlJyxcbiAgICBUQ09NOiAnY29tcG9zZXInLFxuICAgICdVU0xUOmRlc2NyaXB0aW9uJzogJ2x5cmljcycsXG4gICAgVFNPQTogJ2FsYnVtc29ydCcsXG4gICAgVFNPVDogJ3RpdGxlc29ydCcsXG4gICAgVE9BTDogJ29yaWdpbmFsYWxidW0nLFxuICAgIFRTT1A6ICdhcnRpc3Rzb3J0JyxcbiAgICBUU08yOiAnYWxidW1hcnRpc3Rzb3J0JyxcbiAgICBUU09DOiAnY29tcG9zZXJzb3J0JyxcbiAgICBURVhUOiAnbHlyaWNpc3QnLFxuICAgICdUWFhYOldyaXRlcic6ICd3cml0ZXInLFxuICAgIFRQRTM6ICdjb25kdWN0b3InLFxuICAgIC8vICdJUExTOmluc3RydW1lbnQnOiAncGVyZm9ybWVyOmluc3RydW1lbnQnLCAvLyBUb0RvXG4gICAgVFBFNDogJ3JlbWl4ZXInLFxuICAgICdJUExTOmFycmFuZ2VyJzogJ2FycmFuZ2VyJyxcbiAgICAnSVBMUzplbmdpbmVlcic6ICdlbmdpbmVlcicsXG4gICAgJ0lQTFM6cHJvZHVjZXInOiAncHJvZHVjZXInLFxuICAgICdJUExTOkRKLW1peCc6ICdkam1peGVyJyxcbiAgICAnSVBMUzptaXgnOiAnbWl4ZXInLFxuICAgIFRQVUI6ICdsYWJlbCcsXG4gICAgVElUMTogJ2dyb3VwaW5nJyxcbiAgICBUSVQzOiAnc3VidGl0bGUnLFxuICAgIFRSQ0s6ICd0cmFjaycsXG4gICAgVENNUDogJ2NvbXBpbGF0aW9uJyxcbiAgICBQT1BNOiAncmF0aW5nJyxcbiAgICBUQlBNOiAnYnBtJyxcbiAgICBUTUVEOiAnbWVkaWEnLFxuICAgICdUWFhYOkNBVEFMT0dOVU1CRVInOiAnY2F0YWxvZ251bWJlcicsXG4gICAgJ1RYWFg6TXVzaWNCcmFpbnogQWxidW0gU3RhdHVzJzogJ3JlbGVhc2VzdGF0dXMnLFxuICAgICdUWFhYOk11c2ljQnJhaW56IEFsYnVtIFR5cGUnOiAncmVsZWFzZXR5cGUnLFxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgY291bnRyeSBhcyBkb2N1bWVudGVkOiBodHRwczovL3BpY2FyZC5tdXNpY2JyYWluei5vcmcvZG9jcy9tYXBwaW5ncy8jY2l0ZV9ub3RlLTBcbiAgICAgKi9cbiAgICAnVFhYWDpNdXNpY0JyYWlueiBBbGJ1bSBSZWxlYXNlIENvdW50cnknOiAncmVsZWFzZWNvdW50cnknLFxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgY291bnRyeSBhcyBpbXBsZW1lbnRlZCAvLyBUb0RvOiByZXBvcnRcbiAgICAgKi9cbiAgICAnVFhYWDpSRUxFQVNFQ09VTlRSWSc6ICdyZWxlYXNlY291bnRyeScsXG4gICAgJ1RYWFg6U0NSSVBUJzogJ3NjcmlwdCcsXG4gICAgVExBTjogJ2xhbmd1YWdlJyxcbiAgICBUQ09QOiAnY29weXJpZ2h0JyxcbiAgICBXQ09QOiAnbGljZW5zZScsXG4gICAgVEVOQzogJ2VuY29kZWRieScsXG4gICAgVFNTRTogJ2VuY29kZXJzZXR0aW5ncycsXG4gICAgJ1RYWFg6QkFSQ09ERSc6ICdiYXJjb2RlJyxcbiAgICAnVFhYWDpJU1JDJzogJ2lzcmMnLFxuICAgIFRTUkM6ICdpc3JjJyxcbiAgICAnVFhYWDpBU0lOJzogJ2FzaW4nLFxuICAgICdUWFhYOm9yaWdpbmFseWVhcic6ICdvcmlnaW5hbHllYXInLFxuICAgICdVRklEOmh0dHA6Ly9tdXNpY2JyYWluei5vcmcnOiAnbXVzaWNicmFpbnpfcmVjb3JkaW5naWQnLFxuICAgICdUWFhYOk11c2ljQnJhaW56IFJlbGVhc2UgVHJhY2sgSWQnOiAnbXVzaWNicmFpbnpfdHJhY2tpZCcsXG4gICAgJ1RYWFg6TXVzaWNCcmFpbnogQWxidW0gSWQnOiAnbXVzaWNicmFpbnpfYWxidW1pZCcsXG4gICAgJ1RYWFg6TXVzaWNCcmFpbnogQXJ0aXN0IElkJzogJ211c2ljYnJhaW56X2FydGlzdGlkJyxcbiAgICAnVFhYWDpNdXNpY0JyYWlueiBBbGJ1bSBBcnRpc3QgSWQnOiAnbXVzaWNicmFpbnpfYWxidW1hcnRpc3RpZCcsXG4gICAgJ1RYWFg6TXVzaWNCcmFpbnogUmVsZWFzZSBHcm91cCBJZCc6ICdtdXNpY2JyYWluel9yZWxlYXNlZ3JvdXBpZCcsXG4gICAgJ1RYWFg6TXVzaWNCcmFpbnogV29yayBJZCc6ICdtdXNpY2JyYWluel93b3JraWQnLFxuICAgICdUWFhYOk11c2ljQnJhaW56IFRSTSBJZCc6ICdtdXNpY2JyYWluel90cm1pZCcsXG4gICAgJ1RYWFg6TXVzaWNCcmFpbnogRGlzYyBJZCc6ICdtdXNpY2JyYWluel9kaXNjaWQnLFxuICAgICdUWFhYOkFDT1VTVElEX0lEJzogJ2Fjb3VzdGlkX2lkJyxcbiAgICAnVFhYWDpBY291c3RpZCBJZCc6ICdhY291c3RpZF9pZCcsXG4gICAgJ1RYWFg6QWNvdXN0aWQgRmluZ2VycHJpbnQnOiAnYWNvdXN0aWRfZmluZ2VycHJpbnQnLFxuICAgICdUWFhYOk11c2ljSVAgUFVJRCc6ICdtdXNpY2lwX3B1aWQnLFxuICAgICdUWFhYOk11c2ljTWFnaWMgRmluZ2VycHJpbnQnOiAnbXVzaWNpcF9maW5nZXJwcmludCcsXG4gICAgV09BUjogJ3dlYnNpdGUnLFxuICAgIC8vIGlkM3YyLjRcbiAgICAvLyBUb0RvOiBJbiBzYW1lIHNlcXVlbmNlIGFzIGRlZmluZWQgYXQgaHR0cDovL2lkMy5vcmcvaWQzdjIuNC4wLWZyYW1lc1xuICAgIFREUkM6ICdkYXRlJyxcbiAgICBUWUVSOiAneWVhcicsXG4gICAgVERPUjogJ29yaWdpbmFsZGF0ZScsXG4gICAgLy8gJ1RNQ0w6aW5zdHJ1bWVudCc6ICdwZXJmb3JtZXI6aW5zdHJ1bWVudCcsXG4gICAgJ1RJUEw6YXJyYW5nZXInOiAnYXJyYW5nZXInLFxuICAgICdUSVBMOmVuZ2luZWVyJzogJ2VuZ2luZWVyJyxcbiAgICAnVElQTDpwcm9kdWNlcic6ICdwcm9kdWNlcicsXG4gICAgJ1RJUEw6REotbWl4JzogJ2RqbWl4ZXInLFxuICAgICdUSVBMOm1peCc6ICdtaXhlcicsXG4gICAgVE1PTzogJ21vb2QnLFxuICAgIC8vIGFkZGl0aW9uYWwgbWFwcGluZ3M6XG4gICAgU1lMVDogJ2x5cmljcycsXG4gICAgVFNTVDogJ2Rpc2NzdWJ0aXRsZScsXG4gICAgVEtFWTogJ2tleScsXG4gICAgQ09NTTogJ2NvbW1lbnQnLFxuICAgIFRPUEU6ICdvcmlnaW5hbGFydGlzdCcsXG4gICAgLy8gV2luZG93cyBNZWRpYSBQbGF5ZXJcbiAgICAnUFJJVjpBdmVyYWdlTGV2ZWwnOiAnYXZlcmFnZUxldmVsJyxcbiAgICAnUFJJVjpQZWFrTGV2ZWwnOiAncGVha0xldmVsJyxcbiAgICAvLyBEaXNjb2dzXG4gICAgJ1RYWFg6RElTQ09HU19BUlRJU1RfSUQnOiAnZGlzY29nc19hcnRpc3RfaWQnLFxuICAgICdUWFhYOkRJU0NPR1NfQVJUSVNUUyc6ICdhcnRpc3RzJyxcbiAgICAnVFhYWDpESVNDT0dTX0FSVElTVF9OQU1FJzogJ2FydGlzdHMnLFxuICAgICdUWFhYOkRJU0NPR1NfQUxCVU1fQVJUSVNUUyc6ICdhbGJ1bWFydGlzdCcsXG4gICAgJ1RYWFg6RElTQ09HU19DQVRBTE9HJzogJ2NhdGFsb2dudW1iZXInLFxuICAgICdUWFhYOkRJU0NPR1NfQ09VTlRSWSc6ICdyZWxlYXNlY291bnRyeScsXG4gICAgJ1RYWFg6RElTQ09HU19EQVRFJzogJ29yaWdpbmFsZGF0ZScsXG4gICAgJ1RYWFg6RElTQ09HU19MQUJFTCc6ICdsYWJlbCcsXG4gICAgJ1RYWFg6RElTQ09HU19MQUJFTF9JRCc6ICdkaXNjb2dzX2xhYmVsX2lkJyxcbiAgICAnVFhYWDpESVNDT0dTX01BU1RFUl9SRUxFQVNFX0lEJzogJ2Rpc2NvZ3NfbWFzdGVyX3JlbGVhc2VfaWQnLFxuICAgICdUWFhYOkRJU0NPR1NfUkFUSU5HJzogJ2Rpc2NvZ3NfcmF0aW5nJyxcbiAgICAnVFhYWDpESVNDT0dTX1JFTEVBU0VEJzogJ2RhdGUnLFxuICAgICdUWFhYOkRJU0NPR1NfUkVMRUFTRV9JRCc6ICdkaXNjb2dzX3JlbGVhc2VfaWQnLFxuICAgICdUWFhYOkRJU0NPR1NfVk9URVMnOiAnZGlzY29nc192b3RlcycsXG4gICAgJ1RYWFg6Q0FUQUxPR0lEJzogJ2NhdGFsb2dudW1iZXInLFxuICAgICdUWFhYOlNUWUxFJzogJ2dlbnJlJyxcbiAgICAnVFhYWDpSRVBMQVlHQUlOX1RSQUNLX1BFQUsnOiAncmVwbGF5Z2Fpbl90cmFja19wZWFrJyxcbiAgICAnVFhYWDpSRVBMQVlHQUlOX1RSQUNLX0dBSU4nOiAncmVwbGF5Z2Fpbl90cmFja19nYWluJyxcbiAgICAnVFhYWDpSRVBMQVlHQUlOX0FMQlVNX1BFQUsnOiAncmVwbGF5Z2Fpbl9hbGJ1bV9wZWFrJyxcbiAgICAnVFhYWDpSRVBMQVlHQUlOX0FMQlVNX0dBSU4nOiAncmVwbGF5Z2Fpbl9hbGJ1bV9nYWluJyxcbiAgICAnVFhYWDpNUDNHQUlOX01JTk1BWCc6ICdyZXBsYXlnYWluX3RyYWNrX21pbm1heCcsXG4gICAgJ1RYWFg6TVAzR0FJTl9BTEJVTV9NSU5NQVgnOiAncmVwbGF5Z2Fpbl9hbGJ1bV9taW5tYXgnLFxuICAgICdUWFhYOk1QM0dBSU5fVU5ETyc6ICdyZXBsYXlnYWluX3VuZG8nLFxuICAgIE1WTk06ICdtb3ZlbWVudCcsXG4gICAgTVZJTjogJ21vdmVtZW50SW5kZXgnLFxuICAgIFBDU1Q6ICdwb2RjYXN0JyxcbiAgICBUQ0FUOiAnY2F0ZWdvcnknLFxuICAgIFRERVM6ICdkZXNjcmlwdGlvbicsXG4gICAgVERSTDogJ2RhdGUnLFxuICAgIFRHSUQ6ICdwb2RjYXN0SWQnLFxuICAgIFRLV0Q6ICdrZXl3b3JkcycsXG4gICAgV0ZFRDogJ3BvZGNhc3R1cmwnXG59O1xuY2xhc3MgSUQzdjI0VGFnTWFwcGVyIGV4dGVuZHMgQ2FzZUluc2Vuc2l0aXZlVGFnTWFwXzEuQ2FzZUluc2Vuc2l0aXZlVGFnTWFwIHtcbiAgICBzdGF0aWMgdG9SYXRpbmcocG9wbSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc291cmNlOiBwb3BtLmVtYWlsLFxuICAgICAgICAgICAgcmF0aW5nOiBwb3BtLnJhdGluZyA+IDAgPyAocG9wbS5yYXRpbmcgLSAxKSAvIDI1NCAqIEdlbmVyaWNUYWdNYXBwZXJfMS5Db21tb25UYWdNYXBwZXIubWF4UmF0aW5nU2NvcmUgOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFsnSUQzdjIuMycsICdJRDN2Mi40J10sIGlkM3YyNFRhZ01hcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBwb3N0IG1hcHBpbmcgZXhjZXB0aW9ucyAvIGNvcnJlY3Rpb25cbiAgICAgKiBAcGFyYW0gdGFnIHRvIHBvc3QgbWFwXG4gICAgICogQHBhcmFtIHdhcm5pbmdzIFdpbCBiZSB1c2VkIHRvIHJlZ2lzdGVyIChjb2xsZWN0KSB3YXJuaW5nc1xuICAgICAqIEByZXR1cm4gQ29tbW9uIHZhbHVlIGUuZy4gXCJCdWVuYSBWaXN0YSBTb2NpYWwgQ2x1YlwiXG4gICAgICovXG4gICAgcG9zdE1hcCh0YWcsIHdhcm5pbmdzKSB7XG4gICAgICAgIHN3aXRjaCAodGFnLmlkKSB7XG4gICAgICAgICAgICBjYXNlICdVRklEJzogLy8gZGVjb2RlIE11c2ljQnJhaW56IFJlY29yZGluZyBJZFxuICAgICAgICAgICAgICAgIGlmICh0YWcudmFsdWUub3duZXJfaWRlbnRpZmllciA9PT0gJ2h0dHA6Ly9tdXNpY2JyYWluei5vcmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhZy5pZCArPSAnOicgKyB0YWcudmFsdWUub3duZXJfaWRlbnRpZmllcjtcbiAgICAgICAgICAgICAgICAgICAgdGFnLnZhbHVlID0gdXRpbC5kZWNvZGVTdHJpbmcodGFnLnZhbHVlLmlkZW50aWZpZXIsICdsYXRpbjEnKTsgLy8gbGF0aW4xID09IGlzby04ODU5LTFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdQUklWJzpcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZy52YWx1ZS5vd25lcl9pZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlY29kZSBXaW5kb3dzIE1lZGlhIFBsYXllclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdBdmVyYWdlTGV2ZWwnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdQZWFrVmFsdWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGFnLmlkICs9ICc6JyArIHRhZy52YWx1ZS5vd25lcl9pZGVudGlmaWVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnLnZhbHVlID0gdGFnLnZhbHVlLmRhdGEubGVuZ3RoID09PSA0ID8gdGFnLnZhbHVlLmRhdGEucmVhZFVJbnQzMkxFKDApIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWcudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5ncy5hZGRXYXJuaW5nKGBGYWlsZWQgdG8gcGFyc2UgUFJJVjpQZWFrVmFsdWVgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybmluZ3MuYWRkV2FybmluZyhgVW5rbm93biBQUklWIG93bmVyLWlkZW50aWZpZXI6ICR7dGFnLnZhbHVlLm93bmVyX2lkZW50aWZpZXJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQ09NTSc6XG4gICAgICAgICAgICAgICAgdGFnLnZhbHVlID0gdGFnLnZhbHVlID8gdGFnLnZhbHVlLnRleHQgOiBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUE9QTSc6XG4gICAgICAgICAgICAgICAgdGFnLnZhbHVlID0gSUQzdjI0VGFnTWFwcGVyLnRvUmF0aW5nKHRhZy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5JRDN2MjRUYWdNYXBwZXIgPSBJRDN2MjRUYWdNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JRDN2MjRUYWdNYXBwZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v24TagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ID3v2Parser = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst util = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst FrameParser_1 = __webpack_require__(/*! ./FrameParser */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/FrameParser.js\");\nconst ID3v2Token_1 = __webpack_require__(/*! ./ID3v2Token */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\nclass ID3v2Parser {\n    static removeUnsyncBytes(buffer) {\n        let readI = 0;\n        let writeI = 0;\n        while (readI < buffer.length - 1) {\n            if (readI !== writeI) {\n                buffer[writeI] = buffer[readI];\n            }\n            readI += (buffer[readI] === 0xFF && buffer[readI + 1] === 0) ? 2 : 1;\n            writeI++;\n        }\n        if (readI < buffer.length) {\n            buffer[writeI++] = buffer[readI];\n        }\n        return buffer.slice(0, writeI);\n    }\n    static getFrameHeaderLength(majorVer) {\n        switch (majorVer) {\n            case 2:\n                return 6;\n            case 3:\n            case 4:\n                return 10;\n            default:\n                throw new Error('header versionIndex is incorrect');\n        }\n    }\n    static readFrameFlags(b) {\n        return {\n            status: {\n                tag_alter_preservation: util.getBit(b, 0, 6),\n                file_alter_preservation: util.getBit(b, 0, 5),\n                read_only: util.getBit(b, 0, 4)\n            },\n            format: {\n                grouping_identity: util.getBit(b, 1, 7),\n                compression: util.getBit(b, 1, 3),\n                encryption: util.getBit(b, 1, 2),\n                unsynchronisation: util.getBit(b, 1, 1),\n                data_length_indicator: util.getBit(b, 1, 0)\n            }\n        };\n    }\n    static readFrameData(uint8Array, frameHeader, majorVer, includeCovers, warningCollector) {\n        const frameParser = new FrameParser_1.FrameParser(majorVer, warningCollector);\n        switch (majorVer) {\n            case 2:\n                return frameParser.readData(uint8Array, frameHeader.id, includeCovers);\n            case 3:\n            case 4:\n                if (frameHeader.flags.format.unsynchronisation) {\n                    uint8Array = ID3v2Parser.removeUnsyncBytes(uint8Array);\n                }\n                if (frameHeader.flags.format.data_length_indicator) {\n                    uint8Array = uint8Array.slice(4, uint8Array.length);\n                }\n                return frameParser.readData(uint8Array, frameHeader.id, includeCovers);\n            default:\n                throw new Error('Unexpected majorVer: ' + majorVer);\n        }\n    }\n    /**\n     * Create a combined tag key, of tag & description\n     * @param tag e.g.: COM\n     * @param description e.g. iTunPGAP\n     * @returns string e.g. COM:iTunPGAP\n     */\n    static makeDescriptionTagName(tag, description) {\n        return tag + (description ? ':' + description : '');\n    }\n    async parse(metadata, tokenizer, options) {\n        this.tokenizer = tokenizer;\n        this.metadata = metadata;\n        this.options = options;\n        const id3Header = await this.tokenizer.readToken(ID3v2Token_1.ID3v2Header);\n        if (id3Header.fileIdentifier !== 'ID3') {\n            throw new Error('expected ID3-header file-identifier \\'ID3\\' was not found');\n        }\n        this.id3Header = id3Header;\n        this.headerType = ('ID3v2.' + id3Header.version.major);\n        return id3Header.flags.isExtendedHeader ? this.parseExtendedHeader() : this.parseId3Data(id3Header.size);\n    }\n    async parseExtendedHeader() {\n        const extendedHeader = await this.tokenizer.readToken(ID3v2Token_1.ExtendedHeader);\n        const dataRemaining = extendedHeader.size - ID3v2Token_1.ExtendedHeader.len;\n        return dataRemaining > 0 ? this.parseExtendedHeaderData(dataRemaining, extendedHeader.size) : this.parseId3Data(this.id3Header.size - extendedHeader.size);\n    }\n    async parseExtendedHeaderData(dataRemaining, extendedHeaderSize) {\n        await this.tokenizer.ignore(dataRemaining);\n        return this.parseId3Data(this.id3Header.size - extendedHeaderSize);\n    }\n    async parseId3Data(dataLen) {\n        const uint8Array = await this.tokenizer.readToken(new Token.Uint8ArrayType(dataLen));\n        for (const tag of this.parseMetadata(uint8Array)) {\n            if (tag.id === 'TXXX') {\n                if (tag.value) {\n                    for (const text of tag.value.text) {\n                        this.addTag(ID3v2Parser.makeDescriptionTagName(tag.id, tag.value.description), text);\n                    }\n                }\n            }\n            else if (tag.id === 'COM') {\n                for (const value of tag.value) {\n                    this.addTag(ID3v2Parser.makeDescriptionTagName(tag.id, value.description), value.text);\n                }\n            }\n            else if (tag.id === 'COMM') {\n                for (const value of tag.value) {\n                    this.addTag(ID3v2Parser.makeDescriptionTagName(tag.id, value.description), value);\n                }\n            }\n            else if (Array.isArray(tag.value)) {\n                for (const value of tag.value) {\n                    this.addTag(tag.id, value);\n                }\n            }\n            else {\n                this.addTag(tag.id, tag.value);\n            }\n        }\n    }\n    addTag(id, value) {\n        this.metadata.addTag(this.headerType, id, value);\n    }\n    parseMetadata(data) {\n        let offset = 0;\n        const tags = [];\n        while (true) {\n            if (offset === data.length)\n                break;\n            const frameHeaderLength = ID3v2Parser.getFrameHeaderLength(this.id3Header.version.major);\n            if (offset + frameHeaderLength > data.length) {\n                this.metadata.addWarning('Illegal ID3v2 tag length');\n                break;\n            }\n            const frameHeaderBytes = data.slice(offset, offset += frameHeaderLength);\n            const frameHeader = this.readFrameHeader(frameHeaderBytes, this.id3Header.version.major);\n            const frameDataBytes = data.slice(offset, offset += frameHeader.length);\n            const values = ID3v2Parser.readFrameData(frameDataBytes, frameHeader, this.id3Header.version.major, !this.options.skipCovers, this.metadata);\n            if (values) {\n                tags.push({ id: frameHeader.id, value: values });\n            }\n        }\n        return tags;\n    }\n    readFrameHeader(uint8Array, majorVer) {\n        let header;\n        switch (majorVer) {\n            case 2:\n                header = {\n                    id: Buffer.from(uint8Array.slice(0, 3)).toString('ascii'),\n                    length: Token.UINT24_BE.get(uint8Array, 3)\n                };\n                if (!header.id.match(/[A-Z0-9]{3}/g)) {\n                    this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${header.id}`);\n                }\n                break;\n            case 3:\n            case 4:\n                header = {\n                    id: Buffer.from(uint8Array.slice(0, 4)).toString('ascii'),\n                    length: (majorVer === 4 ? ID3v2Token_1.UINT32SYNCSAFE : Token.UINT32_BE).get(uint8Array, 4),\n                    flags: ID3v2Parser.readFrameFlags(uint8Array.slice(8, 10))\n                };\n                if (!header.id.match(/[A-Z0-9]{4}/g)) {\n                    this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${header.id}`);\n                }\n                break;\n            default:\n                throw new Error('Unexpected majorVer: ' + majorVer);\n        }\n        return header;\n    }\n}\nexports.ID3v2Parser = ID3v2Parser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0lEM3YyUGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixjQUFjLG1CQUFPLENBQUMsa0VBQWE7QUFDbkMsYUFBYSxtQkFBTyxDQUFDLDhFQUFnQjtBQUNyQyxzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBZTtBQUM3QyxxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbUNBQW1DO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxFQUFFO0FBQ2pELDhEQUE4RCw4QkFBOEIsbUJBQW1CLFVBQVU7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLEVBQUU7QUFDakQsOERBQThELDhCQUE4QixtQkFBbUIsVUFBVTtBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0lEM3YyUGFyc2VyLmpzPzM3MzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklEM3YyUGFyc2VyID0gdm9pZCAwO1xuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcIi4uL2NvbW1vbi9VdGlsXCIpO1xuY29uc3QgRnJhbWVQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL0ZyYW1lUGFyc2VyXCIpO1xuY29uc3QgSUQzdjJUb2tlbl8xID0gcmVxdWlyZShcIi4vSUQzdjJUb2tlblwiKTtcbmNsYXNzIElEM3YyUGFyc2VyIHtcbiAgICBzdGF0aWMgcmVtb3ZlVW5zeW5jQnl0ZXMoYnVmZmVyKSB7XG4gICAgICAgIGxldCByZWFkSSA9IDA7XG4gICAgICAgIGxldCB3cml0ZUkgPSAwO1xuICAgICAgICB3aGlsZSAocmVhZEkgPCBidWZmZXIubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgaWYgKHJlYWRJICE9PSB3cml0ZUkpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJbd3JpdGVJXSA9IGJ1ZmZlcltyZWFkSV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkSSArPSAoYnVmZmVyW3JlYWRJXSA9PT0gMHhGRiAmJiBidWZmZXJbcmVhZEkgKyAxXSA9PT0gMCkgPyAyIDogMTtcbiAgICAgICAgICAgIHdyaXRlSSsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWFkSSA8IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGJ1ZmZlclt3cml0ZUkrK10gPSBidWZmZXJbcmVhZEldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoMCwgd3JpdGVJKTtcbiAgICB9XG4gICAgc3RhdGljIGdldEZyYW1lSGVhZGVyTGVuZ3RoKG1ham9yVmVyKSB7XG4gICAgICAgIHN3aXRjaCAobWFqb3JWZXIpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gNjtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gMTA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaGVhZGVyIHZlcnNpb25JbmRleCBpcyBpbmNvcnJlY3QnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgcmVhZEZyYW1lRmxhZ3MoYikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgdGFnX2FsdGVyX3ByZXNlcnZhdGlvbjogdXRpbC5nZXRCaXQoYiwgMCwgNiksXG4gICAgICAgICAgICAgICAgZmlsZV9hbHRlcl9wcmVzZXJ2YXRpb246IHV0aWwuZ2V0Qml0KGIsIDAsIDUpLFxuICAgICAgICAgICAgICAgIHJlYWRfb25seTogdXRpbC5nZXRCaXQoYiwgMCwgNClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JtYXQ6IHtcbiAgICAgICAgICAgICAgICBncm91cGluZ19pZGVudGl0eTogdXRpbC5nZXRCaXQoYiwgMSwgNyksXG4gICAgICAgICAgICAgICAgY29tcHJlc3Npb246IHV0aWwuZ2V0Qml0KGIsIDEsIDMpLFxuICAgICAgICAgICAgICAgIGVuY3J5cHRpb246IHV0aWwuZ2V0Qml0KGIsIDEsIDIpLFxuICAgICAgICAgICAgICAgIHVuc3luY2hyb25pc2F0aW9uOiB1dGlsLmdldEJpdChiLCAxLCAxKSxcbiAgICAgICAgICAgICAgICBkYXRhX2xlbmd0aF9pbmRpY2F0b3I6IHV0aWwuZ2V0Qml0KGIsIDEsIDApXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyByZWFkRnJhbWVEYXRhKHVpbnQ4QXJyYXksIGZyYW1lSGVhZGVyLCBtYWpvclZlciwgaW5jbHVkZUNvdmVycywgd2FybmluZ0NvbGxlY3Rvcikge1xuICAgICAgICBjb25zdCBmcmFtZVBhcnNlciA9IG5ldyBGcmFtZVBhcnNlcl8xLkZyYW1lUGFyc2VyKG1ham9yVmVyLCB3YXJuaW5nQ29sbGVjdG9yKTtcbiAgICAgICAgc3dpdGNoIChtYWpvclZlcikge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBmcmFtZVBhcnNlci5yZWFkRGF0YSh1aW50OEFycmF5LCBmcmFtZUhlYWRlci5pZCwgaW5jbHVkZUNvdmVycyk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lSGVhZGVyLmZsYWdzLmZvcm1hdC51bnN5bmNocm9uaXNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB1aW50OEFycmF5ID0gSUQzdjJQYXJzZXIucmVtb3ZlVW5zeW5jQnl0ZXModWludDhBcnJheSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmcmFtZUhlYWRlci5mbGFncy5mb3JtYXQuZGF0YV9sZW5ndGhfaW5kaWNhdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHVpbnQ4QXJyYXkgPSB1aW50OEFycmF5LnNsaWNlKDQsIHVpbnQ4QXJyYXkubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyYW1lUGFyc2VyLnJlYWREYXRhKHVpbnQ4QXJyYXksIGZyYW1lSGVhZGVyLmlkLCBpbmNsdWRlQ292ZXJzKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIG1ham9yVmVyOiAnICsgbWFqb3JWZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGNvbWJpbmVkIHRhZyBrZXksIG9mIHRhZyAmIGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIHRhZyBlLmcuOiBDT01cbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb24gZS5nLiBpVHVuUEdBUFxuICAgICAqIEByZXR1cm5zIHN0cmluZyBlLmcuIENPTTppVHVuUEdBUFxuICAgICAqL1xuICAgIHN0YXRpYyBtYWtlRGVzY3JpcHRpb25UYWdOYW1lKHRhZywgZGVzY3JpcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRhZyArIChkZXNjcmlwdGlvbiA/ICc6JyArIGRlc2NyaXB0aW9uIDogJycpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZShtZXRhZGF0YSwgdG9rZW5pemVyLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMudG9rZW5pemVyID0gdG9rZW5pemVyO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGlkM0hlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihJRDN2MlRva2VuXzEuSUQzdjJIZWFkZXIpO1xuICAgICAgICBpZiAoaWQzSGVhZGVyLmZpbGVJZGVudGlmaWVyICE9PSAnSUQzJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBJRDMtaGVhZGVyIGZpbGUtaWRlbnRpZmllciBcXCdJRDNcXCcgd2FzIG5vdCBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaWQzSGVhZGVyID0gaWQzSGVhZGVyO1xuICAgICAgICB0aGlzLmhlYWRlclR5cGUgPSAoJ0lEM3YyLicgKyBpZDNIZWFkZXIudmVyc2lvbi5tYWpvcik7XG4gICAgICAgIHJldHVybiBpZDNIZWFkZXIuZmxhZ3MuaXNFeHRlbmRlZEhlYWRlciA/IHRoaXMucGFyc2VFeHRlbmRlZEhlYWRlcigpIDogdGhpcy5wYXJzZUlkM0RhdGEoaWQzSGVhZGVyLnNpemUpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUV4dGVuZGVkSGVhZGVyKCkge1xuICAgICAgICBjb25zdCBleHRlbmRlZEhlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihJRDN2MlRva2VuXzEuRXh0ZW5kZWRIZWFkZXIpO1xuICAgICAgICBjb25zdCBkYXRhUmVtYWluaW5nID0gZXh0ZW5kZWRIZWFkZXIuc2l6ZSAtIElEM3YyVG9rZW5fMS5FeHRlbmRlZEhlYWRlci5sZW47XG4gICAgICAgIHJldHVybiBkYXRhUmVtYWluaW5nID4gMCA/IHRoaXMucGFyc2VFeHRlbmRlZEhlYWRlckRhdGEoZGF0YVJlbWFpbmluZywgZXh0ZW5kZWRIZWFkZXIuc2l6ZSkgOiB0aGlzLnBhcnNlSWQzRGF0YSh0aGlzLmlkM0hlYWRlci5zaXplIC0gZXh0ZW5kZWRIZWFkZXIuc2l6ZSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlRXh0ZW5kZWRIZWFkZXJEYXRhKGRhdGFSZW1haW5pbmcsIGV4dGVuZGVkSGVhZGVyU2l6ZSkge1xuICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoZGF0YVJlbWFpbmluZyk7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlSWQzRGF0YSh0aGlzLmlkM0hlYWRlci5zaXplIC0gZXh0ZW5kZWRIZWFkZXJTaXplKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VJZDNEYXRhKGRhdGFMZW4pIHtcbiAgICAgICAgY29uc3QgdWludDhBcnJheSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVG9rZW4uVWludDhBcnJheVR5cGUoZGF0YUxlbikpO1xuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0aGlzLnBhcnNlTWV0YWRhdGEodWludDhBcnJheSkpIHtcbiAgICAgICAgICAgIGlmICh0YWcuaWQgPT09ICdUWFhYJykge1xuICAgICAgICAgICAgICAgIGlmICh0YWcudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0ZXh0IG9mIHRhZy52YWx1ZS50ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRhZyhJRDN2MlBhcnNlci5tYWtlRGVzY3JpcHRpb25UYWdOYW1lKHRhZy5pZCwgdGFnLnZhbHVlLmRlc2NyaXB0aW9uKSwgdGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0YWcuaWQgPT09ICdDT00nKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0YWcudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUYWcoSUQzdjJQYXJzZXIubWFrZURlc2NyaXB0aW9uVGFnTmFtZSh0YWcuaWQsIHZhbHVlLmRlc2NyaXB0aW9uKSwgdmFsdWUudGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGFnLmlkID09PSAnQ09NTScpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRhZy52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRhZyhJRDN2MlBhcnNlci5tYWtlRGVzY3JpcHRpb25UYWdOYW1lKHRhZy5pZCwgdmFsdWUuZGVzY3JpcHRpb24pLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0YWcudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0YWcudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUYWcodGFnLmlkLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUYWcodGFnLmlkLCB0YWcudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFRhZyhpZCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRUYWcodGhpcy5oZWFkZXJUeXBlLCBpZCwgdmFsdWUpO1xuICAgIH1cbiAgICBwYXJzZU1ldGFkYXRhKGRhdGEpIHtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGNvbnN0IHRhZ3MgPSBbXTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPT09IGRhdGEubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY29uc3QgZnJhbWVIZWFkZXJMZW5ndGggPSBJRDN2MlBhcnNlci5nZXRGcmFtZUhlYWRlckxlbmd0aCh0aGlzLmlkM0hlYWRlci52ZXJzaW9uLm1ham9yKTtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgKyBmcmFtZUhlYWRlckxlbmd0aCA+IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKCdJbGxlZ2FsIElEM3YyIHRhZyBsZW5ndGgnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZyYW1lSGVhZGVyQnl0ZXMgPSBkYXRhLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICs9IGZyYW1lSGVhZGVyTGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lSGVhZGVyID0gdGhpcy5yZWFkRnJhbWVIZWFkZXIoZnJhbWVIZWFkZXJCeXRlcywgdGhpcy5pZDNIZWFkZXIudmVyc2lvbi5tYWpvcik7XG4gICAgICAgICAgICBjb25zdCBmcmFtZURhdGFCeXRlcyA9IGRhdGEuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKz0gZnJhbWVIZWFkZXIubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IElEM3YyUGFyc2VyLnJlYWRGcmFtZURhdGEoZnJhbWVEYXRhQnl0ZXMsIGZyYW1lSGVhZGVyLCB0aGlzLmlkM0hlYWRlci52ZXJzaW9uLm1ham9yLCAhdGhpcy5vcHRpb25zLnNraXBDb3ZlcnMsIHRoaXMubWV0YWRhdGEpO1xuICAgICAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHRhZ3MucHVzaCh7IGlkOiBmcmFtZUhlYWRlci5pZCwgdmFsdWU6IHZhbHVlcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFncztcbiAgICB9XG4gICAgcmVhZEZyYW1lSGVhZGVyKHVpbnQ4QXJyYXksIG1ham9yVmVyKSB7XG4gICAgICAgIGxldCBoZWFkZXI7XG4gICAgICAgIHN3aXRjaCAobWFqb3JWZXIpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBCdWZmZXIuZnJvbSh1aW50OEFycmF5LnNsaWNlKDAsIDMpKS50b1N0cmluZygnYXNjaWknKSxcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBUb2tlbi5VSU5UMjRfQkUuZ2V0KHVpbnQ4QXJyYXksIDMpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoIWhlYWRlci5pZC5tYXRjaCgvW0EtWjAtOV17M30vZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKGBJbnZhbGlkIElEM3YyLiR7dGhpcy5pZDNIZWFkZXIudmVyc2lvbi5tYWpvcn0gZnJhbWUtaGVhZGVyLUlEOiAke2hlYWRlci5pZH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaGVhZGVyID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogQnVmZmVyLmZyb20odWludDhBcnJheS5zbGljZSgwLCA0KSkudG9TdHJpbmcoJ2FzY2lpJyksXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogKG1ham9yVmVyID09PSA0ID8gSUQzdjJUb2tlbl8xLlVJTlQzMlNZTkNTQUZFIDogVG9rZW4uVUlOVDMyX0JFKS5nZXQodWludDhBcnJheSwgNCksXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzOiBJRDN2MlBhcnNlci5yZWFkRnJhbWVGbGFncyh1aW50OEFycmF5LnNsaWNlKDgsIDEwKSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICghaGVhZGVyLmlkLm1hdGNoKC9bQS1aMC05XXs0fS9nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoYEludmFsaWQgSUQzdjIuJHt0aGlzLmlkM0hlYWRlci52ZXJzaW9uLm1ham9yfSBmcmFtZS1oZWFkZXItSUQ6ICR7aGVhZGVyLmlkfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIG1ham9yVmVyOiAnICsgbWFqb3JWZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZWFkZXI7XG4gICAgfVxufVxuZXhwb3J0cy5JRDN2MlBhcnNlciA9IElEM3YyUGFyc2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js":
/*!*************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v2/ID3v2Token.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TextEncodingToken = exports.ExtendedHeader = exports.ID3v2Header = exports.UINT32SYNCSAFE = exports.AttachedPictureType = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst util = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/**\n * The picture type according to the ID3v2 APIC frame\n * Ref: http://id3.org/id3v2.3.0#Attached_picture\n */\nvar AttachedPictureType;\n(function (AttachedPictureType) {\n    AttachedPictureType[AttachedPictureType[\"Other\"] = 0] = \"Other\";\n    AttachedPictureType[AttachedPictureType[\"32x32 pixels 'file icon' (PNG only)\"] = 1] = \"32x32 pixels 'file icon' (PNG only)\";\n    AttachedPictureType[AttachedPictureType[\"Other file icon\"] = 2] = \"Other file icon\";\n    AttachedPictureType[AttachedPictureType[\"Cover (front)\"] = 3] = \"Cover (front)\";\n    AttachedPictureType[AttachedPictureType[\"Cover (back)\"] = 4] = \"Cover (back)\";\n    AttachedPictureType[AttachedPictureType[\"Leaflet page\"] = 5] = \"Leaflet page\";\n    AttachedPictureType[AttachedPictureType[\"Media (e.g. label side of CD)\"] = 6] = \"Media (e.g. label side of CD)\";\n    AttachedPictureType[AttachedPictureType[\"Lead artist/lead performer/soloist\"] = 7] = \"Lead artist/lead performer/soloist\";\n    AttachedPictureType[AttachedPictureType[\"Artist/performer\"] = 8] = \"Artist/performer\";\n    AttachedPictureType[AttachedPictureType[\"Conductor\"] = 9] = \"Conductor\";\n    AttachedPictureType[AttachedPictureType[\"Band/Orchestra\"] = 10] = \"Band/Orchestra\";\n    AttachedPictureType[AttachedPictureType[\"Composer\"] = 11] = \"Composer\";\n    AttachedPictureType[AttachedPictureType[\"Lyricist/text writer\"] = 12] = \"Lyricist/text writer\";\n    AttachedPictureType[AttachedPictureType[\"Recording Location\"] = 13] = \"Recording Location\";\n    AttachedPictureType[AttachedPictureType[\"During recording\"] = 14] = \"During recording\";\n    AttachedPictureType[AttachedPictureType[\"During performance\"] = 15] = \"During performance\";\n    AttachedPictureType[AttachedPictureType[\"Movie/video screen capture\"] = 16] = \"Movie/video screen capture\";\n    AttachedPictureType[AttachedPictureType[\"A bright coloured fish\"] = 17] = \"A bright coloured fish\";\n    AttachedPictureType[AttachedPictureType[\"Illustration\"] = 18] = \"Illustration\";\n    AttachedPictureType[AttachedPictureType[\"Band/artist logotype\"] = 19] = \"Band/artist logotype\";\n    AttachedPictureType[AttachedPictureType[\"Publisher/Studio logotype\"] = 20] = \"Publisher/Studio logotype\";\n})(AttachedPictureType = exports.AttachedPictureType || (exports.AttachedPictureType = {}));\n/**\n * 28 bits (representing up to 256MB) integer, the msb is 0 to avoid 'false syncsignals'.\n * 4 * %0xxxxxxx\n */\nexports.UINT32SYNCSAFE = {\n    get: (buf, off) => {\n        return buf[off + 3] & 0x7f | ((buf[off + 2]) << 7) |\n            ((buf[off + 1]) << 14) | ((buf[off]) << 21);\n    },\n    len: 4\n};\n/**\n * ID3v2 header\n * Ref: http://id3.org/id3v2.3.0#ID3v2_header\n * ToDo\n */\nexports.ID3v2Header = {\n    len: 10,\n    get: (buf, off) => {\n        return {\n            // ID3v2/file identifier   \"ID3\"\n            fileIdentifier: new Token.StringType(3, 'ascii').get(buf, off),\n            // ID3v2 versionIndex\n            version: {\n                major: Token.INT8.get(buf, off + 3),\n                revision: Token.INT8.get(buf, off + 4)\n            },\n            // ID3v2 flags\n            flags: {\n                // Unsynchronisation\n                unsynchronisation: util.getBit(buf, off + 5, 7),\n                // Extended header\n                isExtendedHeader: util.getBit(buf, off + 5, 6),\n                // Experimental indicator\n                expIndicator: util.getBit(buf, off + 5, 5),\n                footer: util.getBit(buf, off + 5, 4)\n            },\n            size: exports.UINT32SYNCSAFE.get(buf, off + 6)\n        };\n    }\n};\nexports.ExtendedHeader = {\n    len: 10,\n    get: (buf, off) => {\n        return {\n            // Extended header size\n            size: Token.UINT32_BE.get(buf, off),\n            // Extended Flags\n            extendedFlags: Token.UINT16_BE.get(buf, off + 4),\n            // Size of padding\n            sizeOfPadding: Token.UINT32_BE.get(buf, off + 6),\n            // CRC data present\n            crcDataPresent: util.getBit(buf, off + 4, 31)\n        };\n    }\n};\nexports.TextEncodingToken = {\n    len: 1,\n    get: (uint8Array, off) => {\n        switch (uint8Array[off]) {\n            case 0x00:\n                return { encoding: 'latin1' }; // binary\n            case 0x01:\n                return { encoding: 'utf16le', bom: true };\n            case 0x02:\n                return { encoding: 'utf16le', bom: false };\n            case 0x03:\n                return { encoding: 'utf8', bom: false };\n            default:\n                return { encoding: 'utf8', bom: false };\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0lEM3YyVG9rZW4uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCLEdBQUcsc0JBQXNCLEdBQUcsbUJBQW1CLEdBQUcsc0JBQXNCLEdBQUcsMkJBQTJCO0FBQy9ILGNBQWMsbUJBQU8sQ0FBQyxrRUFBYTtBQUNuQyxhQUFhLG1CQUFPLENBQUMsOEVBQWdCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0RBQXdELDJCQUEyQixLQUFLO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0JBQXNCO0FBQy9DO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9pZDN2Mi9JRDN2MlRva2VuLmpzPzJhODkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRleHRFbmNvZGluZ1Rva2VuID0gZXhwb3J0cy5FeHRlbmRlZEhlYWRlciA9IGV4cG9ydHMuSUQzdjJIZWFkZXIgPSBleHBvcnRzLlVJTlQzMlNZTkNTQUZFID0gZXhwb3J0cy5BdHRhY2hlZFBpY3R1cmVUeXBlID0gdm9pZCAwO1xuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcIi4uL2NvbW1vbi9VdGlsXCIpO1xuLyoqXG4gKiBUaGUgcGljdHVyZSB0eXBlIGFjY29yZGluZyB0byB0aGUgSUQzdjIgQVBJQyBmcmFtZVxuICogUmVmOiBodHRwOi8vaWQzLm9yZy9pZDN2Mi4zLjAjQXR0YWNoZWRfcGljdHVyZVxuICovXG52YXIgQXR0YWNoZWRQaWN0dXJlVHlwZTtcbihmdW5jdGlvbiAoQXR0YWNoZWRQaWN0dXJlVHlwZSkge1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIk90aGVyXCJdID0gMF0gPSBcIk90aGVyXCI7XG4gICAgQXR0YWNoZWRQaWN0dXJlVHlwZVtBdHRhY2hlZFBpY3R1cmVUeXBlW1wiMzJ4MzIgcGl4ZWxzICdmaWxlIGljb24nIChQTkcgb25seSlcIl0gPSAxXSA9IFwiMzJ4MzIgcGl4ZWxzICdmaWxlIGljb24nIChQTkcgb25seSlcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJPdGhlciBmaWxlIGljb25cIl0gPSAyXSA9IFwiT3RoZXIgZmlsZSBpY29uXCI7XG4gICAgQXR0YWNoZWRQaWN0dXJlVHlwZVtBdHRhY2hlZFBpY3R1cmVUeXBlW1wiQ292ZXIgKGZyb250KVwiXSA9IDNdID0gXCJDb3ZlciAoZnJvbnQpXCI7XG4gICAgQXR0YWNoZWRQaWN0dXJlVHlwZVtBdHRhY2hlZFBpY3R1cmVUeXBlW1wiQ292ZXIgKGJhY2spXCJdID0gNF0gPSBcIkNvdmVyIChiYWNrKVwiO1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIkxlYWZsZXQgcGFnZVwiXSA9IDVdID0gXCJMZWFmbGV0IHBhZ2VcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJNZWRpYSAoZS5nLiBsYWJlbCBzaWRlIG9mIENEKVwiXSA9IDZdID0gXCJNZWRpYSAoZS5nLiBsYWJlbCBzaWRlIG9mIENEKVwiO1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIkxlYWQgYXJ0aXN0L2xlYWQgcGVyZm9ybWVyL3NvbG9pc3RcIl0gPSA3XSA9IFwiTGVhZCBhcnRpc3QvbGVhZCBwZXJmb3JtZXIvc29sb2lzdFwiO1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIkFydGlzdC9wZXJmb3JtZXJcIl0gPSA4XSA9IFwiQXJ0aXN0L3BlcmZvcm1lclwiO1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIkNvbmR1Y3RvclwiXSA9IDldID0gXCJDb25kdWN0b3JcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJCYW5kL09yY2hlc3RyYVwiXSA9IDEwXSA9IFwiQmFuZC9PcmNoZXN0cmFcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJDb21wb3NlclwiXSA9IDExXSA9IFwiQ29tcG9zZXJcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJMeXJpY2lzdC90ZXh0IHdyaXRlclwiXSA9IDEyXSA9IFwiTHlyaWNpc3QvdGV4dCB3cml0ZXJcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJSZWNvcmRpbmcgTG9jYXRpb25cIl0gPSAxM10gPSBcIlJlY29yZGluZyBMb2NhdGlvblwiO1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIkR1cmluZyByZWNvcmRpbmdcIl0gPSAxNF0gPSBcIkR1cmluZyByZWNvcmRpbmdcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJEdXJpbmcgcGVyZm9ybWFuY2VcIl0gPSAxNV0gPSBcIkR1cmluZyBwZXJmb3JtYW5jZVwiO1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIk1vdmllL3ZpZGVvIHNjcmVlbiBjYXB0dXJlXCJdID0gMTZdID0gXCJNb3ZpZS92aWRlbyBzY3JlZW4gY2FwdHVyZVwiO1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIkEgYnJpZ2h0IGNvbG91cmVkIGZpc2hcIl0gPSAxN10gPSBcIkEgYnJpZ2h0IGNvbG91cmVkIGZpc2hcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJJbGx1c3RyYXRpb25cIl0gPSAxOF0gPSBcIklsbHVzdHJhdGlvblwiO1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIkJhbmQvYXJ0aXN0IGxvZ290eXBlXCJdID0gMTldID0gXCJCYW5kL2FydGlzdCBsb2dvdHlwZVwiO1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIlB1Ymxpc2hlci9TdHVkaW8gbG9nb3R5cGVcIl0gPSAyMF0gPSBcIlB1Ymxpc2hlci9TdHVkaW8gbG9nb3R5cGVcIjtcbn0pKEF0dGFjaGVkUGljdHVyZVR5cGUgPSBleHBvcnRzLkF0dGFjaGVkUGljdHVyZVR5cGUgfHwgKGV4cG9ydHMuQXR0YWNoZWRQaWN0dXJlVHlwZSA9IHt9KSk7XG4vKipcbiAqIDI4IGJpdHMgKHJlcHJlc2VudGluZyB1cCB0byAyNTZNQikgaW50ZWdlciwgdGhlIG1zYiBpcyAwIHRvIGF2b2lkICdmYWxzZSBzeW5jc2lnbmFscycuXG4gKiA0ICogJTB4eHh4eHh4XG4gKi9cbmV4cG9ydHMuVUlOVDMyU1lOQ1NBRkUgPSB7XG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIGJ1ZltvZmYgKyAzXSAmIDB4N2YgfCAoKGJ1ZltvZmYgKyAyXSkgPDwgNykgfFxuICAgICAgICAgICAgKChidWZbb2ZmICsgMV0pIDw8IDE0KSB8ICgoYnVmW29mZl0pIDw8IDIxKTtcbiAgICB9LFxuICAgIGxlbjogNFxufTtcbi8qKlxuICogSUQzdjIgaGVhZGVyXG4gKiBSZWY6IGh0dHA6Ly9pZDMub3JnL2lkM3YyLjMuMCNJRDN2Ml9oZWFkZXJcbiAqIFRvRG9cbiAqL1xuZXhwb3J0cy5JRDN2MkhlYWRlciA9IHtcbiAgICBsZW46IDEwLFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBJRDN2Mi9maWxlIGlkZW50aWZpZXIgICBcIklEM1wiXG4gICAgICAgICAgICBmaWxlSWRlbnRpZmllcjogbmV3IFRva2VuLlN0cmluZ1R5cGUoMywgJ2FzY2lpJykuZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIC8vIElEM3YyIHZlcnNpb25JbmRleFxuICAgICAgICAgICAgdmVyc2lvbjoge1xuICAgICAgICAgICAgICAgIG1ham9yOiBUb2tlbi5JTlQ4LmdldChidWYsIG9mZiArIDMpLFxuICAgICAgICAgICAgICAgIHJldmlzaW9uOiBUb2tlbi5JTlQ4LmdldChidWYsIG9mZiArIDQpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gSUQzdjIgZmxhZ3NcbiAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgLy8gVW5zeW5jaHJvbmlzYXRpb25cbiAgICAgICAgICAgICAgICB1bnN5bmNocm9uaXNhdGlvbjogdXRpbC5nZXRCaXQoYnVmLCBvZmYgKyA1LCA3KSxcbiAgICAgICAgICAgICAgICAvLyBFeHRlbmRlZCBoZWFkZXJcbiAgICAgICAgICAgICAgICBpc0V4dGVuZGVkSGVhZGVyOiB1dGlsLmdldEJpdChidWYsIG9mZiArIDUsIDYpLFxuICAgICAgICAgICAgICAgIC8vIEV4cGVyaW1lbnRhbCBpbmRpY2F0b3JcbiAgICAgICAgICAgICAgICBleHBJbmRpY2F0b3I6IHV0aWwuZ2V0Qml0KGJ1Ziwgb2ZmICsgNSwgNSksXG4gICAgICAgICAgICAgICAgZm9vdGVyOiB1dGlsLmdldEJpdChidWYsIG9mZiArIDUsIDQpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2l6ZTogZXhwb3J0cy5VSU5UMzJTWU5DU0FGRS5nZXQoYnVmLCBvZmYgKyA2KVxuICAgICAgICB9O1xuICAgIH1cbn07XG5leHBvcnRzLkV4dGVuZGVkSGVhZGVyID0ge1xuICAgIGxlbjogMTAsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIEV4dGVuZGVkIGhlYWRlciBzaXplXG4gICAgICAgICAgICBzaXplOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIC8vIEV4dGVuZGVkIEZsYWdzXG4gICAgICAgICAgICBleHRlbmRlZEZsYWdzOiBUb2tlbi5VSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgNCksXG4gICAgICAgICAgICAvLyBTaXplIG9mIHBhZGRpbmdcbiAgICAgICAgICAgIHNpemVPZlBhZGRpbmc6IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA2KSxcbiAgICAgICAgICAgIC8vIENSQyBkYXRhIHByZXNlbnRcbiAgICAgICAgICAgIGNyY0RhdGFQcmVzZW50OiB1dGlsLmdldEJpdChidWYsIG9mZiArIDQsIDMxKVxuICAgICAgICB9O1xuICAgIH1cbn07XG5leHBvcnRzLlRleHRFbmNvZGluZ1Rva2VuID0ge1xuICAgIGxlbjogMSxcbiAgICBnZXQ6ICh1aW50OEFycmF5LCBvZmYpID0+IHtcbiAgICAgICAgc3dpdGNoICh1aW50OEFycmF5W29mZl0pIHtcbiAgICAgICAgICAgIGNhc2UgMHgwMDpcbiAgICAgICAgICAgICAgICByZXR1cm4geyBlbmNvZGluZzogJ2xhdGluMScgfTsgLy8gYmluYXJ5XG4gICAgICAgICAgICBjYXNlIDB4MDE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZW5jb2Rpbmc6ICd1dGYxNmxlJywgYm9tOiB0cnVlIH07XG4gICAgICAgICAgICBjYXNlIDB4MDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZW5jb2Rpbmc6ICd1dGYxNmxlJywgYm9tOiBmYWxzZSB9O1xuICAgICAgICAgICAgY2FzZSAweDAzOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IGVuY29kaW5nOiAndXRmOCcsIGJvbTogZmFsc2UgfTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZW5jb2Rpbmc6ICd1dGY4JywgYm9tOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgfVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/iff/index.js":
/*!******************************************************!*\
  !*** ./node_modules/music-metadata/lib/iff/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Header = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n/**\n * Common AIFF chunk header\n */\nexports.Header = {\n    len: 8,\n    get: (buf, off) => {\n        return {\n            // Chunk type ID\n            chunkID: FourCC_1.FourCcToken.get(buf, off),\n            // Chunk size\n            chunkSize: Number(BigInt(Token.UINT32_BE.get(buf, off + 4)))\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lmZi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjO0FBQ2QsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLGtGQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvaWZmL2luZGV4LmpzPzMxODEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkhlYWRlciA9IHZvaWQgMDtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY29uc3QgRm91ckNDXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL0ZvdXJDQ1wiKTtcbi8qKlxuICogQ29tbW9uIEFJRkYgY2h1bmsgaGVhZGVyXG4gKi9cbmV4cG9ydHMuSGVhZGVyID0ge1xuICAgIGxlbjogOCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gQ2h1bmsgdHlwZSBJRFxuICAgICAgICAgICAgY2h1bmtJRDogRm91ckNDXzEuRm91ckNjVG9rZW4uZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIC8vIENodW5rIHNpemVcbiAgICAgICAgICAgIGNodW5rU2l6ZTogTnVtYmVyKEJpZ0ludChUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgNCkpKVxuICAgICAgICB9O1xuICAgIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/iff/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/lyrics3/Lyrics3.js":
/*!************************************************************!*\
  !*** ./node_modules/music-metadata/lib/lyrics3/Lyrics3.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getLyricsHeaderLength = exports.endTag2 = void 0;\nexports.endTag2 = 'LYRICS200';\nasync function getLyricsHeaderLength(reader) {\n    if (reader.fileSize >= 143) {\n        const buf = Buffer.alloc(15);\n        await reader.randomRead(buf, 0, buf.length, reader.fileSize - 143);\n        const txt = buf.toString('binary');\n        const tag = txt.substr(6);\n        if (tag === exports.endTag2) {\n            return parseInt(txt.substr(0, 6), 10) + 15;\n        }\n    }\n    return 0;\n}\nexports.getLyricsHeaderLength = getLyricsHeaderLength;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2x5cmljczMvTHlyaWNzMy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw2QkFBNkIsR0FBRyxlQUFlO0FBQy9DLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbHlyaWNzMy9MeXJpY3MzLmpzPzFjMGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldEx5cmljc0hlYWRlckxlbmd0aCA9IGV4cG9ydHMuZW5kVGFnMiA9IHZvaWQgMDtcbmV4cG9ydHMuZW5kVGFnMiA9ICdMWVJJQ1MyMDAnO1xuYXN5bmMgZnVuY3Rpb24gZ2V0THlyaWNzSGVhZGVyTGVuZ3RoKHJlYWRlcikge1xuICAgIGlmIChyZWFkZXIuZmlsZVNpemUgPj0gMTQzKSB7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5hbGxvYygxNSk7XG4gICAgICAgIGF3YWl0IHJlYWRlci5yYW5kb21SZWFkKGJ1ZiwgMCwgYnVmLmxlbmd0aCwgcmVhZGVyLmZpbGVTaXplIC0gMTQzKTtcbiAgICAgICAgY29uc3QgdHh0ID0gYnVmLnRvU3RyaW5nKCdiaW5hcnknKTtcbiAgICAgICAgY29uc3QgdGFnID0gdHh0LnN1YnN0cig2KTtcbiAgICAgICAgaWYgKHRhZyA9PT0gZXhwb3J0cy5lbmRUYWcyKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodHh0LnN1YnN0cigwLCA2KSwgMTApICsgMTU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG5leHBvcnRzLmdldEx5cmljc0hlYWRlckxlbmd0aCA9IGdldEx5cmljc0hlYWRlckxlbmd0aDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/lyrics3/Lyrics3.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaDtd.js":
/*!*****************************************************************!*\
  !*** ./node_modules/music-metadata/lib/matroska/MatroskaDtd.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.elements = void 0;\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/music-metadata/lib/matroska/types.js\");\n/**\n * Elements of document type description\n * Derived from https://github.com/tungol/EBML/blob/master/doctypes/matroska.dtd\n * Extended with:\n * - https://www.matroska.org/technical/specs/index.html\n */\nexports.elements = {\n    0x1a45dfa3: {\n        name: 'ebml',\n        container: {\n            0x4286: { name: 'ebmlVersion', value: types_1.DataType.uint },\n            0x42f7: { name: 'ebmlReadVersion', value: types_1.DataType.uint },\n            0x42f2: { name: 'ebmlMaxIDWidth', value: types_1.DataType.uint },\n            0x42f3: { name: 'ebmlMaxSizeWidth', value: types_1.DataType.uint },\n            0x4282: { name: 'docType', value: types_1.DataType.string },\n            0x4287: { name: 'docTypeVersion', value: types_1.DataType.uint },\n            0x4285: { name: 'docTypeReadVersion', value: types_1.DataType.uint } // 5.1.7\n        }\n    },\n    // Matroska segments\n    0x18538067: {\n        name: 'segment',\n        container: {\n            // Meta Seek Information\n            0x114d9b74: {\n                name: 'seekHead',\n                container: {\n                    0x4dbb: {\n                        name: 'seek',\n                        container: {\n                            0x53ab: { name: 'seekId', value: types_1.DataType.binary },\n                            0x53ac: { name: 'seekPosition', value: types_1.DataType.uint }\n                        }\n                    }\n                }\n            },\n            // Segment Information\n            0x1549a966: {\n                name: 'info',\n                container: {\n                    0x73a4: { name: 'uid', value: types_1.DataType.uid },\n                    0x7384: { name: 'filename', value: types_1.DataType.string },\n                    0x3cb923: { name: 'prevUID', value: types_1.DataType.uid },\n                    0x3c83ab: { name: 'prevFilename', value: types_1.DataType.string },\n                    0x3eb923: { name: 'nextUID', value: types_1.DataType.uid },\n                    0x3e83bb: { name: 'nextFilename', value: types_1.DataType.string },\n                    0x2ad7b1: { name: 'timecodeScale', value: types_1.DataType.uint },\n                    0x4489: { name: 'duration', value: types_1.DataType.float },\n                    0x4461: { name: 'dateUTC', value: types_1.DataType.uint },\n                    0x7ba9: { name: 'title', value: types_1.DataType.string },\n                    0x4d80: { name: 'muxingApp', value: types_1.DataType.string },\n                    0x5741: { name: 'writingApp', value: types_1.DataType.string }\n                }\n            },\n            // Cluster\n            0x1f43b675: {\n                name: 'cluster',\n                multiple: true,\n                container: {\n                    0xe7: { name: 'timecode', value: types_1.DataType.uid },\n                    0xa3: { name: 'unknown', value: types_1.DataType.binary },\n                    0xa7: { name: 'position', value: types_1.DataType.uid },\n                    0xab: { name: 'prevSize', value: types_1.DataType.uid }\n                }\n            },\n            // Track\n            0x1654ae6b: {\n                name: 'tracks',\n                container: {\n                    0xae: {\n                        name: 'entries',\n                        multiple: true,\n                        container: {\n                            0xd7: { name: 'trackNumber', value: types_1.DataType.uint },\n                            0x73c5: { name: 'uid', value: types_1.DataType.uid },\n                            0x83: { name: 'trackType', value: types_1.DataType.uint },\n                            0xb9: { name: 'flagEnabled', value: types_1.DataType.bool },\n                            0x88: { name: 'flagDefault', value: types_1.DataType.bool },\n                            0x55aa: { name: 'flagForced', value: types_1.DataType.bool },\n                            0x9c: { name: 'flagLacing', value: types_1.DataType.bool },\n                            0x6de7: { name: 'minCache', value: types_1.DataType.uint },\n                            0x6de8: { name: 'maxCache', value: types_1.DataType.uint },\n                            0x23e383: { name: 'defaultDuration', value: types_1.DataType.uint },\n                            0x23314f: { name: 'timecodeScale', value: types_1.DataType.float },\n                            0x536e: { name: 'name', value: types_1.DataType.string },\n                            0x22b59c: { name: 'language', value: types_1.DataType.string },\n                            0x86: { name: 'codecID', value: types_1.DataType.string },\n                            0x63a2: { name: 'codecPrivate', value: types_1.DataType.binary },\n                            0x258688: { name: 'codecName', value: types_1.DataType.string },\n                            0x3a9697: { name: 'codecSettings', value: types_1.DataType.string },\n                            0x3b4040: { name: 'codecInfoUrl', value: types_1.DataType.string },\n                            0x26b240: { name: 'codecDownloadUrl', value: types_1.DataType.string },\n                            0xaa: { name: 'codecDecodeAll', value: types_1.DataType.bool },\n                            0x6fab: { name: 'trackOverlay', value: types_1.DataType.uint },\n                            // Video\n                            0xe0: {\n                                name: 'video',\n                                container: {\n                                    0x9a: { name: 'flagInterlaced', value: types_1.DataType.bool },\n                                    0x53b8: { name: 'stereoMode', value: types_1.DataType.uint },\n                                    0xb0: { name: 'pixelWidth', value: types_1.DataType.uint },\n                                    0xba: { name: 'pixelHeight', value: types_1.DataType.uint },\n                                    0x54b0: { name: 'displayWidth', value: types_1.DataType.uint },\n                                    0x54ba: { name: 'displayHeight', value: types_1.DataType.uint },\n                                    0x54b3: { name: 'aspectRatioType', value: types_1.DataType.uint },\n                                    0x2eb524: { name: 'colourSpace', value: types_1.DataType.uint },\n                                    0x2fb523: { name: 'gammaValue', value: types_1.DataType.float }\n                                }\n                            },\n                            // Audio\n                            0xe1: {\n                                name: 'audio',\n                                container: {\n                                    0xb5: { name: 'samplingFrequency', value: types_1.DataType.float },\n                                    0x78b5: { name: 'outputSamplingFrequency', value: types_1.DataType.float },\n                                    0x9f: { name: 'channels', value: types_1.DataType.uint },\n                                    0x94: { name: 'channels', value: types_1.DataType.uint },\n                                    0x7d7b: { name: 'channelPositions', value: types_1.DataType.binary },\n                                    0x6264: { name: 'bitDepth', value: types_1.DataType.uint }\n                                }\n                            },\n                            // Content Encoding\n                            0x6d80: {\n                                name: 'contentEncodings',\n                                container: {\n                                    0x6240: {\n                                        name: 'contentEncoding',\n                                        container: {\n                                            0x5031: { name: 'order', value: types_1.DataType.uint },\n                                            0x5032: { name: 'scope', value: types_1.DataType.bool },\n                                            0x5033: { name: 'type', value: types_1.DataType.uint },\n                                            0x5034: {\n                                                name: 'contentEncoding',\n                                                container: {\n                                                    0x4254: { name: 'contentCompAlgo', value: types_1.DataType.uint },\n                                                    0x4255: { name: 'contentCompSettings', value: types_1.DataType.binary }\n                                                }\n                                            },\n                                            0x5035: {\n                                                name: 'contentEncoding',\n                                                container: {\n                                                    0x47e1: { name: 'contentEncAlgo', value: types_1.DataType.uint },\n                                                    0x47e2: { name: 'contentEncKeyID', value: types_1.DataType.binary },\n                                                    0x47e3: { name: 'contentSignature ', value: types_1.DataType.binary },\n                                                    0x47e4: { name: 'ContentSigKeyID  ', value: types_1.DataType.binary },\n                                                    0x47e5: { name: 'contentSigAlgo ', value: types_1.DataType.uint },\n                                                    0x47e6: { name: 'contentSigHashAlgo ', value: types_1.DataType.uint }\n                                                }\n                                            },\n                                            0x6264: { name: 'bitDepth', value: types_1.DataType.uint }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            // Cueing Data\n            0x1c53bb6b: {\n                name: 'cues',\n                container: {\n                    0xbb: {\n                        name: 'cuePoint',\n                        container: {\n                            0xb3: { name: 'cueTime', value: types_1.DataType.uid },\n                            0xb7: {\n                                name: 'positions',\n                                container: {\n                                    0xf7: { name: 'track', value: types_1.DataType.uint },\n                                    0xf1: { name: 'clusterPosition', value: types_1.DataType.uint },\n                                    0x5378: { name: 'blockNumber', value: types_1.DataType.uint },\n                                    0xea: { name: 'codecState', value: types_1.DataType.uint },\n                                    0xdb: {\n                                        name: 'reference', container: {\n                                            0x96: { name: 'time', value: types_1.DataType.uint },\n                                            0x97: { name: 'cluster', value: types_1.DataType.uint },\n                                            0x535f: { name: 'number', value: types_1.DataType.uint },\n                                            0xeb: { name: 'codecState', value: types_1.DataType.uint }\n                                        }\n                                    },\n                                    0xf0: { name: 'relativePosition', value: types_1.DataType.uint } // extended\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            // Attachment\n            0x1941a469: {\n                name: 'attachments',\n                container: {\n                    0x61a7: {\n                        name: 'attachedFiles',\n                        multiple: true,\n                        container: {\n                            0x467e: { name: 'description', value: types_1.DataType.string },\n                            0x466e: { name: 'name', value: types_1.DataType.string },\n                            0x4660: { name: 'mimeType', value: types_1.DataType.string },\n                            0x465c: { name: 'data', value: types_1.DataType.binary },\n                            0x46ae: { name: 'uid', value: types_1.DataType.uid }\n                        }\n                    }\n                }\n            },\n            // Chapters\n            0x1043a770: {\n                name: 'chapters',\n                container: {\n                    0x45b9: {\n                        name: 'editionEntry',\n                        container: {\n                            0xb6: {\n                                name: 'chapterAtom',\n                                container: {\n                                    0x73c4: { name: 'uid', value: types_1.DataType.uid },\n                                    0x91: { name: 'timeStart', value: types_1.DataType.uint },\n                                    0x92: { name: 'timeEnd', value: types_1.DataType.uid },\n                                    0x98: { name: 'hidden', value: types_1.DataType.bool },\n                                    0x4598: { name: 'enabled', value: types_1.DataType.uid },\n                                    0x8f: { name: 'track', container: {\n                                            0x89: { name: 'trackNumber', value: types_1.DataType.uid },\n                                            0x80: {\n                                                name: 'display', container: {\n                                                    0x85: { name: 'string', value: types_1.DataType.string },\n                                                    0x437c: { name: 'language ', value: types_1.DataType.string },\n                                                    0x437e: { name: 'country ', value: types_1.DataType.string }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            // Tagging\n            0x1254c367: {\n                name: 'tags',\n                container: {\n                    0x7373: {\n                        name: 'tag',\n                        multiple: true,\n                        container: {\n                            0x63c0: {\n                                name: 'target',\n                                container: {\n                                    0x63c5: { name: 'tagTrackUID', value: types_1.DataType.uid },\n                                    0x63c4: { name: 'tagChapterUID', value: types_1.DataType.uint },\n                                    0x63c6: { name: 'tagAttachmentUID', value: types_1.DataType.uid },\n                                    0x63ca: { name: 'targetType', value: types_1.DataType.string },\n                                    0x68ca: { name: 'targetTypeValue', value: types_1.DataType.uint },\n                                    0x63c9: { name: 'tagEditionUID', value: types_1.DataType.uid } // extended\n                                }\n                            },\n                            0x67c8: {\n                                name: 'simpleTags',\n                                multiple: true,\n                                container: {\n                                    0x45a3: { name: 'name', value: types_1.DataType.string },\n                                    0x4487: { name: 'string', value: types_1.DataType.string },\n                                    0x4485: { name: 'binary', value: types_1.DataType.binary },\n                                    0x447a: { name: 'language', value: types_1.DataType.string },\n                                    0x447b: { name: 'languageIETF', value: types_1.DataType.string },\n                                    0x4484: { name: 'default', value: types_1.DataType.bool } // extended\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL01hdHJvc2thRHRkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQixnQkFBZ0IsbUJBQU8sQ0FBQywwRUFBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1EQUFtRDtBQUN6RSxzQkFBc0IsdURBQXVEO0FBQzdFLHNCQUFzQixzREFBc0Q7QUFDNUUsc0JBQXNCLHdEQUF3RDtBQUM5RSxzQkFBc0IsaURBQWlEO0FBQ3ZFLHNCQUFzQixzREFBc0Q7QUFDNUUsc0JBQXNCLDJEQUEyRDtBQUNqRjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGdEQUFnRDtBQUN0RixzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDBDQUEwQztBQUN4RSw4QkFBOEIsa0RBQWtEO0FBQ2hGLGdDQUFnQyw4Q0FBOEM7QUFDOUUsZ0NBQWdDLHNEQUFzRDtBQUN0RixnQ0FBZ0MsOENBQThDO0FBQzlFLGdDQUFnQyxzREFBc0Q7QUFDdEYsZ0NBQWdDLHFEQUFxRDtBQUNyRiw4QkFBOEIsaURBQWlEO0FBQy9FLDhCQUE4QiwrQ0FBK0M7QUFDN0UsOEJBQThCLCtDQUErQztBQUM3RSw4QkFBOEIsbURBQW1EO0FBQ2pGLDhCQUE4QjtBQUM5QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtDQUErQztBQUMzRSw0QkFBNEIsaURBQWlEO0FBQzdFLDRCQUE0QiwrQ0FBK0M7QUFDM0UsNEJBQTRCO0FBQzVCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsbURBQW1EO0FBQ3ZGLHNDQUFzQywwQ0FBMEM7QUFDaEYsb0NBQW9DLGlEQUFpRDtBQUNyRixvQ0FBb0MsbURBQW1EO0FBQ3ZGLG9DQUFvQyxtREFBbUQ7QUFDdkYsc0NBQXNDLGtEQUFrRDtBQUN4RixvQ0FBb0Msa0RBQWtEO0FBQ3RGLHNDQUFzQyxnREFBZ0Q7QUFDdEYsc0NBQXNDLGdEQUFnRDtBQUN0Rix3Q0FBd0MsdURBQXVEO0FBQy9GLHdDQUF3QyxzREFBc0Q7QUFDOUYsc0NBQXNDLDhDQUE4QztBQUNwRix3Q0FBd0Msa0RBQWtEO0FBQzFGLG9DQUFvQyxpREFBaUQ7QUFDckYsc0NBQXNDLHNEQUFzRDtBQUM1Rix3Q0FBd0MsbURBQW1EO0FBQzNGLHdDQUF3Qyx1REFBdUQ7QUFDL0Ysd0NBQXdDLHNEQUFzRDtBQUM5Rix3Q0FBd0MsMERBQTBEO0FBQ2xHLG9DQUFvQyxzREFBc0Q7QUFDMUYsc0NBQXNDLG9EQUFvRDtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxzREFBc0Q7QUFDbEcsOENBQThDLGtEQUFrRDtBQUNoRyw0Q0FBNEMsa0RBQWtEO0FBQzlGLDRDQUE0QyxtREFBbUQ7QUFDL0YsOENBQThDLG9EQUFvRDtBQUNsRyw4Q0FBOEMscURBQXFEO0FBQ25HLDhDQUE4Qyx1REFBdUQ7QUFDckcsZ0RBQWdELG1EQUFtRDtBQUNuRyxnREFBZ0Q7QUFDaEQ7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsMERBQTBEO0FBQ3RHLDhDQUE4QyxnRUFBZ0U7QUFDOUcsNENBQTRDLGdEQUFnRDtBQUM1Riw0Q0FBNEMsZ0RBQWdEO0FBQzVGLDhDQUE4QywwREFBMEQ7QUFDeEcsOENBQThDO0FBQzlDO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELDZDQUE2QztBQUNuRyxzREFBc0QsNkNBQTZDO0FBQ25HLHNEQUFzRCw0Q0FBNEM7QUFDbEc7QUFDQTtBQUNBO0FBQ0EsOERBQThELHVEQUF1RDtBQUNySCw4REFBOEQ7QUFDOUQ7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsOERBQThELHNEQUFzRDtBQUNwSCw4REFBOEQseURBQXlEO0FBQ3ZILDhEQUE4RCwyREFBMkQ7QUFDekgsOERBQThELDJEQUEyRDtBQUN6SCw4REFBOEQsdURBQXVEO0FBQ3JILDhEQUE4RDtBQUM5RDtBQUNBLDZDQUE2QztBQUM3QyxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsOENBQThDO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyw2Q0FBNkM7QUFDekYsNENBQTRDLHVEQUF1RDtBQUNuRyw4Q0FBOEMsbURBQW1EO0FBQ2pHLDRDQUE0QyxrREFBa0Q7QUFDOUY7QUFDQTtBQUNBLG9EQUFvRCw0Q0FBNEM7QUFDaEcsb0RBQW9ELCtDQUErQztBQUNuRyxzREFBc0QsOENBQThDO0FBQ3BHLG9EQUFvRDtBQUNwRDtBQUNBLHFDQUFxQztBQUNyQyw0Q0FBNEMseURBQXlEO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxxREFBcUQ7QUFDM0Ysc0NBQXNDLDhDQUE4QztBQUNwRixzQ0FBc0Msa0RBQWtEO0FBQ3hGLHNDQUFzQyw4Q0FBOEM7QUFDcEYsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QywwQ0FBMEM7QUFDeEYsNENBQTRDLGlEQUFpRDtBQUM3Riw0Q0FBNEMsOENBQThDO0FBQzFGLDRDQUE0Qyw4Q0FBOEM7QUFDMUYsOENBQThDLDhDQUE4QztBQUM1Riw0Q0FBNEM7QUFDNUMsb0RBQW9ELGtEQUFrRDtBQUN0RztBQUNBO0FBQ0EsNERBQTRELGdEQUFnRDtBQUM1Ryw4REFBOEQsbURBQW1EO0FBQ2pILDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxrREFBa0Q7QUFDaEcsOENBQThDLHFEQUFxRDtBQUNuRyw4Q0FBOEMsdURBQXVEO0FBQ3JHLDhDQUE4QyxvREFBb0Q7QUFDbEcsOENBQThDLHVEQUF1RDtBQUNyRyw4Q0FBOEMscURBQXFEO0FBQ25HO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDhDQUE4QztBQUM1Riw4Q0FBOEMsZ0RBQWdEO0FBQzlGLDhDQUE4QyxnREFBZ0Q7QUFDOUYsOENBQThDLGtEQUFrRDtBQUNoRyw4Q0FBOEMsc0RBQXNEO0FBQ3BHLDhDQUE4QyxnREFBZ0Q7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL01hdHJvc2thRHRkLmpzPzEzMTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmVsZW1lbnRzID0gdm9pZCAwO1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpO1xuLyoqXG4gKiBFbGVtZW50cyBvZiBkb2N1bWVudCB0eXBlIGRlc2NyaXB0aW9uXG4gKiBEZXJpdmVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3R1bmdvbC9FQk1ML2Jsb2IvbWFzdGVyL2RvY3R5cGVzL21hdHJvc2thLmR0ZFxuICogRXh0ZW5kZWQgd2l0aDpcbiAqIC0gaHR0cHM6Ly93d3cubWF0cm9za2Eub3JnL3RlY2huaWNhbC9zcGVjcy9pbmRleC5odG1sXG4gKi9cbmV4cG9ydHMuZWxlbWVudHMgPSB7XG4gICAgMHgxYTQ1ZGZhMzoge1xuICAgICAgICBuYW1lOiAnZWJtbCcsXG4gICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgMHg0Mjg2OiB7IG5hbWU6ICdlYm1sVmVyc2lvbicsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgIDB4NDJmNzogeyBuYW1lOiAnZWJtbFJlYWRWZXJzaW9uJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgMHg0MmYyOiB7IG5hbWU6ICdlYm1sTWF4SURXaWR0aCcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgIDB4NDJmMzogeyBuYW1lOiAnZWJtbE1heFNpemVXaWR0aCcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgIDB4NDI4MjogeyBuYW1lOiAnZG9jVHlwZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgMHg0Mjg3OiB7IG5hbWU6ICdkb2NUeXBlVmVyc2lvbicsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgIDB4NDI4NTogeyBuYW1lOiAnZG9jVHlwZVJlYWRWZXJzaW9uJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9IC8vIDUuMS43XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIE1hdHJvc2thIHNlZ21lbnRzXG4gICAgMHgxODUzODA2Nzoge1xuICAgICAgICBuYW1lOiAnc2VnbWVudCcsXG4gICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgLy8gTWV0YSBTZWVrIEluZm9ybWF0aW9uXG4gICAgICAgICAgICAweDExNGQ5Yjc0OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3NlZWtIZWFkJyxcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgMHg0ZGJiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnc2VlaycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDUzYWI6IHsgbmFtZTogJ3NlZWtJZCcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLmJpbmFyeSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NTNhYzogeyBuYW1lOiAnc2Vla1Bvc2l0aW9uJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gU2VnbWVudCBJbmZvcm1hdGlvblxuICAgICAgICAgICAgMHgxNTQ5YTk2Njoge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdpbmZvJyxcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgMHg3M2E0OiB7IG5hbWU6ICd1aWQnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aWQgfSxcbiAgICAgICAgICAgICAgICAgICAgMHg3Mzg0OiB7IG5hbWU6ICdmaWxlbmFtZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAweDNjYjkyMzogeyBuYW1lOiAncHJldlVJRCcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpZCB9LFxuICAgICAgICAgICAgICAgICAgICAweDNjODNhYjogeyBuYW1lOiAncHJldkZpbGVuYW1lJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgIDB4M2ViOTIzOiB7IG5hbWU6ICduZXh0VUlEJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWlkIH0sXG4gICAgICAgICAgICAgICAgICAgIDB4M2U4M2JiOiB7IG5hbWU6ICduZXh0RmlsZW5hbWUnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5zdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgMHgyYWQ3YjE6IHsgbmFtZTogJ3RpbWVjb2RlU2NhbGUnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgIDB4NDQ4OTogeyBuYW1lOiAnZHVyYXRpb24nLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5mbG9hdCB9LFxuICAgICAgICAgICAgICAgICAgICAweDQ0NjE6IHsgbmFtZTogJ2RhdGVVVEMnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgIDB4N2JhOTogeyBuYW1lOiAndGl0bGUnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5zdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgMHg0ZDgwOiB7IG5hbWU6ICdtdXhpbmdBcHAnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5zdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgMHg1NzQxOiB7IG5hbWU6ICd3cml0aW5nQXBwJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUuc3RyaW5nIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gQ2x1c3RlclxuICAgICAgICAgICAgMHgxZjQzYjY3NToge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdjbHVzdGVyJyxcbiAgICAgICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgMHhlNzogeyBuYW1lOiAndGltZWNvZGUnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aWQgfSxcbiAgICAgICAgICAgICAgICAgICAgMHhhMzogeyBuYW1lOiAndW5rbm93bicsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLmJpbmFyeSB9LFxuICAgICAgICAgICAgICAgICAgICAweGE3OiB7IG5hbWU6ICdwb3NpdGlvbicsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpZCB9LFxuICAgICAgICAgICAgICAgICAgICAweGFiOiB7IG5hbWU6ICdwcmV2U2l6ZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpZCB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFRyYWNrXG4gICAgICAgICAgICAweDE2NTRhZTZiOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3RyYWNrcycsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIDB4YWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdlbnRyaWVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMHhkNzogeyBuYW1lOiAndHJhY2tOdW1iZXInLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg3M2M1OiB7IG5hbWU6ICd1aWQnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDgzOiB7IG5hbWU6ICd0cmFja1R5cGUnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMHhiOTogeyBuYW1lOiAnZmxhZ0VuYWJsZWQnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5ib29sIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg4ODogeyBuYW1lOiAnZmxhZ0RlZmF1bHQnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5ib29sIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg1NWFhOiB7IG5hbWU6ICdmbGFnRm9yY2VkJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUuYm9vbCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4OWM6IHsgbmFtZTogJ2ZsYWdMYWNpbmcnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5ib29sIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg2ZGU3OiB7IG5hbWU6ICdtaW5DYWNoZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDZkZTg6IHsgbmFtZTogJ21heENhY2hlJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MjNlMzgzOiB7IG5hbWU6ICdkZWZhdWx0RHVyYXRpb24nLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgyMzMxNGY6IHsgbmFtZTogJ3RpbWVjb2RlU2NhbGUnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5mbG9hdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NTM2ZTogeyBuYW1lOiAnbmFtZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MjJiNTljOiB7IG5hbWU6ICdsYW5ndWFnZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4ODY6IHsgbmFtZTogJ2NvZGVjSUQnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5zdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDYzYTI6IHsgbmFtZTogJ2NvZGVjUHJpdmF0ZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLmJpbmFyeSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MjU4Njg4OiB7IG5hbWU6ICdjb2RlY05hbWUnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5zdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDNhOTY5NzogeyBuYW1lOiAnY29kZWNTZXR0aW5ncycsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4M2I0MDQwOiB7IG5hbWU6ICdjb2RlY0luZm9VcmwnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5zdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDI2YjI0MDogeyBuYW1lOiAnY29kZWNEb3dubG9hZFVybCcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4YWE6IHsgbmFtZTogJ2NvZGVjRGVjb2RlQWxsJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUuYm9vbCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NmZhYjogeyBuYW1lOiAndHJhY2tPdmVybGF5JywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZpZGVvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMHhlMDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAndmlkZW8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4OWE6IHsgbmFtZTogJ2ZsYWdJbnRlcmxhY2VkJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUuYm9vbCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg1M2I4OiB7IG5hbWU6ICdzdGVyZW9Nb2RlJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHhiMDogeyBuYW1lOiAncGl4ZWxXaWR0aCcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4YmE6IHsgbmFtZTogJ3BpeGVsSGVpZ2h0JywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg1NGIwOiB7IG5hbWU6ICdkaXNwbGF5V2lkdGgnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDU0YmE6IHsgbmFtZTogJ2Rpc3BsYXlIZWlnaHQnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDU0YjM6IHsgbmFtZTogJ2FzcGVjdFJhdGlvVHlwZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MmViNTI0OiB7IG5hbWU6ICdjb2xvdXJTcGFjZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MmZiNTIzOiB7IG5hbWU6ICdnYW1tYVZhbHVlJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUuZmxvYXQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBdWRpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZTE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2F1ZGlvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweGI1OiB7IG5hbWU6ICdzYW1wbGluZ0ZyZXF1ZW5jeScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLmZsb2F0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDc4YjU6IHsgbmFtZTogJ291dHB1dFNhbXBsaW5nRnJlcXVlbmN5JywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUuZmxvYXQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4OWY6IHsgbmFtZTogJ2NoYW5uZWxzJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg5NDogeyBuYW1lOiAnY2hhbm5lbHMnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDdkN2I6IHsgbmFtZTogJ2NoYW5uZWxQb3NpdGlvbnMnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5iaW5hcnkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NjI2NDogeyBuYW1lOiAnYml0RGVwdGgnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udGVudCBFbmNvZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NmQ4MDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29udGVudEVuY29kaW5ncycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg2MjQwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbnRlbnRFbmNvZGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NTAzMTogeyBuYW1lOiAnb3JkZXInLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NTAzMjogeyBuYW1lOiAnc2NvcGUnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5ib29sIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NTAzMzogeyBuYW1lOiAndHlwZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg1MDM0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29udGVudEVuY29kaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NDI1NDogeyBuYW1lOiAnY29udGVudENvbXBBbGdvJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NDI1NTogeyBuYW1lOiAnY29udGVudENvbXBTZXR0aW5ncycsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLmJpbmFyeSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NTAzNToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbnRlbnRFbmNvZGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDQ3ZTE6IHsgbmFtZTogJ2NvbnRlbnRFbmNBbGdvJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NDdlMjogeyBuYW1lOiAnY29udGVudEVuY0tleUlEJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUuYmluYXJ5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg0N2UzOiB7IG5hbWU6ICdjb250ZW50U2lnbmF0dXJlICcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLmJpbmFyeSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NDdlNDogeyBuYW1lOiAnQ29udGVudFNpZ0tleUlEICAnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5iaW5hcnkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDQ3ZTU6IHsgbmFtZTogJ2NvbnRlbnRTaWdBbGdvICcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDQ3ZTY6IHsgbmFtZTogJ2NvbnRlbnRTaWdIYXNoQWxnbyAnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg2MjY0OiB7IG5hbWU6ICdiaXREZXB0aCcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBDdWVpbmcgRGF0YVxuICAgICAgICAgICAgMHgxYzUzYmI2Yjoge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdjdWVzJyxcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgMHhiYjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2N1ZVBvaW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4YjM6IHsgbmFtZTogJ2N1ZVRpbWUnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweGI3OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwb3NpdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4Zjc6IHsgbmFtZTogJ3RyYWNrJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHhmMTogeyBuYW1lOiAnY2x1c3RlclBvc2l0aW9uJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg1Mzc4OiB7IG5hbWU6ICdibG9ja051bWJlcicsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZWE6IHsgbmFtZTogJ2NvZGVjU3RhdGUnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweGRiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3JlZmVyZW5jZScsIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDk2OiB7IG5hbWU6ICd0aW1lJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDk3OiB7IG5hbWU6ICdjbHVzdGVyJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDUzNWY6IHsgbmFtZTogJ251bWJlcicsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHhlYjogeyBuYW1lOiAnY29kZWNTdGF0ZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweGYwOiB7IG5hbWU6ICdyZWxhdGl2ZVBvc2l0aW9uJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWludCB9IC8vIGV4dGVuZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gQXR0YWNobWVudFxuICAgICAgICAgICAgMHgxOTQxYTQ2OToge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdhdHRhY2htZW50cycsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIDB4NjFhNzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2F0dGFjaGVkRmlsZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDQ2N2U6IHsgbmFtZTogJ2Rlc2NyaXB0aW9uJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg0NjZlOiB7IG5hbWU6ICduYW1lJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg0NjYwOiB7IG5hbWU6ICdtaW1lVHlwZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NDY1YzogeyBuYW1lOiAnZGF0YScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLmJpbmFyeSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NDZhZTogeyBuYW1lOiAndWlkJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWlkIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBDaGFwdGVyc1xuICAgICAgICAgICAgMHgxMDQzYTc3MDoge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdjaGFwdGVycycsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIDB4NDViOToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2VkaXRpb25FbnRyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweGI2OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjaGFwdGVyQXRvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg3M2M0OiB7IG5hbWU6ICd1aWQnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4OTE6IHsgbmFtZTogJ3RpbWVTdGFydCcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4OTI6IHsgbmFtZTogJ3RpbWVFbmQnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4OTg6IHsgbmFtZTogJ2hpZGRlbicsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLmJvb2wgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NDU5ODogeyBuYW1lOiAnZW5hYmxlZCcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnVpZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg4ZjogeyBuYW1lOiAndHJhY2snLCBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg4OTogeyBuYW1lOiAndHJhY2tOdW1iZXInLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg4MDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2Rpc3BsYXknLCBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDg1OiB7IG5hbWU6ICdzdHJpbmcnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5zdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDQzN2M6IHsgbmFtZTogJ2xhbmd1YWdlICcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NDM3ZTogeyBuYW1lOiAnY291bnRyeSAnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5zdHJpbmcgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFRhZ2dpbmdcbiAgICAgICAgICAgIDB4MTI1NGMzNjc6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAndGFncycsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIDB4NzM3Mzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3RhZycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NjNjMDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAndGFyZ2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDYzYzU6IHsgbmFtZTogJ3RhZ1RyYWNrVUlEJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUudWlkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDYzYzQ6IHsgbmFtZTogJ3RhZ0NoYXB0ZXJVSUQnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDYzYzY6IHsgbmFtZTogJ3RhZ0F0dGFjaG1lbnRVSUQnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NjNjYTogeyBuYW1lOiAndGFyZ2V0VHlwZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg2OGNhOiB7IG5hbWU6ICd0YXJnZXRUeXBlVmFsdWUnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDYzYzk6IHsgbmFtZTogJ3RhZ0VkaXRpb25VSUQnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS51aWQgfSAvLyBleHRlbmRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDY3Yzg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3NpbXBsZVRhZ3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDQ1YTM6IHsgbmFtZTogJ25hbWUnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5zdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NDQ4NzogeyBuYW1lOiAnc3RyaW5nJywgdmFsdWU6IHR5cGVzXzEuRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDQ0ODU6IHsgbmFtZTogJ2JpbmFyeScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLmJpbmFyeSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg0NDdhOiB7IG5hbWU6ICdsYW5ndWFnZScsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg0NDdiOiB7IG5hbWU6ICdsYW5ndWFnZUlFVEYnLCB2YWx1ZTogdHlwZXNfMS5EYXRhVHlwZS5zdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NDQ4NDogeyBuYW1lOiAnZGVmYXVsdCcsIHZhbHVlOiB0eXBlc18xLkRhdGFUeXBlLmJvb2wgfSAvLyBleHRlbmRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaDtd.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaParser.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/matroska/MatroskaParser.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MatroskaParser = void 0;\nconst token_types_1 = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/music-metadata/lib/matroska/types.js\");\nconst matroskaDtd = __webpack_require__(/*! ./MatroskaDtd */ \"(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaDtd.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:matroska');\n/**\n * Extensible Binary Meta Language (EBML) parser\n * https://en.wikipedia.org/wiki/Extensible_Binary_Meta_Language\n * http://matroska.sourceforge.net/technical/specs/rfc/index.html\n *\n * WEBM VP8 AUDIO FILE\n */\nclass MatroskaParser extends BasicParser_1.BasicParser {\n    constructor() {\n        super();\n        this.padding = 0;\n        this.parserMap = new Map();\n        this.ebmlMaxIDLength = 4;\n        this.ebmlMaxSizeLength = 8;\n        this.parserMap.set(types_1.DataType.uint, e => this.readUint(e));\n        this.parserMap.set(types_1.DataType.string, e => this.readString(e));\n        this.parserMap.set(types_1.DataType.binary, e => this.readBuffer(e));\n        this.parserMap.set(types_1.DataType.uid, async (e) => await this.readUint(e) === 1);\n        this.parserMap.set(types_1.DataType.bool, e => this.readFlag(e));\n        this.parserMap.set(types_1.DataType.float, e => this.readFloat(e));\n    }\n    /**\n     * Initialize parser with output (metadata), input (tokenizer) & parsing options (options).\n     * @param {INativeMetadataCollector} metadata Output\n     * @param {ITokenizer} tokenizer Input\n     * @param {IOptions} options Parsing options\n     */\n    init(metadata, tokenizer, options) {\n        super.init(metadata, tokenizer, options);\n        return this;\n    }\n    async parse() {\n        const matroska = await this.parseContainer(matroskaDtd.elements, this.tokenizer.fileInfo.size, []);\n        this.metadata.setFormat('container', `EBML/${matroska.ebml.docType}`);\n        if (matroska.segment) {\n            const info = matroska.segment.info;\n            if (info) {\n                const timecodeScale = info.timecodeScale ? info.timecodeScale : 1000000;\n                if (typeof info.duration === 'number') {\n                    const duration = info.duration * timecodeScale / 1000000000;\n                    this.addTag('segment:title', info.title);\n                    this.metadata.setFormat('duration', duration);\n                }\n            }\n            const audioTracks = matroska.segment.tracks;\n            if (audioTracks && audioTracks.entries) {\n                audioTracks.entries.forEach(entry => {\n                    const stream = {\n                        codecName: entry.codecID.replace('A_', '').replace('V_', ''),\n                        codecSettings: entry.codecSettings,\n                        flagDefault: entry.flagDefault,\n                        flagLacing: entry.flagLacing,\n                        flagEnabled: entry.flagEnabled,\n                        language: entry.language,\n                        name: entry.name,\n                        type: entry.trackType,\n                        audio: entry.audio,\n                        video: entry.video\n                    };\n                    this.metadata.addStreamInfo(stream);\n                });\n                const audioTrack = audioTracks.entries\n                    .filter(entry => {\n                    return entry.trackType === types_1.TrackType.audio.valueOf();\n                })\n                    .reduce((acc, cur) => {\n                    if (!acc) {\n                        return cur;\n                    }\n                    if (!acc.flagDefault && cur.flagDefault) {\n                        return cur;\n                    }\n                    if (cur.trackNumber && cur.trackNumber < acc.trackNumber) {\n                        return cur;\n                    }\n                    return acc;\n                }, null);\n                if (audioTrack) {\n                    this.metadata.setFormat('codec', audioTrack.codecID.replace('A_', ''));\n                    this.metadata.setFormat('sampleRate', audioTrack.audio.samplingFrequency);\n                    this.metadata.setFormat('numberOfChannels', audioTrack.audio.channels);\n                }\n                if (matroska.segment.tags) {\n                    matroska.segment.tags.tag.forEach(tag => {\n                        const target = tag.target;\n                        const targetType = (target === null || target === void 0 ? void 0 : target.targetTypeValue) ? types_1.TargetType[target.targetTypeValue] : ((target === null || target === void 0 ? void 0 : target.targetType) ? target.targetType : 'track');\n                        tag.simpleTags.forEach(simpleTag => {\n                            const value = simpleTag.string ? simpleTag.string : simpleTag.binary;\n                            this.addTag(`${targetType}:${simpleTag.name}`, value);\n                        });\n                    });\n                }\n                if (matroska.segment.attachments) {\n                    matroska.segment.attachments.attachedFiles\n                        .filter(file => file.mimeType.startsWith('image/'))\n                        .map(file => {\n                        return {\n                            data: file.data,\n                            format: file.mimeType,\n                            description: file.description,\n                            name: file.name\n                        };\n                    }).forEach(picture => {\n                        this.addTag('picture', picture);\n                    });\n                }\n            }\n        }\n    }\n    async parseContainer(container, posDone, path) {\n        const tree = {};\n        while (this.tokenizer.position < posDone) {\n            let element;\n            try {\n                element = await this.readElement();\n            }\n            catch (error) {\n                if (error.message === 'End-Of-Stream') {\n                    break;\n                }\n                throw error;\n            }\n            const type = container[element.id];\n            if (type) {\n                debug(`Element: name=${type.name}, container=${!!type.container}`);\n                if (type.container) {\n                    const res = await this.parseContainer(type.container, element.len >= 0 ? this.tokenizer.position + element.len : -1, path.concat([type.name]));\n                    if (type.multiple) {\n                        if (!tree[type.name]) {\n                            tree[type.name] = [];\n                        }\n                        tree[type.name].push(res);\n                    }\n                    else {\n                        tree[type.name] = res;\n                    }\n                }\n                else {\n                    tree[type.name] = await this.parserMap.get(type.value)(element);\n                }\n            }\n            else {\n                switch (element.id) {\n                    case 0xec: // void\n                        this.padding += element.len;\n                        await this.tokenizer.ignore(element.len);\n                        break;\n                    default:\n                        debug(`parseEbml: path=${path.join('/')}, unknown element: id=${element.id.toString(16)}`);\n                        this.padding += element.len;\n                        await this.tokenizer.ignore(element.len);\n                }\n            }\n        }\n        return tree;\n    }\n    async readVintData(maxLength) {\n        const msb = await this.tokenizer.peekNumber(token_types_1.UINT8);\n        let mask = 0x80;\n        let oc = 1;\n        // Calculate VINT_WIDTH\n        while ((msb & mask) === 0) {\n            if (oc > maxLength) {\n                throw new Error('VINT value exceeding maximum size');\n            }\n            ++oc;\n            mask >>= 1;\n        }\n        const id = Buffer.alloc(oc);\n        await this.tokenizer.readBuffer(id);\n        return id;\n    }\n    async readElement() {\n        const id = await this.readVintData(this.ebmlMaxIDLength);\n        const lenField = await this.readVintData(this.ebmlMaxSizeLength);\n        lenField[0] ^= 0x80 >> (lenField.length - 1);\n        const nrLen = Math.min(6, lenField.length); // JavaScript can max read 6 bytes integer\n        return {\n            id: id.readUIntBE(0, id.length),\n            len: lenField.readUIntBE(lenField.length - nrLen, nrLen)\n        };\n    }\n    isMaxValue(vintData) {\n        if (vintData.length === this.ebmlMaxSizeLength) {\n            for (let n = 1; n < this.ebmlMaxSizeLength; ++n) {\n                if (vintData[n] !== 0xff)\n                    return false;\n            }\n            return true;\n        }\n        return false;\n    }\n    async readFloat(e) {\n        switch (e.len) {\n            case 0:\n                return 0.0;\n            case 4:\n                return this.tokenizer.readNumber(token_types_1.Float32_BE);\n            case 8:\n                return this.tokenizer.readNumber(token_types_1.Float64_BE);\n            case 10:\n                return this.tokenizer.readNumber(token_types_1.Float64_BE);\n            default:\n                throw new Error(`Invalid IEEE-754 float length: ${e.len}`);\n        }\n    }\n    async readFlag(e) {\n        return (await this.readUint(e)) === 1;\n    }\n    async readUint(e) {\n        const buf = await this.readBuffer(e);\n        const nrLen = Math.min(6, e.len); // JavaScript can max read 6 bytes integer\n        return buf.readUIntBE(e.len - nrLen, nrLen);\n    }\n    async readString(e) {\n        const rawString = await this.tokenizer.readToken(new token_types_1.StringType(e.len, 'utf-8'));\n        return rawString.replace(/\\00.*$/g, '');\n    }\n    async readBuffer(e) {\n        const buf = Buffer.alloc(e.len);\n        await this.tokenizer.readBuffer(buf);\n        return buf;\n    }\n    addTag(tagId, value) {\n        this.metadata.addTag('matroska', tagId, value);\n    }\n}\nexports.MatroskaParser = MatroskaParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL01hdHJvc2thUGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QixzQkFBc0IsbUJBQU8sQ0FBQyxrRUFBYTtBQUMzQyxnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBTztBQUMvQixzQkFBc0IsbUJBQU8sQ0FBQyw0RkFBdUI7QUFDckQsZ0JBQWdCLG1CQUFPLENBQUMsMEVBQVM7QUFDakMsb0JBQW9CLG1CQUFPLENBQUMsc0ZBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwQkFBMEI7QUFDekMsZUFBZSxZQUFZO0FBQzNCLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxzQkFBc0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFdBQVcsR0FBRyxlQUFlO0FBQ3hFLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxVQUFVLGNBQWMsaUJBQWlCO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsZUFBZSx3QkFBd0Isd0JBQXdCO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLE1BQU07QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL01hdHJvc2thUGFyc2VyLmpzPzQ3NjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1hdHJvc2thUGFyc2VyID0gdm9pZCAwO1xuY29uc3QgdG9rZW5fdHlwZXNfMSA9IHJlcXVpcmUoXCJ0b2tlbi10eXBlc1wiKTtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCBCYXNpY1BhcnNlcl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9CYXNpY1BhcnNlclwiKTtcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbmNvbnN0IG1hdHJvc2thRHRkID0gcmVxdWlyZShcIi4vTWF0cm9za2FEdGRcIik7XG5jb25zdCBkZWJ1ZyA9ICgwLCBkZWJ1Z18xLmRlZmF1bHQpKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6bWF0cm9za2EnKTtcbi8qKlxuICogRXh0ZW5zaWJsZSBCaW5hcnkgTWV0YSBMYW5ndWFnZSAoRUJNTCkgcGFyc2VyXG4gKiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHRlbnNpYmxlX0JpbmFyeV9NZXRhX0xhbmd1YWdlXG4gKiBodHRwOi8vbWF0cm9za2Euc291cmNlZm9yZ2UubmV0L3RlY2huaWNhbC9zcGVjcy9yZmMvaW5kZXguaHRtbFxuICpcbiAqIFdFQk0gVlA4IEFVRElPIEZJTEVcbiAqL1xuY2xhc3MgTWF0cm9za2FQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlcl8xLkJhc2ljUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wYWRkaW5nID0gMDtcbiAgICAgICAgdGhpcy5wYXJzZXJNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZWJtbE1heElETGVuZ3RoID0gNDtcbiAgICAgICAgdGhpcy5lYm1sTWF4U2l6ZUxlbmd0aCA9IDg7XG4gICAgICAgIHRoaXMucGFyc2VyTWFwLnNldCh0eXBlc18xLkRhdGFUeXBlLnVpbnQsIGUgPT4gdGhpcy5yZWFkVWludChlKSk7XG4gICAgICAgIHRoaXMucGFyc2VyTWFwLnNldCh0eXBlc18xLkRhdGFUeXBlLnN0cmluZywgZSA9PiB0aGlzLnJlYWRTdHJpbmcoZSkpO1xuICAgICAgICB0aGlzLnBhcnNlck1hcC5zZXQodHlwZXNfMS5EYXRhVHlwZS5iaW5hcnksIGUgPT4gdGhpcy5yZWFkQnVmZmVyKGUpKTtcbiAgICAgICAgdGhpcy5wYXJzZXJNYXAuc2V0KHR5cGVzXzEuRGF0YVR5cGUudWlkLCBhc3luYyAoZSkgPT4gYXdhaXQgdGhpcy5yZWFkVWludChlKSA9PT0gMSk7XG4gICAgICAgIHRoaXMucGFyc2VyTWFwLnNldCh0eXBlc18xLkRhdGFUeXBlLmJvb2wsIGUgPT4gdGhpcy5yZWFkRmxhZyhlKSk7XG4gICAgICAgIHRoaXMucGFyc2VyTWFwLnNldCh0eXBlc18xLkRhdGFUeXBlLmZsb2F0LCBlID0+IHRoaXMucmVhZEZsb2F0KGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBwYXJzZXIgd2l0aCBvdXRwdXQgKG1ldGFkYXRhKSwgaW5wdXQgKHRva2VuaXplcikgJiBwYXJzaW5nIG9wdGlvbnMgKG9wdGlvbnMpLlxuICAgICAqIEBwYXJhbSB7SU5hdGl2ZU1ldGFkYXRhQ29sbGVjdG9yfSBtZXRhZGF0YSBPdXRwdXRcbiAgICAgKiBAcGFyYW0ge0lUb2tlbml6ZXJ9IHRva2VuaXplciBJbnB1dFxuICAgICAqIEBwYXJhbSB7SU9wdGlvbnN9IG9wdGlvbnMgUGFyc2luZyBvcHRpb25zXG4gICAgICovXG4gICAgaW5pdChtZXRhZGF0YSwgdG9rZW5pemVyLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyLmluaXQobWV0YWRhdGEsIHRva2VuaXplciwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgY29uc3QgbWF0cm9za2EgPSBhd2FpdCB0aGlzLnBhcnNlQ29udGFpbmVyKG1hdHJvc2thRHRkLmVsZW1lbnRzLCB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplLCBbXSk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb250YWluZXInLCBgRUJNTC8ke21hdHJvc2thLmVibWwuZG9jVHlwZX1gKTtcbiAgICAgICAgaWYgKG1hdHJvc2thLnNlZ21lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZm8gPSBtYXRyb3NrYS5zZWdtZW50LmluZm87XG4gICAgICAgICAgICBpZiAoaW5mbykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVjb2RlU2NhbGUgPSBpbmZvLnRpbWVjb2RlU2NhbGUgPyBpbmZvLnRpbWVjb2RlU2NhbGUgOiAxMDAwMDAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5mby5kdXJhdGlvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBpbmZvLmR1cmF0aW9uICogdGltZWNvZGVTY2FsZSAvIDEwMDAwMDAwMDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVGFnKCdzZWdtZW50OnRpdGxlJywgaW5mby50aXRsZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdkdXJhdGlvbicsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhdWRpb1RyYWNrcyA9IG1hdHJvc2thLnNlZ21lbnQudHJhY2tzO1xuICAgICAgICAgICAgaWYgKGF1ZGlvVHJhY2tzICYmIGF1ZGlvVHJhY2tzLmVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICBhdWRpb1RyYWNrcy5lbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlY05hbWU6IGVudHJ5LmNvZGVjSUQucmVwbGFjZSgnQV8nLCAnJykucmVwbGFjZSgnVl8nLCAnJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlY1NldHRpbmdzOiBlbnRyeS5jb2RlY1NldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ0RlZmF1bHQ6IGVudHJ5LmZsYWdEZWZhdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ0xhY2luZzogZW50cnkuZmxhZ0xhY2luZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdFbmFibGVkOiBlbnRyeS5mbGFnRW5hYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBlbnRyeS5sYW5ndWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGVudHJ5Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeS50cmFja1R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpbzogZW50cnkuYXVkaW8sXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlbzogZW50cnkudmlkZW9cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRTdHJlYW1JbmZvKHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXVkaW9UcmFjayA9IGF1ZGlvVHJhY2tzLmVudHJpZXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihlbnRyeSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeS50cmFja1R5cGUgPT09IHR5cGVzXzEuVHJhY2tUeXBlLmF1ZGlvLnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIGN1cikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFjYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFjYy5mbGFnRGVmYXVsdCAmJiBjdXIuZmxhZ0RlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci50cmFja051bWJlciAmJiBjdXIudHJhY2tOdW1iZXIgPCBhY2MudHJhY2tOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICB9LCBudWxsKTtcbiAgICAgICAgICAgICAgICBpZiAoYXVkaW9UcmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29kZWMnLCBhdWRpb1RyYWNrLmNvZGVjSUQucmVwbGFjZSgnQV8nLCAnJykpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnc2FtcGxlUmF0ZScsIGF1ZGlvVHJhY2suYXVkaW8uc2FtcGxpbmdGcmVxdWVuY3kpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZDaGFubmVscycsIGF1ZGlvVHJhY2suYXVkaW8uY2hhbm5lbHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWF0cm9za2Euc2VnbWVudC50YWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdHJvc2thLnNlZ21lbnQudGFncy50YWcuZm9yRWFjaCh0YWcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGFnLnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFR5cGUgPSAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFyZ2V0LnRhcmdldFR5cGVWYWx1ZSkgPyB0eXBlc18xLlRhcmdldFR5cGVbdGFyZ2V0LnRhcmdldFR5cGVWYWx1ZV0gOiAoKHRhcmdldCA9PT0gbnVsbCB8fCB0YXJnZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhcmdldC50YXJnZXRUeXBlKSA/IHRhcmdldC50YXJnZXRUeXBlIDogJ3RyYWNrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcuc2ltcGxlVGFncy5mb3JFYWNoKHNpbXBsZVRhZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzaW1wbGVUYWcuc3RyaW5nID8gc2ltcGxlVGFnLnN0cmluZyA6IHNpbXBsZVRhZy5iaW5hcnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUYWcoYCR7dGFyZ2V0VHlwZX06JHtzaW1wbGVUYWcubmFtZX1gLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXRyb3NrYS5zZWdtZW50LmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdHJvc2thLnNlZ21lbnQuYXR0YWNobWVudHMuYXR0YWNoZWRGaWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmaWxlID0+IGZpbGUubWltZVR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBmaWxlLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBmaWxlLm1pbWVUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmaWxlLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSkuZm9yRWFjaChwaWN0dXJlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVGFnKCdwaWN0dXJlJywgcGljdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwYXJzZUNvbnRhaW5lcihjb250YWluZXIsIHBvc0RvbmUsIHBhdGgpIHtcbiAgICAgICAgY29uc3QgdHJlZSA9IHt9O1xuICAgICAgICB3aGlsZSAodGhpcy50b2tlbml6ZXIucG9zaXRpb24gPCBwb3NEb25lKSB7XG4gICAgICAgICAgICBsZXQgZWxlbWVudDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGF3YWl0IHRoaXMucmVhZEVsZW1lbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlID09PSAnRW5kLU9mLVN0cmVhbScpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IGNvbnRhaW5lcltlbGVtZW50LmlkXTtcbiAgICAgICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoYEVsZW1lbnQ6IG5hbWU9JHt0eXBlLm5hbWV9LCBjb250YWluZXI9JHshIXR5cGUuY29udGFpbmVyfWApO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnBhcnNlQ29udGFpbmVyKHR5cGUuY29udGFpbmVyLCBlbGVtZW50LmxlbiA+PSAwID8gdGhpcy50b2tlbml6ZXIucG9zaXRpb24gKyBlbGVtZW50LmxlbiA6IC0xLCBwYXRoLmNvbmNhdChbdHlwZS5uYW1lXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZS5tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmVlW3R5cGUubmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlW3R5cGUubmFtZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyZWVbdHlwZS5uYW1lXS5wdXNoKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmVlW3R5cGUubmFtZV0gPSByZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyZWVbdHlwZS5uYW1lXSA9IGF3YWl0IHRoaXMucGFyc2VyTWFwLmdldCh0eXBlLnZhbHVlKShlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGVsZW1lbnQuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweGVjOiAvLyB2b2lkXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZGRpbmcgKz0gZWxlbWVudC5sZW47XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoZWxlbWVudC5sZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgcGFyc2VFYm1sOiBwYXRoPSR7cGF0aC5qb2luKCcvJyl9LCB1bmtub3duIGVsZW1lbnQ6IGlkPSR7ZWxlbWVudC5pZC50b1N0cmluZygxNil9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZGRpbmcgKz0gZWxlbWVudC5sZW47XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoZWxlbWVudC5sZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJlZTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZFZpbnREYXRhKG1heExlbmd0aCkge1xuICAgICAgICBjb25zdCBtc2IgPSBhd2FpdCB0aGlzLnRva2VuaXplci5wZWVrTnVtYmVyKHRva2VuX3R5cGVzXzEuVUlOVDgpO1xuICAgICAgICBsZXQgbWFzayA9IDB4ODA7XG4gICAgICAgIGxldCBvYyA9IDE7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBWSU5UX1dJRFRIXG4gICAgICAgIHdoaWxlICgobXNiICYgbWFzaykgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChvYyA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVklOVCB2YWx1ZSBleGNlZWRpbmcgbWF4aW11bSBzaXplJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICArK29jO1xuICAgICAgICAgICAgbWFzayA+Pj0gMTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpZCA9IEJ1ZmZlci5hbGxvYyhvYyk7XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRCdWZmZXIoaWQpO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIGFzeW5jIHJlYWRFbGVtZW50KCkge1xuICAgICAgICBjb25zdCBpZCA9IGF3YWl0IHRoaXMucmVhZFZpbnREYXRhKHRoaXMuZWJtbE1heElETGVuZ3RoKTtcbiAgICAgICAgY29uc3QgbGVuRmllbGQgPSBhd2FpdCB0aGlzLnJlYWRWaW50RGF0YSh0aGlzLmVibWxNYXhTaXplTGVuZ3RoKTtcbiAgICAgICAgbGVuRmllbGRbMF0gXj0gMHg4MCA+PiAobGVuRmllbGQubGVuZ3RoIC0gMSk7XG4gICAgICAgIGNvbnN0IG5yTGVuID0gTWF0aC5taW4oNiwgbGVuRmllbGQubGVuZ3RoKTsgLy8gSmF2YVNjcmlwdCBjYW4gbWF4IHJlYWQgNiBieXRlcyBpbnRlZ2VyXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogaWQucmVhZFVJbnRCRSgwLCBpZC5sZW5ndGgpLFxuICAgICAgICAgICAgbGVuOiBsZW5GaWVsZC5yZWFkVUludEJFKGxlbkZpZWxkLmxlbmd0aCAtIG5yTGVuLCBuckxlbilcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaXNNYXhWYWx1ZSh2aW50RGF0YSkge1xuICAgICAgICBpZiAodmludERhdGEubGVuZ3RoID09PSB0aGlzLmVibWxNYXhTaXplTGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBuID0gMTsgbiA8IHRoaXMuZWJtbE1heFNpemVMZW5ndGg7ICsrbikge1xuICAgICAgICAgICAgICAgIGlmICh2aW50RGF0YVtuXSAhPT0gMHhmZilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhc3luYyByZWFkRmxvYXQoZSkge1xuICAgICAgICBzd2l0Y2ggKGUubGVuKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDAuMDtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b2tlbml6ZXIucmVhZE51bWJlcih0b2tlbl90eXBlc18xLkZsb2F0MzJfQkUpO1xuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuaXplci5yZWFkTnVtYmVyKHRva2VuX3R5cGVzXzEuRmxvYXQ2NF9CRSk7XG4gICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuaXplci5yZWFkTnVtYmVyKHRva2VuX3R5cGVzXzEuRmxvYXQ2NF9CRSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBJRUVFLTc1NCBmbG9hdCBsZW5ndGg6ICR7ZS5sZW59YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcmVhZEZsYWcoZSkge1xuICAgICAgICByZXR1cm4gKGF3YWl0IHRoaXMucmVhZFVpbnQoZSkpID09PSAxO1xuICAgIH1cbiAgICBhc3luYyByZWFkVWludChlKSB7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IGF3YWl0IHRoaXMucmVhZEJ1ZmZlcihlKTtcbiAgICAgICAgY29uc3QgbnJMZW4gPSBNYXRoLm1pbig2LCBlLmxlbik7IC8vIEphdmFTY3JpcHQgY2FuIG1heCByZWFkIDYgYnl0ZXMgaW50ZWdlclxuICAgICAgICByZXR1cm4gYnVmLnJlYWRVSW50QkUoZS5sZW4gLSBuckxlbiwgbnJMZW4pO1xuICAgIH1cbiAgICBhc3luYyByZWFkU3RyaW5nKGUpIHtcbiAgICAgICAgY29uc3QgcmF3U3RyaW5nID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyB0b2tlbl90eXBlc18xLlN0cmluZ1R5cGUoZS5sZW4sICd1dGYtOCcpKTtcbiAgICAgICAgcmV0dXJuIHJhd1N0cmluZy5yZXBsYWNlKC9cXDAwLiokL2csICcnKTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZEJ1ZmZlcihlKSB7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5hbGxvYyhlLmxlbik7XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRCdWZmZXIoYnVmKTtcbiAgICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG4gICAgYWRkVGFnKHRhZ0lkLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFRhZygnbWF0cm9za2EnLCB0YWdJZCwgdmFsdWUpO1xuICAgIH1cbn1cbmV4cG9ydHMuTWF0cm9za2FQYXJzZXIgPSBNYXRyb3NrYVBhcnNlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaTagMapper.js":
/*!***********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/matroska/MatroskaTagMapper.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MatroskaTagMapper = void 0;\nconst CaseInsensitiveTagMap_1 = __webpack_require__(/*! ../common/CaseInsensitiveTagMap */ \"(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js\");\n/**\n * EBML Tag map\n */\nconst ebmlTagMap = {\n    'segment:title': 'title',\n    'album:ARTIST': 'albumartist',\n    'album:ARTISTSORT': 'albumartistsort',\n    'album:TITLE': 'album',\n    'album:DATE_RECORDED': 'originaldate',\n    'album:PART_NUMBER': 'disk',\n    'album:TOTAL_PARTS': 'totaltracks',\n    'track:ARTIST': 'artist',\n    'track:ARTISTSORT': 'artistsort',\n    'track:TITLE': 'title',\n    'track:PART_NUMBER': 'track',\n    'track:MUSICBRAINZ_TRACKID': 'musicbrainz_recordingid',\n    'track:MUSICBRAINZ_ALBUMID': 'musicbrainz_albumid',\n    'track:MUSICBRAINZ_ARTISTID': 'musicbrainz_artistid',\n    'track:PUBLISHER': 'label',\n    'track:GENRE': 'genre',\n    'track:ENCODER': 'encodedby',\n    'track:ENCODER_OPTIONS': 'encodersettings',\n    'edition:TOTAL_PARTS': 'totaldiscs',\n    picture: 'picture'\n};\nclass MatroskaTagMapper extends CaseInsensitiveTagMap_1.CaseInsensitiveTagMap {\n    constructor() {\n        super(['matroska'], ebmlTagMap);\n    }\n}\nexports.MatroskaTagMapper = MatroskaTagMapper;\n//# sourceMappingURL=MatroskaTagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL01hdHJvc2thVGFnTWFwcGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QjtBQUN6QixnQ0FBZ0MsbUJBQU8sQ0FBQyxnSEFBaUM7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL01hdHJvc2thVGFnTWFwcGVyLmpzPzIwNGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1hdHJvc2thVGFnTWFwcGVyID0gdm9pZCAwO1xuY29uc3QgQ2FzZUluc2Vuc2l0aXZlVGFnTWFwXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL0Nhc2VJbnNlbnNpdGl2ZVRhZ01hcFwiKTtcbi8qKlxuICogRUJNTCBUYWcgbWFwXG4gKi9cbmNvbnN0IGVibWxUYWdNYXAgPSB7XG4gICAgJ3NlZ21lbnQ6dGl0bGUnOiAndGl0bGUnLFxuICAgICdhbGJ1bTpBUlRJU1QnOiAnYWxidW1hcnRpc3QnLFxuICAgICdhbGJ1bTpBUlRJU1RTT1JUJzogJ2FsYnVtYXJ0aXN0c29ydCcsXG4gICAgJ2FsYnVtOlRJVExFJzogJ2FsYnVtJyxcbiAgICAnYWxidW06REFURV9SRUNPUkRFRCc6ICdvcmlnaW5hbGRhdGUnLFxuICAgICdhbGJ1bTpQQVJUX05VTUJFUic6ICdkaXNrJyxcbiAgICAnYWxidW06VE9UQUxfUEFSVFMnOiAndG90YWx0cmFja3MnLFxuICAgICd0cmFjazpBUlRJU1QnOiAnYXJ0aXN0JyxcbiAgICAndHJhY2s6QVJUSVNUU09SVCc6ICdhcnRpc3Rzb3J0JyxcbiAgICAndHJhY2s6VElUTEUnOiAndGl0bGUnLFxuICAgICd0cmFjazpQQVJUX05VTUJFUic6ICd0cmFjaycsXG4gICAgJ3RyYWNrOk1VU0lDQlJBSU5aX1RSQUNLSUQnOiAnbXVzaWNicmFpbnpfcmVjb3JkaW5naWQnLFxuICAgICd0cmFjazpNVVNJQ0JSQUlOWl9BTEJVTUlEJzogJ211c2ljYnJhaW56X2FsYnVtaWQnLFxuICAgICd0cmFjazpNVVNJQ0JSQUlOWl9BUlRJU1RJRCc6ICdtdXNpY2JyYWluel9hcnRpc3RpZCcsXG4gICAgJ3RyYWNrOlBVQkxJU0hFUic6ICdsYWJlbCcsXG4gICAgJ3RyYWNrOkdFTlJFJzogJ2dlbnJlJyxcbiAgICAndHJhY2s6RU5DT0RFUic6ICdlbmNvZGVkYnknLFxuICAgICd0cmFjazpFTkNPREVSX09QVElPTlMnOiAnZW5jb2RlcnNldHRpbmdzJyxcbiAgICAnZWRpdGlvbjpUT1RBTF9QQVJUUyc6ICd0b3RhbGRpc2NzJyxcbiAgICBwaWN0dXJlOiAncGljdHVyZSdcbn07XG5jbGFzcyBNYXRyb3NrYVRhZ01hcHBlciBleHRlbmRzIENhc2VJbnNlbnNpdGl2ZVRhZ01hcF8xLkNhc2VJbnNlbnNpdGl2ZVRhZ01hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFsnbWF0cm9za2EnXSwgZWJtbFRhZ01hcCk7XG4gICAgfVxufVxuZXhwb3J0cy5NYXRyb3NrYVRhZ01hcHBlciA9IE1hdHJvc2thVGFnTWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWF0cm9za2FUYWdNYXBwZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaTagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/matroska/types.js":
/*!***********************************************************!*\
  !*** ./node_modules/music-metadata/lib/matroska/types.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TrackType = exports.TargetType = exports.DataType = void 0;\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"string\"] = 0] = \"string\";\n    DataType[DataType[\"uint\"] = 1] = \"uint\";\n    DataType[DataType[\"uid\"] = 2] = \"uid\";\n    DataType[DataType[\"bool\"] = 3] = \"bool\";\n    DataType[DataType[\"binary\"] = 4] = \"binary\";\n    DataType[DataType[\"float\"] = 5] = \"float\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nvar TargetType;\n(function (TargetType) {\n    TargetType[TargetType[\"shot\"] = 10] = \"shot\";\n    TargetType[TargetType[\"scene\"] = 20] = \"scene\";\n    TargetType[TargetType[\"track\"] = 30] = \"track\";\n    TargetType[TargetType[\"part\"] = 40] = \"part\";\n    TargetType[TargetType[\"album\"] = 50] = \"album\";\n    TargetType[TargetType[\"edition\"] = 60] = \"edition\";\n    TargetType[TargetType[\"collection\"] = 70] = \"collection\";\n})(TargetType = exports.TargetType || (exports.TargetType = {}));\nvar TrackType;\n(function (TrackType) {\n    TrackType[TrackType[\"video\"] = 1] = \"video\";\n    TrackType[TrackType[\"audio\"] = 2] = \"audio\";\n    TrackType[TrackType[\"complex\"] = 3] = \"complex\";\n    TrackType[TrackType[\"logo\"] = 4] = \"logo\";\n    TrackType[TrackType[\"subtitle\"] = 17] = \"subtitle\";\n    TrackType[TrackType[\"button\"] = 18] = \"button\";\n    TrackType[TrackType[\"control\"] = 32] = \"control\";\n})(TrackType = exports.TrackType || (exports.TrackType = {}));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL3R5cGVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixHQUFHLGtCQUFrQixHQUFHLGdCQUFnQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrQ0FBa0MsZ0JBQWdCLEtBQUs7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQ0FBc0Msa0JBQWtCLEtBQUs7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQ0FBb0MsaUJBQWlCLEtBQUs7QUFDM0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbWF0cm9za2EvdHlwZXMuanM/NzhiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVHJhY2tUeXBlID0gZXhwb3J0cy5UYXJnZXRUeXBlID0gZXhwb3J0cy5EYXRhVHlwZSA9IHZvaWQgMDtcbnZhciBEYXRhVHlwZTtcbihmdW5jdGlvbiAoRGF0YVR5cGUpIHtcbiAgICBEYXRhVHlwZVtEYXRhVHlwZVtcInN0cmluZ1wiXSA9IDBdID0gXCJzdHJpbmdcIjtcbiAgICBEYXRhVHlwZVtEYXRhVHlwZVtcInVpbnRcIl0gPSAxXSA9IFwidWludFwiO1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1widWlkXCJdID0gMl0gPSBcInVpZFwiO1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1wiYm9vbFwiXSA9IDNdID0gXCJib29sXCI7XG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJiaW5hcnlcIl0gPSA0XSA9IFwiYmluYXJ5XCI7XG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJmbG9hdFwiXSA9IDVdID0gXCJmbG9hdFwiO1xufSkoRGF0YVR5cGUgPSBleHBvcnRzLkRhdGFUeXBlIHx8IChleHBvcnRzLkRhdGFUeXBlID0ge30pKTtcbnZhciBUYXJnZXRUeXBlO1xuKGZ1bmN0aW9uIChUYXJnZXRUeXBlKSB7XG4gICAgVGFyZ2V0VHlwZVtUYXJnZXRUeXBlW1wic2hvdFwiXSA9IDEwXSA9IFwic2hvdFwiO1xuICAgIFRhcmdldFR5cGVbVGFyZ2V0VHlwZVtcInNjZW5lXCJdID0gMjBdID0gXCJzY2VuZVwiO1xuICAgIFRhcmdldFR5cGVbVGFyZ2V0VHlwZVtcInRyYWNrXCJdID0gMzBdID0gXCJ0cmFja1wiO1xuICAgIFRhcmdldFR5cGVbVGFyZ2V0VHlwZVtcInBhcnRcIl0gPSA0MF0gPSBcInBhcnRcIjtcbiAgICBUYXJnZXRUeXBlW1RhcmdldFR5cGVbXCJhbGJ1bVwiXSA9IDUwXSA9IFwiYWxidW1cIjtcbiAgICBUYXJnZXRUeXBlW1RhcmdldFR5cGVbXCJlZGl0aW9uXCJdID0gNjBdID0gXCJlZGl0aW9uXCI7XG4gICAgVGFyZ2V0VHlwZVtUYXJnZXRUeXBlW1wiY29sbGVjdGlvblwiXSA9IDcwXSA9IFwiY29sbGVjdGlvblwiO1xufSkoVGFyZ2V0VHlwZSA9IGV4cG9ydHMuVGFyZ2V0VHlwZSB8fCAoZXhwb3J0cy5UYXJnZXRUeXBlID0ge30pKTtcbnZhciBUcmFja1R5cGU7XG4oZnVuY3Rpb24gKFRyYWNrVHlwZSkge1xuICAgIFRyYWNrVHlwZVtUcmFja1R5cGVbXCJ2aWRlb1wiXSA9IDFdID0gXCJ2aWRlb1wiO1xuICAgIFRyYWNrVHlwZVtUcmFja1R5cGVbXCJhdWRpb1wiXSA9IDJdID0gXCJhdWRpb1wiO1xuICAgIFRyYWNrVHlwZVtUcmFja1R5cGVbXCJjb21wbGV4XCJdID0gM10gPSBcImNvbXBsZXhcIjtcbiAgICBUcmFja1R5cGVbVHJhY2tUeXBlW1wibG9nb1wiXSA9IDRdID0gXCJsb2dvXCI7XG4gICAgVHJhY2tUeXBlW1RyYWNrVHlwZVtcInN1YnRpdGxlXCJdID0gMTddID0gXCJzdWJ0aXRsZVwiO1xuICAgIFRyYWNrVHlwZVtUcmFja1R5cGVbXCJidXR0b25cIl0gPSAxOF0gPSBcImJ1dHRvblwiO1xuICAgIFRyYWNrVHlwZVtUcmFja1R5cGVbXCJjb250cm9sXCJdID0gMzJdID0gXCJjb250cm9sXCI7XG59KShUcmFja1R5cGUgPSBleHBvcnRzLlRyYWNrVHlwZSB8fCAoZXhwb3J0cy5UcmFja1R5cGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/matroska/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mp4/Atom.js":
/*!*****************************************************!*\
  !*** ./node_modules/music-metadata/lib/mp4/Atom.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Atom = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst AtomToken = __webpack_require__(/*! ./AtomToken */ \"(ssr)/./node_modules/music-metadata/lib/mp4/AtomToken.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:MP4:Atom');\nclass Atom {\n    static async readAtom(tokenizer, dataHandler, parent, remaining) {\n        // Parse atom header\n        const offset = tokenizer.position;\n        // debug(`Reading next token on offset=${offset}...`); //  buf.toString('ascii')\n        const header = await tokenizer.readToken(AtomToken.Header);\n        const extended = header.length === BigInt(1);\n        if (extended) {\n            header.length = await tokenizer.readToken(AtomToken.ExtendedSize);\n        }\n        const atomBean = new Atom(header, header.length === BigInt(1), parent);\n        const payloadLength = atomBean.getPayloadLength(remaining);\n        debug(`parse atom name=${atomBean.atomPath}, extended=${atomBean.extended}, offset=${offset}, len=${atomBean.header.length}`); //  buf.toString('ascii')\n        await atomBean.readData(tokenizer, dataHandler, payloadLength);\n        return atomBean;\n    }\n    constructor(header, extended, parent) {\n        this.header = header;\n        this.extended = extended;\n        this.parent = parent;\n        this.children = [];\n        this.atomPath = (this.parent ? this.parent.atomPath + '.' : '') + this.header.name;\n    }\n    getHeaderLength() {\n        return this.extended ? 16 : 8;\n    }\n    getPayloadLength(remaining) {\n        return (this.header.length === BigInt(0) ? remaining : Number(this.header.length)) - this.getHeaderLength();\n    }\n    async readAtoms(tokenizer, dataHandler, size) {\n        while (size > 0) {\n            const atomBean = await Atom.readAtom(tokenizer, dataHandler, this, size);\n            this.children.push(atomBean);\n            size -= atomBean.header.length === BigInt(0) ? size : Number(atomBean.header.length);\n        }\n    }\n    async readData(tokenizer, dataHandler, remaining) {\n        switch (this.header.name) {\n            // \"Container\" atoms, contains nested atoms\n            case 'moov': // The Movie Atom: contains other atoms\n            case 'udta': // User defined atom\n            case 'trak':\n            case 'mdia': // Media atom\n            case 'minf': // Media Information Atom\n            case 'stbl': // The Sample Table Atom\n            case '<id>':\n            case 'ilst':\n            case 'tref':\n                return this.readAtoms(tokenizer, dataHandler, this.getPayloadLength(remaining));\n            case 'meta': // Metadata Atom, ref: https://developer.apple.com/library/content/documentation/QuickTime/QTFF/Metadata/Metadata.html#//apple_ref/doc/uid/TP40000939-CH1-SW8\n                // meta has 4 bytes of padding, ignore\n                const peekHeader = await tokenizer.peekToken(AtomToken.Header);\n                const paddingLength = peekHeader.name === 'hdlr' ? 0 : 4;\n                await tokenizer.ignore(paddingLength);\n                return this.readAtoms(tokenizer, dataHandler, this.getPayloadLength(remaining) - paddingLength);\n            case 'mdhd': // Media header atom\n            case 'mvhd': // 'movie' => 'mvhd': movie header atom; child of Movie Atom\n            case 'tkhd':\n            case 'stsz':\n            case 'mdat':\n            default:\n                return dataHandler(this, remaining);\n        }\n    }\n}\nexports.Atom = Atom;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wNC9BdG9tLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFlBQVk7QUFDWixnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBTztBQUMvQixrQkFBa0IsbUJBQU8sQ0FBQyw2RUFBYTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU8sT0FBTztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxrQkFBa0IsYUFBYSxrQkFBa0IsV0FBVyxPQUFPLFFBQVEsdUJBQXVCLElBQUk7QUFDdkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbXA0L0F0b20uanM/OWVhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXRvbSA9IHZvaWQgMDtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCBBdG9tVG9rZW4gPSByZXF1aXJlKFwiLi9BdG9tVG9rZW5cIik7XG5jb25zdCBkZWJ1ZyA9ICgwLCBkZWJ1Z18xLmRlZmF1bHQpKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6TVA0OkF0b20nKTtcbmNsYXNzIEF0b20ge1xuICAgIHN0YXRpYyBhc3luYyByZWFkQXRvbSh0b2tlbml6ZXIsIGRhdGFIYW5kbGVyLCBwYXJlbnQsIHJlbWFpbmluZykge1xuICAgICAgICAvLyBQYXJzZSBhdG9tIGhlYWRlclxuICAgICAgICBjb25zdCBvZmZzZXQgPSB0b2tlbml6ZXIucG9zaXRpb247XG4gICAgICAgIC8vIGRlYnVnKGBSZWFkaW5nIG5leHQgdG9rZW4gb24gb2Zmc2V0PSR7b2Zmc2V0fS4uLmApOyAvLyAgYnVmLnRvU3RyaW5nKCdhc2NpaScpXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGF3YWl0IHRva2VuaXplci5yZWFkVG9rZW4oQXRvbVRva2VuLkhlYWRlcik7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkID0gaGVhZGVyLmxlbmd0aCA9PT0gQmlnSW50KDEpO1xuICAgICAgICBpZiAoZXh0ZW5kZWQpIHtcbiAgICAgICAgICAgIGhlYWRlci5sZW5ndGggPSBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKEF0b21Ub2tlbi5FeHRlbmRlZFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF0b21CZWFuID0gbmV3IEF0b20oaGVhZGVyLCBoZWFkZXIubGVuZ3RoID09PSBCaWdJbnQoMSksIHBhcmVudCk7XG4gICAgICAgIGNvbnN0IHBheWxvYWRMZW5ndGggPSBhdG9tQmVhbi5nZXRQYXlsb2FkTGVuZ3RoKHJlbWFpbmluZyk7XG4gICAgICAgIGRlYnVnKGBwYXJzZSBhdG9tIG5hbWU9JHthdG9tQmVhbi5hdG9tUGF0aH0sIGV4dGVuZGVkPSR7YXRvbUJlYW4uZXh0ZW5kZWR9LCBvZmZzZXQ9JHtvZmZzZXR9LCBsZW49JHthdG9tQmVhbi5oZWFkZXIubGVuZ3RofWApOyAvLyAgYnVmLnRvU3RyaW5nKCdhc2NpaScpXG4gICAgICAgIGF3YWl0IGF0b21CZWFuLnJlYWREYXRhKHRva2VuaXplciwgZGF0YUhhbmRsZXIsIHBheWxvYWRMZW5ndGgpO1xuICAgICAgICByZXR1cm4gYXRvbUJlYW47XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGhlYWRlciwgZXh0ZW5kZWQsIHBhcmVudCkge1xuICAgICAgICB0aGlzLmhlYWRlciA9IGhlYWRlcjtcbiAgICAgICAgdGhpcy5leHRlbmRlZCA9IGV4dGVuZGVkO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmF0b21QYXRoID0gKHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQuYXRvbVBhdGggKyAnLicgOiAnJykgKyB0aGlzLmhlYWRlci5uYW1lO1xuICAgIH1cbiAgICBnZXRIZWFkZXJMZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVuZGVkID8gMTYgOiA4O1xuICAgIH1cbiAgICBnZXRQYXlsb2FkTGVuZ3RoKHJlbWFpbmluZykge1xuICAgICAgICByZXR1cm4gKHRoaXMuaGVhZGVyLmxlbmd0aCA9PT0gQmlnSW50KDApID8gcmVtYWluaW5nIDogTnVtYmVyKHRoaXMuaGVhZGVyLmxlbmd0aCkpIC0gdGhpcy5nZXRIZWFkZXJMZW5ndGgoKTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZEF0b21zKHRva2VuaXplciwgZGF0YUhhbmRsZXIsIHNpemUpIHtcbiAgICAgICAgd2hpbGUgKHNpemUgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBhdG9tQmVhbiA9IGF3YWl0IEF0b20ucmVhZEF0b20odG9rZW5pemVyLCBkYXRhSGFuZGxlciwgdGhpcywgc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goYXRvbUJlYW4pO1xuICAgICAgICAgICAgc2l6ZSAtPSBhdG9tQmVhbi5oZWFkZXIubGVuZ3RoID09PSBCaWdJbnQoMCkgPyBzaXplIDogTnVtYmVyKGF0b21CZWFuLmhlYWRlci5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHJlYWREYXRhKHRva2VuaXplciwgZGF0YUhhbmRsZXIsIHJlbWFpbmluZykge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuaGVhZGVyLm5hbWUpIHtcbiAgICAgICAgICAgIC8vIFwiQ29udGFpbmVyXCIgYXRvbXMsIGNvbnRhaW5zIG5lc3RlZCBhdG9tc1xuICAgICAgICAgICAgY2FzZSAnbW9vdic6IC8vIFRoZSBNb3ZpZSBBdG9tOiBjb250YWlucyBvdGhlciBhdG9tc1xuICAgICAgICAgICAgY2FzZSAndWR0YSc6IC8vIFVzZXIgZGVmaW5lZCBhdG9tXG4gICAgICAgICAgICBjYXNlICd0cmFrJzpcbiAgICAgICAgICAgIGNhc2UgJ21kaWEnOiAvLyBNZWRpYSBhdG9tXG4gICAgICAgICAgICBjYXNlICdtaW5mJzogLy8gTWVkaWEgSW5mb3JtYXRpb24gQXRvbVxuICAgICAgICAgICAgY2FzZSAnc3RibCc6IC8vIFRoZSBTYW1wbGUgVGFibGUgQXRvbVxuICAgICAgICAgICAgY2FzZSAnPGlkPic6XG4gICAgICAgICAgICBjYXNlICdpbHN0JzpcbiAgICAgICAgICAgIGNhc2UgJ3RyZWYnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRBdG9tcyh0b2tlbml6ZXIsIGRhdGFIYW5kbGVyLCB0aGlzLmdldFBheWxvYWRMZW5ndGgocmVtYWluaW5nKSk7XG4gICAgICAgICAgICBjYXNlICdtZXRhJzogLy8gTWV0YWRhdGEgQXRvbSwgcmVmOiBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9jb250ZW50L2RvY3VtZW50YXRpb24vUXVpY2tUaW1lL1FURkYvTWV0YWRhdGEvTWV0YWRhdGEuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkL1RQNDAwMDA5MzktQ0gxLVNXOFxuICAgICAgICAgICAgICAgIC8vIG1ldGEgaGFzIDQgYnl0ZXMgb2YgcGFkZGluZywgaWdub3JlXG4gICAgICAgICAgICAgICAgY29uc3QgcGVla0hlYWRlciA9IGF3YWl0IHRva2VuaXplci5wZWVrVG9rZW4oQXRvbVRva2VuLkhlYWRlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFkZGluZ0xlbmd0aCA9IHBlZWtIZWFkZXIubmFtZSA9PT0gJ2hkbHInID8gMCA6IDQ7XG4gICAgICAgICAgICAgICAgYXdhaXQgdG9rZW5pemVyLmlnbm9yZShwYWRkaW5nTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkQXRvbXModG9rZW5pemVyLCBkYXRhSGFuZGxlciwgdGhpcy5nZXRQYXlsb2FkTGVuZ3RoKHJlbWFpbmluZykgLSBwYWRkaW5nTGVuZ3RoKTtcbiAgICAgICAgICAgIGNhc2UgJ21kaGQnOiAvLyBNZWRpYSBoZWFkZXIgYXRvbVxuICAgICAgICAgICAgY2FzZSAnbXZoZCc6IC8vICdtb3ZpZScgPT4gJ212aGQnOiBtb3ZpZSBoZWFkZXIgYXRvbTsgY2hpbGQgb2YgTW92aWUgQXRvbVxuICAgICAgICAgICAgY2FzZSAndGtoZCc6XG4gICAgICAgICAgICBjYXNlICdzdHN6JzpcbiAgICAgICAgICAgIGNhc2UgJ21kYXQnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YUhhbmRsZXIodGhpcywgcmVtYWluaW5nKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQXRvbSA9IEF0b207XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mp4/Atom.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mp4/AtomToken.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/mp4/AtomToken.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ChapterText = exports.StcoAtom = exports.StszAtom = exports.StscAtom = exports.SampleToChunkToken = exports.SttsAtom = exports.TimeToSampleToken = exports.SoundSampleDescriptionV0 = exports.SoundSampleDescriptionVersion = exports.StsdAtom = exports.TrackHeaderAtom = exports.NameAtom = exports.DataAtom = exports.MvhdAtom = exports.MdhdAtom = exports.FixedLengthAtom = exports.mhdr = exports.tkhd = exports.ftyp = exports.ExtendedSize = exports.Header = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:MP4:atom');\nexports.Header = {\n    len: 8,\n    get: (buf, off) => {\n        const length = Token.UINT32_BE.get(buf, off);\n        if (length < 0)\n            throw new Error('Invalid atom header length');\n        return {\n            length: BigInt(length),\n            name: new Token.StringType(4, 'binary').get(buf, off + 4)\n        };\n    },\n    put: (buf, off, hdr) => {\n        Token.UINT32_BE.put(buf, off, Number(hdr.length));\n        return FourCC_1.FourCcToken.put(buf, off + 4, hdr.name);\n    }\n};\n/**\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap1/qtff1.html#//apple_ref/doc/uid/TP40000939-CH203-38190\n */\nexports.ExtendedSize = Token.UINT64_BE;\nexports.ftyp = {\n    len: 4,\n    get: (buf, off) => {\n        return {\n            type: new Token.StringType(4, 'ascii').get(buf, off)\n        };\n    }\n};\nexports.tkhd = {\n    len: 4,\n    get: (buf, off) => {\n        return {\n            type: new Token.StringType(4, 'ascii').get(buf, off)\n        };\n    }\n};\n/**\n * Token: Movie Header Atom\n */\nexports.mhdr = {\n    len: 8,\n    get: (buf, off) => {\n        return {\n            version: Token.UINT8.get(buf, off),\n            flags: Token.UINT24_BE.get(buf, off + 1),\n            nextItemID: Token.UINT32_BE.get(buf, off + 4)\n        };\n    }\n};\n/**\n * Base class for 'fixed' length atoms.\n * In some cases these atoms are longer then the sum of the described fields.\n * Issue: https://github.com/Borewit/music-metadata/issues/120\n */\nclass FixedLengthAtom {\n    /**\n     *\n     * @param {number} len Length as specified in the size field\n     * @param {number} expLen Total length of sum of specified fields in the standard\n     */\n    constructor(len, expLen, atomId) {\n        this.len = len;\n        if (len < expLen) {\n            throw new Error(`Atom ${atomId} expected to be ${expLen}, but specifies ${len} bytes long.`);\n        }\n        else if (len > expLen) {\n            debug(`Warning: atom ${atomId} expected to be ${expLen}, but was actually ${len} bytes long.`);\n        }\n    }\n}\nexports.FixedLengthAtom = FixedLengthAtom;\n/**\n * Timestamp stored in seconds since Mac Epoch (1 January 1904)\n */\nconst SecondsSinceMacEpoch = {\n    len: 4,\n    get: (buf, off) => {\n        const secondsSinceUnixEpoch = Token.UINT32_BE.get(buf, off) - 2082844800;\n        return new Date(secondsSinceUnixEpoch * 1000);\n    }\n};\n/**\n * Token: Media Header Atom\n * Ref:\n * - https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-SW34\n * - https://wiki.multimedia.cx/index.php/QuickTime_container#mdhd\n */\nclass MdhdAtom extends FixedLengthAtom {\n    constructor(len) {\n        super(len, 24, 'mdhd');\n        this.len = len;\n    }\n    get(buf, off) {\n        return {\n            version: Token.UINT8.get(buf, off + 0),\n            flags: Token.UINT24_BE.get(buf, off + 1),\n            creationTime: SecondsSinceMacEpoch.get(buf, off + 4),\n            modificationTime: SecondsSinceMacEpoch.get(buf, off + 8),\n            timeScale: Token.UINT32_BE.get(buf, off + 12),\n            duration: Token.UINT32_BE.get(buf, off + 16),\n            language: Token.UINT16_BE.get(buf, off + 20),\n            quality: Token.UINT16_BE.get(buf, off + 22)\n        };\n    }\n}\nexports.MdhdAtom = MdhdAtom;\n/**\n * Token: Movie Header Atom\n */\nclass MvhdAtom extends FixedLengthAtom {\n    constructor(len) {\n        super(len, 100, 'mvhd');\n        this.len = len;\n    }\n    get(buf, off) {\n        return {\n            version: Token.UINT8.get(buf, off),\n            flags: Token.UINT24_BE.get(buf, off + 1),\n            creationTime: SecondsSinceMacEpoch.get(buf, off + 4),\n            modificationTime: SecondsSinceMacEpoch.get(buf, off + 8),\n            timeScale: Token.UINT32_BE.get(buf, off + 12),\n            duration: Token.UINT32_BE.get(buf, off + 16),\n            preferredRate: Token.UINT32_BE.get(buf, off + 20),\n            preferredVolume: Token.UINT16_BE.get(buf, off + 24),\n            // ignore reserver: 10 bytes\n            // ignore matrix structure: 36 bytes\n            previewTime: Token.UINT32_BE.get(buf, off + 72),\n            previewDuration: Token.UINT32_BE.get(buf, off + 76),\n            posterTime: Token.UINT32_BE.get(buf, off + 80),\n            selectionTime: Token.UINT32_BE.get(buf, off + 84),\n            selectionDuration: Token.UINT32_BE.get(buf, off + 88),\n            currentTime: Token.UINT32_BE.get(buf, off + 92),\n            nextTrackID: Token.UINT32_BE.get(buf, off + 96)\n        };\n    }\n}\nexports.MvhdAtom = MvhdAtom;\n/**\n * Data Atom Structure\n */\nclass DataAtom {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        return {\n            type: {\n                set: Token.UINT8.get(buf, off + 0),\n                type: Token.UINT24_BE.get(buf, off + 1)\n            },\n            locale: Token.UINT24_BE.get(buf, off + 4),\n            value: Buffer.from(new Token.Uint8ArrayType(this.len - 8).get(buf, off + 8))\n        };\n    }\n}\nexports.DataAtom = DataAtom;\n/**\n * Data Atom Structure\n * Ref: https://developer.apple.com/library/content/documentation/QuickTime/QTFF/Metadata/Metadata.html#//apple_ref/doc/uid/TP40000939-CH1-SW31\n */\nclass NameAtom {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        return {\n            version: Token.UINT8.get(buf, off),\n            flags: Token.UINT24_BE.get(buf, off + 1),\n            name: new Token.StringType(this.len - 4, 'utf-8').get(buf, off + 4)\n        };\n    }\n}\nexports.NameAtom = NameAtom;\n/**\n * Track Header Atoms structure\n * Ref: https://developer.apple.com/library/content/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25550\n */\nclass TrackHeaderAtom {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        return {\n            version: Token.UINT8.get(buf, off),\n            flags: Token.UINT24_BE.get(buf, off + 1),\n            creationTime: SecondsSinceMacEpoch.get(buf, off + 4),\n            modificationTime: SecondsSinceMacEpoch.get(buf, off + 8),\n            trackId: Token.UINT32_BE.get(buf, off + 12),\n            // reserved 4 bytes\n            duration: Token.UINT32_BE.get(buf, off + 20),\n            layer: Token.UINT16_BE.get(buf, off + 24),\n            alternateGroup: Token.UINT16_BE.get(buf, off + 26),\n            volume: Token.UINT16_BE.get(buf, off + 28) // ToDo: fixed point\n            // ToDo: add remaining fields\n        };\n    }\n}\nexports.TrackHeaderAtom = TrackHeaderAtom;\n/**\n * Atom: Sample Description Atom ('stsd')\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25691\n */\nconst stsdHeader = {\n    len: 8,\n    get: (buf, off) => {\n        return {\n            version: Token.UINT8.get(buf, off),\n            flags: Token.UINT24_BE.get(buf, off + 1),\n            numberOfEntries: Token.UINT32_BE.get(buf, off + 4)\n        };\n    }\n};\n/**\n * Atom: Sample Description Atom ('stsd')\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25691\n */\nclass SampleDescriptionTable {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        return {\n            dataFormat: FourCC_1.FourCcToken.get(buf, off),\n            dataReferenceIndex: Token.UINT16_BE.get(buf, off + 10),\n            description: new Token.Uint8ArrayType(this.len - 12).get(buf, off + 12)\n        };\n    }\n}\n/**\n * Atom: Sample-description Atom ('stsd')\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25691\n */\nclass StsdAtom {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        const header = stsdHeader.get(buf, off);\n        off += stsdHeader.len;\n        const table = [];\n        for (let n = 0; n < header.numberOfEntries; ++n) {\n            const size = Token.UINT32_BE.get(buf, off); // Sample description size\n            off += Token.UINT32_BE.len;\n            table.push(new SampleDescriptionTable(size).get(buf, off));\n            off += size;\n        }\n        return {\n            header,\n            table\n        };\n    }\n}\nexports.StsdAtom = StsdAtom;\n/**\n * Common Sound Sample Description (version & revision)\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap3/qtff3.html#//apple_ref/doc/uid/TP40000939-CH205-57317\n */\nexports.SoundSampleDescriptionVersion = {\n    len: 8,\n    get(buf, off) {\n        return {\n            version: Token.INT16_BE.get(buf, off),\n            revision: Token.INT16_BE.get(buf, off + 2),\n            vendor: Token.INT32_BE.get(buf, off + 4)\n        };\n    }\n};\n/**\n * Sound Sample Description (Version 0)\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap3/qtff3.html#//apple_ref/doc/uid/TP40000939-CH205-130736\n */\nexports.SoundSampleDescriptionV0 = {\n    len: 12,\n    get(buf, off) {\n        return {\n            numAudioChannels: Token.INT16_BE.get(buf, off + 0),\n            sampleSize: Token.INT16_BE.get(buf, off + 2),\n            compressionId: Token.INT16_BE.get(buf, off + 4),\n            packetSize: Token.INT16_BE.get(buf, off + 6),\n            sampleRate: Token.UINT16_BE.get(buf, off + 8) + Token.UINT16_BE.get(buf, off + 10) / 10000\n        };\n    }\n};\nclass SimpleTableAtom {\n    constructor(len, token) {\n        this.len = len;\n        this.token = token;\n    }\n    get(buf, off) {\n        const nrOfEntries = Token.INT32_BE.get(buf, off + 4);\n        return {\n            version: Token.INT8.get(buf, off + 0),\n            flags: Token.INT24_BE.get(buf, off + 1),\n            numberOfEntries: nrOfEntries,\n            entries: readTokenTable(buf, this.token, off + 8, this.len - 8, nrOfEntries)\n        };\n    }\n}\nexports.TimeToSampleToken = {\n    len: 8,\n    get(buf, off) {\n        return {\n            count: Token.INT32_BE.get(buf, off + 0),\n            duration: Token.INT32_BE.get(buf, off + 4)\n        };\n    }\n};\n/**\n * Time-to-sample('stts') atom.\n * Store duration information for a media’s samples.\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25696\n */\nclass SttsAtom extends SimpleTableAtom {\n    constructor(len) {\n        super(len, exports.TimeToSampleToken);\n        this.len = len;\n    }\n}\nexports.SttsAtom = SttsAtom;\nexports.SampleToChunkToken = {\n    len: 12,\n    get(buf, off) {\n        return {\n            firstChunk: Token.INT32_BE.get(buf, off),\n            samplesPerChunk: Token.INT32_BE.get(buf, off + 4),\n            sampleDescriptionId: Token.INT32_BE.get(buf, off + 8)\n        };\n    }\n};\n/**\n * Sample-to-Chunk ('stsc') atom interface\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25706\n */\nclass StscAtom extends SimpleTableAtom {\n    constructor(len) {\n        super(len, exports.SampleToChunkToken);\n        this.len = len;\n    }\n}\nexports.StscAtom = StscAtom;\n/**\n * Sample-size ('stsz') atom\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25710\n */\nclass StszAtom {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        const nrOfEntries = Token.INT32_BE.get(buf, off + 8);\n        return {\n            version: Token.INT8.get(buf, off),\n            flags: Token.INT24_BE.get(buf, off + 1),\n            sampleSize: Token.INT32_BE.get(buf, off + 4),\n            numberOfEntries: nrOfEntries,\n            entries: readTokenTable(buf, Token.INT32_BE, off + 12, this.len - 12, nrOfEntries)\n        };\n    }\n}\nexports.StszAtom = StszAtom;\n/**\n * Chunk offset atom, 'stco'\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25715\n */\nclass StcoAtom extends SimpleTableAtom {\n    constructor(len) {\n        super(len, Token.INT32_BE);\n        this.len = len;\n    }\n}\nexports.StcoAtom = StcoAtom;\n/**\n * Token used to decode text-track from 'mdat' atom (raw data stream)\n */\nclass ChapterText {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        const titleLen = Token.INT16_BE.get(buf, off + 0);\n        const str = new Token.StringType(titleLen, 'utf-8');\n        return str.get(buf, off + 2);\n    }\n}\nexports.ChapterText = ChapterText;\nfunction readTokenTable(buf, token, off, remainingLen, numberOfEntries) {\n    debug(`remainingLen=${remainingLen}, numberOfEntries=${numberOfEntries} * token-len=${token.len}`);\n    if (remainingLen === 0)\n        return [];\n    if (remainingLen !== numberOfEntries * token.len)\n        throw new Error('mismatch number-of-entries with remaining atom-length');\n    const entries = [];\n    // parse offset-table\n    for (let n = 0; n < numberOfEntries; ++n) {\n        entries.push(token.get(buf, off));\n        off += token.len;\n    }\n    return entries;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wNC9BdG9tVG9rZW4uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CLEdBQUcsZ0JBQWdCLEdBQUcsZ0JBQWdCLEdBQUcsZ0JBQWdCLEdBQUcsMEJBQTBCLEdBQUcsZ0JBQWdCLEdBQUcseUJBQXlCLEdBQUcsZ0NBQWdDLEdBQUcscUNBQXFDLEdBQUcsZ0JBQWdCLEdBQUcsdUJBQXVCLEdBQUcsZ0JBQWdCLEdBQUcsZ0JBQWdCLEdBQUcsZ0JBQWdCLEdBQUcsZ0JBQWdCLEdBQUcsdUJBQXVCLEdBQUcsWUFBWSxHQUFHLFlBQVksR0FBRyxZQUFZLEdBQUcsb0JBQW9CLEdBQUcsY0FBYztBQUMzYyxjQUFjLG1CQUFPLENBQUMsa0VBQWE7QUFDbkMsZ0JBQWdCLG1CQUFPLENBQUMsc0RBQU87QUFDL0IsaUJBQWlCLG1CQUFPLENBQUMsa0ZBQWtCO0FBQzNDO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxRQUFRLGlCQUFpQixPQUFPLGtCQUFrQixLQUFLO0FBQzNGO0FBQ0E7QUFDQSxtQ0FBbUMsUUFBUSxpQkFBaUIsT0FBTyxxQkFBcUIsS0FBSztBQUM3RjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNEJBQTRCO0FBQ3BELHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBLDBCQUEwQixhQUFhLG9CQUFvQixpQkFBaUIsY0FBYyxVQUFVO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tcDQvQXRvbVRva2VuLmpzP2QzYjkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNoYXB0ZXJUZXh0ID0gZXhwb3J0cy5TdGNvQXRvbSA9IGV4cG9ydHMuU3RzekF0b20gPSBleHBvcnRzLlN0c2NBdG9tID0gZXhwb3J0cy5TYW1wbGVUb0NodW5rVG9rZW4gPSBleHBvcnRzLlN0dHNBdG9tID0gZXhwb3J0cy5UaW1lVG9TYW1wbGVUb2tlbiA9IGV4cG9ydHMuU291bmRTYW1wbGVEZXNjcmlwdGlvblYwID0gZXhwb3J0cy5Tb3VuZFNhbXBsZURlc2NyaXB0aW9uVmVyc2lvbiA9IGV4cG9ydHMuU3RzZEF0b20gPSBleHBvcnRzLlRyYWNrSGVhZGVyQXRvbSA9IGV4cG9ydHMuTmFtZUF0b20gPSBleHBvcnRzLkRhdGFBdG9tID0gZXhwb3J0cy5NdmhkQXRvbSA9IGV4cG9ydHMuTWRoZEF0b20gPSBleHBvcnRzLkZpeGVkTGVuZ3RoQXRvbSA9IGV4cG9ydHMubWhkciA9IGV4cG9ydHMudGtoZCA9IGV4cG9ydHMuZnR5cCA9IGV4cG9ydHMuRXh0ZW5kZWRTaXplID0gZXhwb3J0cy5IZWFkZXIgPSB2b2lkIDA7XG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoXCJ0b2tlbi10eXBlc1wiKTtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCBGb3VyQ0NfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vRm91ckNDXCIpO1xuY29uc3QgZGVidWcgPSAoMCwgZGVidWdfMS5kZWZhdWx0KSgnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOk1QNDphdG9tJyk7XG5leHBvcnRzLkhlYWRlciA9IHtcbiAgICBsZW46IDgsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZik7XG4gICAgICAgIGlmIChsZW5ndGggPCAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGF0b20gaGVhZGVyIGxlbmd0aCcpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVuZ3RoOiBCaWdJbnQobGVuZ3RoKSxcbiAgICAgICAgICAgIG5hbWU6IG5ldyBUb2tlbi5TdHJpbmdUeXBlKDQsICdiaW5hcnknKS5nZXQoYnVmLCBvZmYgKyA0KVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcHV0OiAoYnVmLCBvZmYsIGhkcikgPT4ge1xuICAgICAgICBUb2tlbi5VSU5UMzJfQkUucHV0KGJ1Ziwgb2ZmLCBOdW1iZXIoaGRyLmxlbmd0aCkpO1xuICAgICAgICByZXR1cm4gRm91ckNDXzEuRm91ckNjVG9rZW4ucHV0KGJ1Ziwgb2ZmICsgNCwgaGRyLm5hbWUpO1xuICAgIH1cbn07XG4vKipcbiAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMS9xdGZmMS5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwMy0zODE5MFxuICovXG5leHBvcnRzLkV4dGVuZGVkU2l6ZSA9IFRva2VuLlVJTlQ2NF9CRTtcbmV4cG9ydHMuZnR5cCA9IHtcbiAgICBsZW46IDQsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IG5ldyBUb2tlbi5TdHJpbmdUeXBlKDQsICdhc2NpaScpLmdldChidWYsIG9mZilcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZXhwb3J0cy50a2hkID0ge1xuICAgIGxlbjogNCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogbmV3IFRva2VuLlN0cmluZ1R5cGUoNCwgJ2FzY2lpJykuZ2V0KGJ1Ziwgb2ZmKVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vKipcbiAqIFRva2VuOiBNb3ZpZSBIZWFkZXIgQXRvbVxuICovXG5leHBvcnRzLm1oZHIgPSB7XG4gICAgbGVuOiA4LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgZmxhZ3M6IFRva2VuLlVJTlQyNF9CRS5nZXQoYnVmLCBvZmYgKyAxKSxcbiAgICAgICAgICAgIG5leHRJdGVtSUQ6IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA0KVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yICdmaXhlZCcgbGVuZ3RoIGF0b21zLlxuICogSW4gc29tZSBjYXNlcyB0aGVzZSBhdG9tcyBhcmUgbG9uZ2VyIHRoZW4gdGhlIHN1bSBvZiB0aGUgZGVzY3JpYmVkIGZpZWxkcy5cbiAqIElzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vQm9yZXdpdC9tdXNpYy1tZXRhZGF0YS9pc3N1ZXMvMTIwXG4gKi9cbmNsYXNzIEZpeGVkTGVuZ3RoQXRvbSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuIExlbmd0aCBhcyBzcGVjaWZpZWQgaW4gdGhlIHNpemUgZmllbGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZXhwTGVuIFRvdGFsIGxlbmd0aCBvZiBzdW0gb2Ygc3BlY2lmaWVkIGZpZWxkcyBpbiB0aGUgc3RhbmRhcmRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihsZW4sIGV4cExlbiwgYXRvbUlkKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgICAgICBpZiAobGVuIDwgZXhwTGVuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0b20gJHthdG9tSWR9IGV4cGVjdGVkIHRvIGJlICR7ZXhwTGVufSwgYnV0IHNwZWNpZmllcyAke2xlbn0gYnl0ZXMgbG9uZy5gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsZW4gPiBleHBMZW4pIHtcbiAgICAgICAgICAgIGRlYnVnKGBXYXJuaW5nOiBhdG9tICR7YXRvbUlkfSBleHBlY3RlZCB0byBiZSAke2V4cExlbn0sIGJ1dCB3YXMgYWN0dWFsbHkgJHtsZW59IGJ5dGVzIGxvbmcuYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkZpeGVkTGVuZ3RoQXRvbSA9IEZpeGVkTGVuZ3RoQXRvbTtcbi8qKlxuICogVGltZXN0YW1wIHN0b3JlZCBpbiBzZWNvbmRzIHNpbmNlIE1hYyBFcG9jaCAoMSBKYW51YXJ5IDE5MDQpXG4gKi9cbmNvbnN0IFNlY29uZHNTaW5jZU1hY0Vwb2NoID0ge1xuICAgIGxlbjogNCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICBjb25zdCBzZWNvbmRzU2luY2VVbml4RXBvY2ggPSBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmKSAtIDIwODI4NDQ4MDA7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShzZWNvbmRzU2luY2VVbml4RXBvY2ggKiAxMDAwKTtcbiAgICB9XG59O1xuLyoqXG4gKiBUb2tlbjogTWVkaWEgSGVhZGVyIEF0b21cbiAqIFJlZjpcbiAqIC0gaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMi9xdGZmMi5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNC1TVzM0XG4gKiAtIGh0dHBzOi8vd2lraS5tdWx0aW1lZGlhLmN4L2luZGV4LnBocC9RdWlja1RpbWVfY29udGFpbmVyI21kaGRcbiAqL1xuY2xhc3MgTWRoZEF0b20gZXh0ZW5kcyBGaXhlZExlbmd0aEF0b20ge1xuICAgIGNvbnN0cnVjdG9yKGxlbikge1xuICAgICAgICBzdXBlcihsZW4sIDI0LCAnbWRoZCcpO1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYgKyAwKSxcbiAgICAgICAgICAgIGZsYWdzOiBUb2tlbi5VSU5UMjRfQkUuZ2V0KGJ1Ziwgb2ZmICsgMSksXG4gICAgICAgICAgICBjcmVhdGlvblRpbWU6IFNlY29uZHNTaW5jZU1hY0Vwb2NoLmdldChidWYsIG9mZiArIDQpLFxuICAgICAgICAgICAgbW9kaWZpY2F0aW9uVGltZTogU2Vjb25kc1NpbmNlTWFjRXBvY2guZ2V0KGJ1Ziwgb2ZmICsgOCksXG4gICAgICAgICAgICB0aW1lU2NhbGU6IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyAxMiksXG4gICAgICAgICAgICBkdXJhdGlvbjogVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZiArIDE2KSxcbiAgICAgICAgICAgIGxhbmd1YWdlOiBUb2tlbi5VSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgMjApLFxuICAgICAgICAgICAgcXVhbGl0eTogVG9rZW4uVUlOVDE2X0JFLmdldChidWYsIG9mZiArIDIyKVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuTWRoZEF0b20gPSBNZGhkQXRvbTtcbi8qKlxuICogVG9rZW46IE1vdmllIEhlYWRlciBBdG9tXG4gKi9cbmNsYXNzIE12aGRBdG9tIGV4dGVuZHMgRml4ZWRMZW5ndGhBdG9tIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgc3VwZXIobGVuLCAxMDAsICdtdmhkJyk7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZlcnNpb246IFRva2VuLlVJTlQ4LmdldChidWYsIG9mZiksXG4gICAgICAgICAgICBmbGFnczogVG9rZW4uVUlOVDI0X0JFLmdldChidWYsIG9mZiArIDEpLFxuICAgICAgICAgICAgY3JlYXRpb25UaW1lOiBTZWNvbmRzU2luY2VNYWNFcG9jaC5nZXQoYnVmLCBvZmYgKyA0KSxcbiAgICAgICAgICAgIG1vZGlmaWNhdGlvblRpbWU6IFNlY29uZHNTaW5jZU1hY0Vwb2NoLmdldChidWYsIG9mZiArIDgpLFxuICAgICAgICAgICAgdGltZVNjYWxlOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgMTIpLFxuICAgICAgICAgICAgZHVyYXRpb246IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyAxNiksXG4gICAgICAgICAgICBwcmVmZXJyZWRSYXRlOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgMjApLFxuICAgICAgICAgICAgcHJlZmVycmVkVm9sdW1lOiBUb2tlbi5VSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgMjQpLFxuICAgICAgICAgICAgLy8gaWdub3JlIHJlc2VydmVyOiAxMCBieXRlc1xuICAgICAgICAgICAgLy8gaWdub3JlIG1hdHJpeCBzdHJ1Y3R1cmU6IDM2IGJ5dGVzXG4gICAgICAgICAgICBwcmV2aWV3VGltZTogVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZiArIDcyKSxcbiAgICAgICAgICAgIHByZXZpZXdEdXJhdGlvbjogVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZiArIDc2KSxcbiAgICAgICAgICAgIHBvc3RlclRpbWU6IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA4MCksXG4gICAgICAgICAgICBzZWxlY3Rpb25UaW1lOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgODQpLFxuICAgICAgICAgICAgc2VsZWN0aW9uRHVyYXRpb246IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA4OCksXG4gICAgICAgICAgICBjdXJyZW50VGltZTogVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZiArIDkyKSxcbiAgICAgICAgICAgIG5leHRUcmFja0lEOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgOTYpXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5NdmhkQXRvbSA9IE12aGRBdG9tO1xuLyoqXG4gKiBEYXRhIEF0b20gU3RydWN0dXJlXG4gKi9cbmNsYXNzIERhdGFBdG9tIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgfVxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZToge1xuICAgICAgICAgICAgICAgIHNldDogVG9rZW4uVUlOVDguZ2V0KGJ1Ziwgb2ZmICsgMCksXG4gICAgICAgICAgICAgICAgdHlwZTogVG9rZW4uVUlOVDI0X0JFLmdldChidWYsIG9mZiArIDEpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbG9jYWxlOiBUb2tlbi5VSU5UMjRfQkUuZ2V0KGJ1Ziwgb2ZmICsgNCksXG4gICAgICAgICAgICB2YWx1ZTogQnVmZmVyLmZyb20obmV3IFRva2VuLlVpbnQ4QXJyYXlUeXBlKHRoaXMubGVuIC0gOCkuZ2V0KGJ1Ziwgb2ZmICsgOCkpXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5EYXRhQXRvbSA9IERhdGFBdG9tO1xuLyoqXG4gKiBEYXRhIEF0b20gU3RydWN0dXJlXG4gKiBSZWY6IGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2NvbnRlbnQvZG9jdW1lbnRhdGlvbi9RdWlja1RpbWUvUVRGRi9NZXRhZGF0YS9NZXRhZGF0YS5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDEtU1czMVxuICovXG5jbGFzcyBOYW1lQXRvbSB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZlcnNpb246IFRva2VuLlVJTlQ4LmdldChidWYsIG9mZiksXG4gICAgICAgICAgICBmbGFnczogVG9rZW4uVUlOVDI0X0JFLmdldChidWYsIG9mZiArIDEpLFxuICAgICAgICAgICAgbmFtZTogbmV3IFRva2VuLlN0cmluZ1R5cGUodGhpcy5sZW4gLSA0LCAndXRmLTgnKS5nZXQoYnVmLCBvZmYgKyA0KVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuTmFtZUF0b20gPSBOYW1lQXRvbTtcbi8qKlxuICogVHJhY2sgSGVhZGVyIEF0b21zIHN0cnVjdHVyZVxuICogUmVmOiBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9jb250ZW50L2RvY3VtZW50YXRpb24vUXVpY2tUaW1lL1FURkYvUVRGRkNoYXAyL3F0ZmYyLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMjA0LTI1NTUwXG4gKi9cbmNsYXNzIFRyYWNrSGVhZGVyQXRvbSB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZlcnNpb246IFRva2VuLlVJTlQ4LmdldChidWYsIG9mZiksXG4gICAgICAgICAgICBmbGFnczogVG9rZW4uVUlOVDI0X0JFLmdldChidWYsIG9mZiArIDEpLFxuICAgICAgICAgICAgY3JlYXRpb25UaW1lOiBTZWNvbmRzU2luY2VNYWNFcG9jaC5nZXQoYnVmLCBvZmYgKyA0KSxcbiAgICAgICAgICAgIG1vZGlmaWNhdGlvblRpbWU6IFNlY29uZHNTaW5jZU1hY0Vwb2NoLmdldChidWYsIG9mZiArIDgpLFxuICAgICAgICAgICAgdHJhY2tJZDogVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZiArIDEyKSxcbiAgICAgICAgICAgIC8vIHJlc2VydmVkIDQgYnl0ZXNcbiAgICAgICAgICAgIGR1cmF0aW9uOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgMjApLFxuICAgICAgICAgICAgbGF5ZXI6IFRva2VuLlVJTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAyNCksXG4gICAgICAgICAgICBhbHRlcm5hdGVHcm91cDogVG9rZW4uVUlOVDE2X0JFLmdldChidWYsIG9mZiArIDI2KSxcbiAgICAgICAgICAgIHZvbHVtZTogVG9rZW4uVUlOVDE2X0JFLmdldChidWYsIG9mZiArIDI4KSAvLyBUb0RvOiBmaXhlZCBwb2ludFxuICAgICAgICAgICAgLy8gVG9EbzogYWRkIHJlbWFpbmluZyBmaWVsZHNcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlRyYWNrSGVhZGVyQXRvbSA9IFRyYWNrSGVhZGVyQXRvbTtcbi8qKlxuICogQXRvbTogU2FtcGxlIERlc2NyaXB0aW9uIEF0b20gKCdzdHNkJylcbiAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMi9xdGZmMi5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNC0yNTY5MVxuICovXG5jb25zdCBzdHNkSGVhZGVyID0ge1xuICAgIGxlbjogOCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVyc2lvbjogVG9rZW4uVUlOVDguZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIGZsYWdzOiBUb2tlbi5VSU5UMjRfQkUuZ2V0KGJ1Ziwgb2ZmICsgMSksXG4gICAgICAgICAgICBudW1iZXJPZkVudHJpZXM6IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA0KVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vKipcbiAqIEF0b206IFNhbXBsZSBEZXNjcmlwdGlvbiBBdG9tICgnc3RzZCcpXG4gKiBSZWY6IGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2FyY2hpdmUvZG9jdW1lbnRhdGlvbi9RdWlja1RpbWUvUVRGRi9RVEZGQ2hhcDIvcXRmZjIuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkL1RQNDAwMDA5MzktQ0gyMDQtMjU2OTFcbiAqL1xuY2xhc3MgU2FtcGxlRGVzY3JpcHRpb25UYWJsZSB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGFGb3JtYXQ6IEZvdXJDQ18xLkZvdXJDY1Rva2VuLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICBkYXRhUmVmZXJlbmNlSW5kZXg6IFRva2VuLlVJTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAxMCksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogbmV3IFRva2VuLlVpbnQ4QXJyYXlUeXBlKHRoaXMubGVuIC0gMTIpLmdldChidWYsIG9mZiArIDEyKVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogQXRvbTogU2FtcGxlLWRlc2NyaXB0aW9uIEF0b20gKCdzdHNkJylcbiAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMi9xdGZmMi5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNC0yNTY5MVxuICovXG5jbGFzcyBTdHNkQXRvbSB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gc3RzZEhlYWRlci5nZXQoYnVmLCBvZmYpO1xuICAgICAgICBvZmYgKz0gc3RzZEhlYWRlci5sZW47XG4gICAgICAgIGNvbnN0IHRhYmxlID0gW107XG4gICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgaGVhZGVyLm51bWJlck9mRW50cmllczsgKytuKSB7XG4gICAgICAgICAgICBjb25zdCBzaXplID0gVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZik7IC8vIFNhbXBsZSBkZXNjcmlwdGlvbiBzaXplXG4gICAgICAgICAgICBvZmYgKz0gVG9rZW4uVUlOVDMyX0JFLmxlbjtcbiAgICAgICAgICAgIHRhYmxlLnB1c2gobmV3IFNhbXBsZURlc2NyaXB0aW9uVGFibGUoc2l6ZSkuZ2V0KGJ1Ziwgb2ZmKSk7XG4gICAgICAgICAgICBvZmYgKz0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgICAgdGFibGVcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlN0c2RBdG9tID0gU3RzZEF0b207XG4vKipcbiAqIENvbW1vbiBTb3VuZCBTYW1wbGUgRGVzY3JpcHRpb24gKHZlcnNpb24gJiByZXZpc2lvbilcbiAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMy9xdGZmMy5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNS01NzMxN1xuICovXG5leHBvcnRzLlNvdW5kU2FtcGxlRGVzY3JpcHRpb25WZXJzaW9uID0ge1xuICAgIGxlbjogOCxcbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZlcnNpb246IFRva2VuLklOVDE2X0JFLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICByZXZpc2lvbjogVG9rZW4uSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgMiksXG4gICAgICAgICAgICB2ZW5kb3I6IFRva2VuLklOVDMyX0JFLmdldChidWYsIG9mZiArIDQpXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8qKlxuICogU291bmQgU2FtcGxlIERlc2NyaXB0aW9uIChWZXJzaW9uIDApXG4gKiBSZWY6IGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2FyY2hpdmUvZG9jdW1lbnRhdGlvbi9RdWlja1RpbWUvUVRGRi9RVEZGQ2hhcDMvcXRmZjMuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkL1RQNDAwMDA5MzktQ0gyMDUtMTMwNzM2XG4gKi9cbmV4cG9ydHMuU291bmRTYW1wbGVEZXNjcmlwdGlvblYwID0ge1xuICAgIGxlbjogMTIsXG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBudW1BdWRpb0NoYW5uZWxzOiBUb2tlbi5JTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAwKSxcbiAgICAgICAgICAgIHNhbXBsZVNpemU6IFRva2VuLklOVDE2X0JFLmdldChidWYsIG9mZiArIDIpLFxuICAgICAgICAgICAgY29tcHJlc3Npb25JZDogVG9rZW4uSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgNCksXG4gICAgICAgICAgICBwYWNrZXRTaXplOiBUb2tlbi5JTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyA2KSxcbiAgICAgICAgICAgIHNhbXBsZVJhdGU6IFRva2VuLlVJTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyA4KSArIFRva2VuLlVJTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAxMCkgLyAxMDAwMFxuICAgICAgICB9O1xuICAgIH1cbn07XG5jbGFzcyBTaW1wbGVUYWJsZUF0b20ge1xuICAgIGNvbnN0cnVjdG9yKGxlbiwgdG9rZW4pIHtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIGNvbnN0IG5yT2ZFbnRyaWVzID0gVG9rZW4uSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgNCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5JTlQ4LmdldChidWYsIG9mZiArIDApLFxuICAgICAgICAgICAgZmxhZ3M6IFRva2VuLklOVDI0X0JFLmdldChidWYsIG9mZiArIDEpLFxuICAgICAgICAgICAgbnVtYmVyT2ZFbnRyaWVzOiBuck9mRW50cmllcyxcbiAgICAgICAgICAgIGVudHJpZXM6IHJlYWRUb2tlblRhYmxlKGJ1ZiwgdGhpcy50b2tlbiwgb2ZmICsgOCwgdGhpcy5sZW4gLSA4LCBuck9mRW50cmllcylcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlRpbWVUb1NhbXBsZVRva2VuID0ge1xuICAgIGxlbjogOCxcbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvdW50OiBUb2tlbi5JTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyAwKSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBUb2tlbi5JTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA0KVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vKipcbiAqIFRpbWUtdG8tc2FtcGxlKCdzdHRzJykgYXRvbS5cbiAqIFN0b3JlIGR1cmF0aW9uIGluZm9ybWF0aW9uIGZvciBhIG1lZGlh4oCZcyBzYW1wbGVzLlxuICogUmVmOiBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9hcmNoaXZlL2RvY3VtZW50YXRpb24vUXVpY2tUaW1lL1FURkYvUVRGRkNoYXAyL3F0ZmYyLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMjA0LTI1Njk2XG4gKi9cbmNsYXNzIFN0dHNBdG9tIGV4dGVuZHMgU2ltcGxlVGFibGVBdG9tIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgc3VwZXIobGVuLCBleHBvcnRzLlRpbWVUb1NhbXBsZVRva2VuKTtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgfVxufVxuZXhwb3J0cy5TdHRzQXRvbSA9IFN0dHNBdG9tO1xuZXhwb3J0cy5TYW1wbGVUb0NodW5rVG9rZW4gPSB7XG4gICAgbGVuOiAxMixcbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0Q2h1bms6IFRva2VuLklOVDMyX0JFLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICBzYW1wbGVzUGVyQ2h1bms6IFRva2VuLklOVDMyX0JFLmdldChidWYsIG9mZiArIDQpLFxuICAgICAgICAgICAgc2FtcGxlRGVzY3JpcHRpb25JZDogVG9rZW4uSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgOClcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBTYW1wbGUtdG8tQ2h1bmsgKCdzdHNjJykgYXRvbSBpbnRlcmZhY2VcbiAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMi9xdGZmMi5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNC0yNTcwNlxuICovXG5jbGFzcyBTdHNjQXRvbSBleHRlbmRzIFNpbXBsZVRhYmxlQXRvbSB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHN1cGVyKGxlbiwgZXhwb3J0cy5TYW1wbGVUb0NodW5rVG9rZW4pO1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICB9XG59XG5leHBvcnRzLlN0c2NBdG9tID0gU3RzY0F0b207XG4vKipcbiAqIFNhbXBsZS1zaXplICgnc3RzeicpIGF0b21cbiAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMi9xdGZmMi5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNC0yNTcxMFxuICovXG5jbGFzcyBTdHN6QXRvbSB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgY29uc3QgbnJPZkVudHJpZXMgPSBUb2tlbi5JTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZlcnNpb246IFRva2VuLklOVDguZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIGZsYWdzOiBUb2tlbi5JTlQyNF9CRS5nZXQoYnVmLCBvZmYgKyAxKSxcbiAgICAgICAgICAgIHNhbXBsZVNpemU6IFRva2VuLklOVDMyX0JFLmdldChidWYsIG9mZiArIDQpLFxuICAgICAgICAgICAgbnVtYmVyT2ZFbnRyaWVzOiBuck9mRW50cmllcyxcbiAgICAgICAgICAgIGVudHJpZXM6IHJlYWRUb2tlblRhYmxlKGJ1ZiwgVG9rZW4uSU5UMzJfQkUsIG9mZiArIDEyLCB0aGlzLmxlbiAtIDEyLCBuck9mRW50cmllcylcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlN0c3pBdG9tID0gU3RzekF0b207XG4vKipcbiAqIENodW5rIG9mZnNldCBhdG9tLCAnc3RjbydcbiAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMi9xdGZmMi5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNC0yNTcxNVxuICovXG5jbGFzcyBTdGNvQXRvbSBleHRlbmRzIFNpbXBsZVRhYmxlQXRvbSB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHN1cGVyKGxlbiwgVG9rZW4uSU5UMzJfQkUpO1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICB9XG59XG5leHBvcnRzLlN0Y29BdG9tID0gU3Rjb0F0b207XG4vKipcbiAqIFRva2VuIHVzZWQgdG8gZGVjb2RlIHRleHQtdHJhY2sgZnJvbSAnbWRhdCcgYXRvbSAocmF3IGRhdGEgc3RyZWFtKVxuICovXG5jbGFzcyBDaGFwdGVyVGV4dCB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgY29uc3QgdGl0bGVMZW4gPSBUb2tlbi5JTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAwKTtcbiAgICAgICAgY29uc3Qgc3RyID0gbmV3IFRva2VuLlN0cmluZ1R5cGUodGl0bGVMZW4sICd1dGYtOCcpO1xuICAgICAgICByZXR1cm4gc3RyLmdldChidWYsIG9mZiArIDIpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2hhcHRlclRleHQgPSBDaGFwdGVyVGV4dDtcbmZ1bmN0aW9uIHJlYWRUb2tlblRhYmxlKGJ1ZiwgdG9rZW4sIG9mZiwgcmVtYWluaW5nTGVuLCBudW1iZXJPZkVudHJpZXMpIHtcbiAgICBkZWJ1ZyhgcmVtYWluaW5nTGVuPSR7cmVtYWluaW5nTGVufSwgbnVtYmVyT2ZFbnRyaWVzPSR7bnVtYmVyT2ZFbnRyaWVzfSAqIHRva2VuLWxlbj0ke3Rva2VuLmxlbn1gKTtcbiAgICBpZiAocmVtYWluaW5nTGVuID09PSAwKVxuICAgICAgICByZXR1cm4gW107XG4gICAgaWYgKHJlbWFpbmluZ0xlbiAhPT0gbnVtYmVyT2ZFbnRyaWVzICogdG9rZW4ubGVuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21pc21hdGNoIG51bWJlci1vZi1lbnRyaWVzIHdpdGggcmVtYWluaW5nIGF0b20tbGVuZ3RoJyk7XG4gICAgY29uc3QgZW50cmllcyA9IFtdO1xuICAgIC8vIHBhcnNlIG9mZnNldC10YWJsZVxuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgbnVtYmVyT2ZFbnRyaWVzOyArK24pIHtcbiAgICAgICAgZW50cmllcy5wdXNoKHRva2VuLmdldChidWYsIG9mZikpO1xuICAgICAgICBvZmYgKz0gdG9rZW4ubGVuO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mp4/AtomToken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mp4/MP4Parser.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/mp4/MP4Parser.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MP4Parser = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst ID3v1Parser_1 = __webpack_require__(/*! ../id3v1/ID3v1Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js\");\nconst type_1 = __webpack_require__(/*! ../type */ \"(ssr)/./node_modules/music-metadata/lib/type.js\");\nconst Atom_1 = __webpack_require__(/*! ./Atom */ \"(ssr)/./node_modules/music-metadata/lib/mp4/Atom.js\");\nconst AtomToken = __webpack_require__(/*! ./AtomToken */ \"(ssr)/./node_modules/music-metadata/lib/mp4/AtomToken.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:MP4');\nconst tagFormat = 'iTunes';\nconst encoderDict = {\n    raw: {\n        lossy: false,\n        format: 'raw'\n    },\n    MAC3: {\n        lossy: true,\n        format: 'MACE 3:1'\n    },\n    MAC6: {\n        lossy: true,\n        format: 'MACE 6:1'\n    },\n    ima4: {\n        lossy: true,\n        format: 'IMA 4:1'\n    },\n    ulaw: {\n        lossy: true,\n        format: 'uLaw 2:1'\n    },\n    alaw: {\n        lossy: true,\n        format: 'uLaw 2:1'\n    },\n    Qclp: {\n        lossy: true,\n        format: 'QUALCOMM PureVoice'\n    },\n    '.mp3': {\n        lossy: true,\n        format: 'MPEG-1 layer 3'\n    },\n    alac: {\n        lossy: false,\n        format: 'ALAC'\n    },\n    'ac-3': {\n        lossy: true,\n        format: 'AC-3'\n    },\n    mp4a: {\n        lossy: true,\n        format: 'MPEG-4/AAC'\n    },\n    mp4s: {\n        lossy: true,\n        format: 'MP4S'\n    },\n    // Closed Captioning Media, https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap3/qtff3.html#//apple_ref/doc/uid/TP40000939-CH205-SW87\n    c608: {\n        lossy: true,\n        format: 'CEA-608'\n    },\n    c708: {\n        lossy: true,\n        format: 'CEA-708'\n    }\n};\nfunction distinct(value, index, self) {\n    return self.indexOf(value) === index;\n}\n/*\n * Parser for the MP4 (MPEG-4 Part 14) container format\n * Standard: ISO/IEC 14496-14\n * supporting:\n * - QuickTime container\n * - MP4 File Format\n * - 3GPP file format\n * - 3GPP2 file format\n *\n * MPEG-4 Audio / Part 3 (.m4a)& MPEG 4 Video (m4v, mp4) extension.\n * Support for Apple iTunes tags as found in a M4A/M4V files.\n * Ref:\n *   https://en.wikipedia.org/wiki/ISO_base_media_file_format\n *   https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/Metadata/Metadata.html\n *   http://atomicparsley.sourceforge.net/mpeg-4files.html\n *   https://github.com/sergiomb2/libmp4v2/wiki/iTunesMetadata\n *   https://wiki.multimedia.cx/index.php/QuickTime_container\n */\nclass MP4Parser extends BasicParser_1.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.atomParsers = {\n            /**\n             * Parse movie header (mvhd) atom\n             * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-56313\n             */\n            mvhd: async (len) => {\n                const mvhd = await this.tokenizer.readToken(new AtomToken.MvhdAtom(len));\n                this.metadata.setFormat('creationTime', mvhd.creationTime);\n                this.metadata.setFormat('modificationTime', mvhd.modificationTime);\n            },\n            /**\n             * Parse media header (mdhd) atom\n             * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25615\n             */\n            mdhd: async (len) => {\n                const mdhd_data = await this.tokenizer.readToken(new AtomToken.MdhdAtom(len));\n                // this.parse_mxhd(mdhd_data, this.currentTrack);\n                const td = this.getTrackDescription();\n                td.creationTime = mdhd_data.creationTime;\n                td.modificationTime = mdhd_data.modificationTime;\n                td.timeScale = mdhd_data.timeScale;\n                td.duration = mdhd_data.duration;\n            },\n            chap: async (len) => {\n                const td = this.getTrackDescription();\n                const trackIds = [];\n                while (len >= Token.UINT32_BE.len) {\n                    trackIds.push(await this.tokenizer.readNumber(Token.UINT32_BE));\n                    len -= Token.UINT32_BE.len;\n                }\n                td.chapterList = trackIds;\n            },\n            tkhd: async (len) => {\n                const track = (await this.tokenizer.readToken(new AtomToken.TrackHeaderAtom(len)));\n                this.tracks.push(track);\n            },\n            /**\n             * Parse mdat atom.\n             * Will scan for chapters\n             */\n            mdat: async (len) => {\n                this.audioLengthInBytes = len;\n                this.calculateBitRate();\n                if (this.options.includeChapters) {\n                    const trackWithChapters = this.tracks.filter(track => track.chapterList);\n                    if (trackWithChapters.length === 1) {\n                        const chapterTrackIds = trackWithChapters[0].chapterList;\n                        const chapterTracks = this.tracks.filter(track => chapterTrackIds.indexOf(track.trackId) !== -1);\n                        if (chapterTracks.length === 1) {\n                            return this.parseChapterTrack(chapterTracks[0], trackWithChapters[0], len);\n                        }\n                    }\n                }\n                await this.tokenizer.ignore(len);\n            },\n            ftyp: async (len) => {\n                const types = [];\n                while (len > 0) {\n                    const ftype = await this.tokenizer.readToken(AtomToken.ftyp);\n                    len -= AtomToken.ftyp.len;\n                    const value = ftype.type.replace(/\\W/g, '');\n                    if (value.length > 0) {\n                        types.push(value); // unshift for backward compatibility\n                    }\n                }\n                debug(`ftyp: ${types.join('/')}`);\n                const x = types.filter(distinct).join('/');\n                this.metadata.setFormat('container', x);\n            },\n            /**\n             * Parse sample description atom\n             */\n            stsd: async (len) => {\n                const stsd = await this.tokenizer.readToken(new AtomToken.StsdAtom(len));\n                const trackDescription = this.getTrackDescription();\n                trackDescription.soundSampleDescription = stsd.table.map(dfEntry => this.parseSoundSampleDescription(dfEntry));\n            },\n            /**\n             * sample-to-Chunk Atoms\n             */\n            stsc: async (len) => {\n                const stsc = await this.tokenizer.readToken(new AtomToken.StscAtom(len));\n                this.getTrackDescription().sampleToChunkTable = stsc.entries;\n            },\n            /**\n             * time-to-sample table\n             */\n            stts: async (len) => {\n                const stts = await this.tokenizer.readToken(new AtomToken.SttsAtom(len));\n                this.getTrackDescription().timeToSampleTable = stts.entries;\n            },\n            /**\n             * Parse sample-sizes atom ('stsz')\n             */\n            stsz: async (len) => {\n                const stsz = await this.tokenizer.readToken(new AtomToken.StszAtom(len));\n                const td = this.getTrackDescription();\n                td.sampleSize = stsz.sampleSize;\n                td.sampleSizeTable = stsz.entries;\n            },\n            /**\n             * Parse chunk-offset atom ('stco')\n             */\n            stco: async (len) => {\n                const stco = await this.tokenizer.readToken(new AtomToken.StcoAtom(len));\n                this.getTrackDescription().chunkOffsetTable = stco.entries; // remember chunk offsets\n            },\n            date: async (len) => {\n                const date = await this.tokenizer.readToken(new Token.StringType(len, 'utf-8'));\n                this.addTag('date', date);\n            }\n        };\n    }\n    static read_BE_Integer(array, signed) {\n        const integerType = (signed ? 'INT' : 'UINT') + array.length * 8 + (array.length > 1 ? '_BE' : '');\n        const token = Token[integerType];\n        if (!token) {\n            throw new Error('Token for integer type not found: \"' + integerType + '\"');\n        }\n        return Number(token.get(array, 0));\n    }\n    async parse() {\n        this.tracks = [];\n        let remainingFileSize = this.tokenizer.fileInfo.size;\n        while (!this.tokenizer.fileInfo.size || remainingFileSize > 0) {\n            try {\n                const token = await this.tokenizer.peekToken(AtomToken.Header);\n                if (token.name === '\\0\\0\\0\\0') {\n                    const errMsg = `Error at offset=${this.tokenizer.position}: box.id=0`;\n                    debug(errMsg);\n                    this.addWarning(errMsg);\n                    break;\n                }\n            }\n            catch (error) {\n                const errMsg = `Error at offset=${this.tokenizer.position}: ${error.message}`;\n                debug(errMsg);\n                this.addWarning(errMsg);\n                break;\n            }\n            const rootAtom = await Atom_1.Atom.readAtom(this.tokenizer, (atom, remaining) => this.handleAtom(atom, remaining), null, remainingFileSize);\n            remainingFileSize -= rootAtom.header.length === BigInt(0) ? remainingFileSize : Number(rootAtom.header.length);\n        }\n        // Post process metadata\n        const formatList = [];\n        this.tracks.forEach(track => {\n            const trackFormats = [];\n            track.soundSampleDescription.forEach(ssd => {\n                const streamInfo = {};\n                const encoderInfo = encoderDict[ssd.dataFormat];\n                if (encoderInfo) {\n                    trackFormats.push(encoderInfo.format);\n                    streamInfo.codecName = encoderInfo.format;\n                }\n                else {\n                    streamInfo.codecName = `<${ssd.dataFormat}>`;\n                }\n                if (ssd.description) {\n                    const { description } = ssd;\n                    if (description.sampleRate > 0) {\n                        streamInfo.type = type_1.TrackType.audio;\n                        streamInfo.audio = {\n                            samplingFrequency: description.sampleRate,\n                            bitDepth: description.sampleSize,\n                            channels: description.numAudioChannels\n                        };\n                    }\n                }\n                this.metadata.addStreamInfo(streamInfo);\n            });\n            if (trackFormats.length >= 1) {\n                formatList.push(trackFormats.join('/'));\n            }\n        });\n        if (formatList.length > 0) {\n            this.metadata.setFormat('codec', formatList.filter(distinct).join('+'));\n        }\n        const audioTracks = this.tracks.filter(track => {\n            return track.soundSampleDescription.length >= 1 && track.soundSampleDescription[0].description && track.soundSampleDescription[0].description.numAudioChannels > 0;\n        });\n        if (audioTracks.length >= 1) {\n            const audioTrack = audioTracks[0];\n            if (audioTrack.timeScale > 0) {\n                const duration = audioTrack.duration / audioTrack.timeScale; // calculate duration in seconds\n                this.metadata.setFormat('duration', duration);\n            }\n            const ssd = audioTrack.soundSampleDescription[0];\n            if (ssd.description) {\n                this.metadata.setFormat('sampleRate', ssd.description.sampleRate);\n                this.metadata.setFormat('bitsPerSample', ssd.description.sampleSize);\n                this.metadata.setFormat('numberOfChannels', ssd.description.numAudioChannels);\n                if (audioTrack.timeScale === 0 && audioTrack.timeToSampleTable.length > 0) {\n                    const totalSampleSize = audioTrack.timeToSampleTable\n                        .map(ttstEntry => ttstEntry.count * ttstEntry.duration)\n                        .reduce((total, sampleSize) => total + sampleSize);\n                    const duration = totalSampleSize / ssd.description.sampleRate;\n                    this.metadata.setFormat('duration', duration);\n                }\n            }\n            const encoderInfo = encoderDict[ssd.dataFormat];\n            if (encoderInfo) {\n                this.metadata.setFormat('lossless', !encoderInfo.lossy);\n            }\n            this.calculateBitRate();\n        }\n    }\n    async handleAtom(atom, remaining) {\n        if (atom.parent) {\n            switch (atom.parent.header.name) {\n                case 'ilst':\n                case '<id>':\n                    return this.parseMetadataItemData(atom);\n            }\n        }\n        // const payloadLength = atom.getPayloadLength(remaining);\n        if (this.atomParsers[atom.header.name]) {\n            return this.atomParsers[atom.header.name](remaining);\n        }\n        else {\n            debug(`No parser for atom path=${atom.atomPath}, payload-len=${remaining}, ignoring atom`);\n            await this.tokenizer.ignore(remaining);\n        }\n    }\n    getTrackDescription() {\n        return this.tracks[this.tracks.length - 1];\n    }\n    calculateBitRate() {\n        if (this.audioLengthInBytes && this.metadata.format.duration) {\n            this.metadata.setFormat('bitrate', 8 * this.audioLengthInBytes / this.metadata.format.duration);\n        }\n    }\n    addTag(id, value) {\n        this.metadata.addTag(tagFormat, id, value);\n    }\n    addWarning(message) {\n        debug('Warning: ' + message);\n        this.metadata.addWarning(message);\n    }\n    /**\n     * Parse data of Meta-item-list-atom (item of 'ilst' atom)\n     * @param metaAtom\n     * Ref: https://developer.apple.com/library/content/documentation/QuickTime/QTFF/Metadata/Metadata.html#//apple_ref/doc/uid/TP40000939-CH1-SW8\n     */\n    parseMetadataItemData(metaAtom) {\n        let tagKey = metaAtom.header.name;\n        return metaAtom.readAtoms(this.tokenizer, async (child, remaining) => {\n            const payLoadLength = child.getPayloadLength(remaining);\n            switch (child.header.name) {\n                case 'data': // value atom\n                    return this.parseValueAtom(tagKey, child);\n                case 'name': // name atom (optional)\n                case 'mean':\n                case 'rate':\n                    const name = await this.tokenizer.readToken(new AtomToken.NameAtom(payLoadLength));\n                    tagKey += ':' + name.name;\n                    break;\n                default:\n                    const dataAtom = await this.tokenizer.readToken(new Token.BufferType(payLoadLength));\n                    this.addWarning('Unsupported meta-item: ' + tagKey + '[' + child.header.name + '] => value=' + dataAtom.toString('hex') + ' ascii=' + dataAtom.toString('ascii'));\n            }\n        }, metaAtom.getPayloadLength(0));\n    }\n    async parseValueAtom(tagKey, metaAtom) {\n        const dataAtom = await this.tokenizer.readToken(new AtomToken.DataAtom(Number(metaAtom.header.length) - AtomToken.Header.len));\n        if (dataAtom.type.set !== 0) {\n            throw new Error('Unsupported type-set != 0: ' + dataAtom.type.set);\n        }\n        // Use well-known-type table\n        // Ref: https://developer.apple.com/library/content/documentation/QuickTime/QTFF/Metadata/Metadata.html#//apple_ref/doc/uid/TP40000939-CH1-SW35\n        switch (dataAtom.type.type) {\n            case 0: // reserved: Reserved for use where no type needs to be indicated\n                switch (tagKey) {\n                    case 'trkn':\n                    case 'disk':\n                        const num = Token.UINT8.get(dataAtom.value, 3);\n                        const of = Token.UINT8.get(dataAtom.value, 5);\n                        // console.log(\"  %s[data] = %s/%s\", tagKey, num, of);\n                        this.addTag(tagKey, num + '/' + of);\n                        break;\n                    case 'gnre':\n                        const genreInt = Token.UINT8.get(dataAtom.value, 1);\n                        const genreStr = ID3v1Parser_1.Genres[genreInt - 1];\n                        // console.log(\"  %s[data] = %s\", tagKey, genreStr);\n                        this.addTag(tagKey, genreStr);\n                        break;\n                    case 'rate':\n                        const rate = dataAtom.value.toString('ascii');\n                        this.addTag(tagKey, rate);\n                        break;\n                    default:\n                        debug('unknown proprietary value type for: ' + metaAtom.atomPath);\n                }\n                break;\n            case 1: // UTF-8: Without any count or NULL terminator\n            case 18: // Unknown: Found in m4b in combination with a '©gen' tag\n                this.addTag(tagKey, dataAtom.value.toString('utf-8'));\n                break;\n            case 13: // JPEG\n                if (this.options.skipCovers)\n                    break;\n                this.addTag(tagKey, {\n                    format: 'image/jpeg',\n                    data: Buffer.from(dataAtom.value)\n                });\n                break;\n            case 14: // PNG\n                if (this.options.skipCovers)\n                    break;\n                this.addTag(tagKey, {\n                    format: 'image/png',\n                    data: Buffer.from(dataAtom.value)\n                });\n                break;\n            case 21: // BE Signed Integer\n                this.addTag(tagKey, MP4Parser.read_BE_Integer(dataAtom.value, true));\n                break;\n            case 22: // BE Unsigned Integer\n                this.addTag(tagKey, MP4Parser.read_BE_Integer(dataAtom.value, false));\n                break;\n            case 65: // An 8-bit signed integer\n                this.addTag(tagKey, dataAtom.value.readInt8(0));\n                break;\n            case 66: // A big-endian 16-bit signed integer\n                this.addTag(tagKey, dataAtom.value.readInt16BE(0));\n                break;\n            case 67: // A big-endian 32-bit signed integer\n                this.addTag(tagKey, dataAtom.value.readInt32BE(0));\n                break;\n            default:\n                this.addWarning(`atom key=${tagKey}, has unknown well-known-type (data-type): ${dataAtom.type.type}`);\n        }\n    }\n    /**\n     * @param sampleDescription\n     * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap3/qtff3.html#//apple_ref/doc/uid/TP40000939-CH205-128916\n     */\n    parseSoundSampleDescription(sampleDescription) {\n        const ssd = {\n            dataFormat: sampleDescription.dataFormat,\n            dataReferenceIndex: sampleDescription.dataReferenceIndex\n        };\n        let offset = 0;\n        const version = AtomToken.SoundSampleDescriptionVersion.get(sampleDescription.description, offset);\n        offset += AtomToken.SoundSampleDescriptionVersion.len;\n        if (version.version === 0 || version.version === 1) {\n            // Sound Sample Description (Version 0)\n            ssd.description = AtomToken.SoundSampleDescriptionV0.get(sampleDescription.description, offset);\n        }\n        else {\n            debug(`Warning: sound-sample-description ${version} not implemented`);\n        }\n        return ssd;\n    }\n    async parseChapterTrack(chapterTrack, track, len) {\n        if (!chapterTrack.sampleSize) {\n            if (chapterTrack.chunkOffsetTable.length !== chapterTrack.sampleSizeTable.length)\n                throw new Error('Expected equal chunk-offset-table & sample-size-table length.');\n        }\n        const chapters = [];\n        for (let i = 0; i < chapterTrack.chunkOffsetTable.length && len > 0; ++i) {\n            const chunkOffset = chapterTrack.chunkOffsetTable[i];\n            const nextChunkLen = chunkOffset - this.tokenizer.position;\n            const sampleSize = chapterTrack.sampleSize > 0 ? chapterTrack.sampleSize : chapterTrack.sampleSizeTable[i];\n            len -= nextChunkLen + sampleSize;\n            if (len < 0)\n                throw new Error('Chapter chunk exceeding token length');\n            await this.tokenizer.ignore(nextChunkLen);\n            const title = await this.tokenizer.readToken(new AtomToken.ChapterText(sampleSize));\n            debug(`Chapter ${i + 1}: ${title}`);\n            const chapter = {\n                title,\n                sampleOffset: this.findSampleOffset(track, this.tokenizer.position)\n            };\n            debug(`Chapter title=${chapter.title}, offset=${chapter.sampleOffset}/${this.tracks[0].duration}`);\n            chapters.push(chapter);\n        }\n        this.metadata.setFormat('chapters', chapters);\n        await this.tokenizer.ignore(len);\n    }\n    findSampleOffset(track, chapterOffset) {\n        let totalDuration = 0;\n        track.timeToSampleTable.forEach(e => {\n            totalDuration += e.count * e.duration;\n        });\n        debug(`Total duration=${totalDuration}`);\n        let chunkIndex = 0;\n        while (chunkIndex < track.chunkOffsetTable.length && track.chunkOffsetTable[chunkIndex] < chapterOffset) {\n            ++chunkIndex;\n        }\n        return this.getChunkDuration(chunkIndex + 1, track);\n    }\n    getChunkDuration(chunkId, track) {\n        let ttsi = 0;\n        let ttsc = track.timeToSampleTable[ttsi].count;\n        let ttsd = track.timeToSampleTable[ttsi].duration;\n        let curChunkId = 1;\n        let samplesPerChunk = this.getSamplesPerChunk(curChunkId, track.sampleToChunkTable);\n        let totalDuration = 0;\n        while (curChunkId < chunkId) {\n            const nrOfSamples = Math.min(ttsc, samplesPerChunk);\n            totalDuration += nrOfSamples * ttsd;\n            ttsc -= nrOfSamples;\n            samplesPerChunk -= nrOfSamples;\n            if (samplesPerChunk === 0) {\n                ++curChunkId;\n                samplesPerChunk = this.getSamplesPerChunk(curChunkId, track.sampleToChunkTable);\n            }\n            else {\n                ++ttsi;\n                ttsc = track.timeToSampleTable[ttsi].count;\n                ttsd = track.timeToSampleTable[ttsi].duration;\n            }\n        }\n        return totalDuration;\n    }\n    getSamplesPerChunk(chunkId, stcTable) {\n        for (let i = 0; i < stcTable.length - 1; ++i) {\n            if (chunkId >= stcTable[i].firstChunk && chunkId < stcTable[i + 1].firstChunk) {\n                return stcTable[i].samplesPerChunk;\n            }\n        }\n        return stcTable[stcTable.length - 1].samplesPerChunk;\n    }\n}\nexports.MP4Parser = MP4Parser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wNC9NUDRQYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLGNBQWMsbUJBQU8sQ0FBQyxrRUFBYTtBQUNuQyxzQkFBc0IsbUJBQU8sQ0FBQyw0RkFBdUI7QUFDckQsc0JBQXNCLG1CQUFPLENBQUMsMEZBQXNCO0FBQ3BELGVBQWUsbUJBQU8sQ0FBQyxnRUFBUztBQUNoQyxlQUFlLG1CQUFPLENBQUMsbUVBQVE7QUFDL0Isa0JBQWtCLG1CQUFPLENBQUMsNkVBQWE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQSwrQkFBK0IsZ0JBQWdCO0FBQy9DO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEU7QUFDNUUsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCx3QkFBd0I7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHdCQUF3QixJQUFJLGNBQWM7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsZUFBZTtBQUM5RDtBQUNBO0FBQ0EsNEJBQTRCLGNBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsY0FBYyxnQkFBZ0IsVUFBVTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxPQUFPLDZDQUE2QyxtQkFBbUI7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsU0FBUztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscURBQXFEO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsTUFBTSxJQUFJLE1BQU07QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsY0FBYyxXQUFXLHFCQUFxQixHQUFHLHdCQUF3QjtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsZ0NBQWdDLGNBQWM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUJBQXlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wNC9NUDRQYXJzZXIuanM/NjFiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTVA0UGFyc2VyID0gdm9pZCAwO1xuY29uc3QgZGVidWdfMSA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY29uc3QgQmFzaWNQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vQmFzaWNQYXJzZXJcIik7XG5jb25zdCBJRDN2MVBhcnNlcl8xID0gcmVxdWlyZShcIi4uL2lkM3YxL0lEM3YxUGFyc2VyXCIpO1xuY29uc3QgdHlwZV8xID0gcmVxdWlyZShcIi4uL3R5cGVcIik7XG5jb25zdCBBdG9tXzEgPSByZXF1aXJlKFwiLi9BdG9tXCIpO1xuY29uc3QgQXRvbVRva2VuID0gcmVxdWlyZShcIi4vQXRvbVRva2VuXCIpO1xuY29uc3QgZGVidWcgPSAoMCwgZGVidWdfMS5kZWZhdWx0KSgnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOk1QNCcpO1xuY29uc3QgdGFnRm9ybWF0ID0gJ2lUdW5lcyc7XG5jb25zdCBlbmNvZGVyRGljdCA9IHtcbiAgICByYXc6IHtcbiAgICAgICAgbG9zc3k6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6ICdyYXcnXG4gICAgfSxcbiAgICBNQUMzOiB7XG4gICAgICAgIGxvc3N5OiB0cnVlLFxuICAgICAgICBmb3JtYXQ6ICdNQUNFIDM6MSdcbiAgICB9LFxuICAgIE1BQzY6IHtcbiAgICAgICAgbG9zc3k6IHRydWUsXG4gICAgICAgIGZvcm1hdDogJ01BQ0UgNjoxJ1xuICAgIH0sXG4gICAgaW1hNDoge1xuICAgICAgICBsb3NzeTogdHJ1ZSxcbiAgICAgICAgZm9ybWF0OiAnSU1BIDQ6MSdcbiAgICB9LFxuICAgIHVsYXc6IHtcbiAgICAgICAgbG9zc3k6IHRydWUsXG4gICAgICAgIGZvcm1hdDogJ3VMYXcgMjoxJ1xuICAgIH0sXG4gICAgYWxhdzoge1xuICAgICAgICBsb3NzeTogdHJ1ZSxcbiAgICAgICAgZm9ybWF0OiAndUxhdyAyOjEnXG4gICAgfSxcbiAgICBRY2xwOiB7XG4gICAgICAgIGxvc3N5OiB0cnVlLFxuICAgICAgICBmb3JtYXQ6ICdRVUFMQ09NTSBQdXJlVm9pY2UnXG4gICAgfSxcbiAgICAnLm1wMyc6IHtcbiAgICAgICAgbG9zc3k6IHRydWUsXG4gICAgICAgIGZvcm1hdDogJ01QRUctMSBsYXllciAzJ1xuICAgIH0sXG4gICAgYWxhYzoge1xuICAgICAgICBsb3NzeTogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogJ0FMQUMnXG4gICAgfSxcbiAgICAnYWMtMyc6IHtcbiAgICAgICAgbG9zc3k6IHRydWUsXG4gICAgICAgIGZvcm1hdDogJ0FDLTMnXG4gICAgfSxcbiAgICBtcDRhOiB7XG4gICAgICAgIGxvc3N5OiB0cnVlLFxuICAgICAgICBmb3JtYXQ6ICdNUEVHLTQvQUFDJ1xuICAgIH0sXG4gICAgbXA0czoge1xuICAgICAgICBsb3NzeTogdHJ1ZSxcbiAgICAgICAgZm9ybWF0OiAnTVA0UydcbiAgICB9LFxuICAgIC8vIENsb3NlZCBDYXB0aW9uaW5nIE1lZGlhLCBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9hcmNoaXZlL2RvY3VtZW50YXRpb24vUXVpY2tUaW1lL1FURkYvUVRGRkNoYXAzL3F0ZmYzLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMjA1LVNXODdcbiAgICBjNjA4OiB7XG4gICAgICAgIGxvc3N5OiB0cnVlLFxuICAgICAgICBmb3JtYXQ6ICdDRUEtNjA4J1xuICAgIH0sXG4gICAgYzcwODoge1xuICAgICAgICBsb3NzeTogdHJ1ZSxcbiAgICAgICAgZm9ybWF0OiAnQ0VBLTcwOCdcbiAgICB9XG59O1xuZnVuY3Rpb24gZGlzdGluY3QodmFsdWUsIGluZGV4LCBzZWxmKSB7XG4gICAgcmV0dXJuIHNlbGYuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4O1xufVxuLypcbiAqIFBhcnNlciBmb3IgdGhlIE1QNCAoTVBFRy00IFBhcnQgMTQpIGNvbnRhaW5lciBmb3JtYXRcbiAqIFN0YW5kYXJkOiBJU08vSUVDIDE0NDk2LTE0XG4gKiBzdXBwb3J0aW5nOlxuICogLSBRdWlja1RpbWUgY29udGFpbmVyXG4gKiAtIE1QNCBGaWxlIEZvcm1hdFxuICogLSAzR1BQIGZpbGUgZm9ybWF0XG4gKiAtIDNHUFAyIGZpbGUgZm9ybWF0XG4gKlxuICogTVBFRy00IEF1ZGlvIC8gUGFydCAzICgubTRhKSYgTVBFRyA0IFZpZGVvIChtNHYsIG1wNCkgZXh0ZW5zaW9uLlxuICogU3VwcG9ydCBmb3IgQXBwbGUgaVR1bmVzIHRhZ3MgYXMgZm91bmQgaW4gYSBNNEEvTTRWIGZpbGVzLlxuICogUmVmOlxuICogICBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fYmFzZV9tZWRpYV9maWxlX2Zvcm1hdFxuICogICBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9hcmNoaXZlL2RvY3VtZW50YXRpb24vUXVpY2tUaW1lL1FURkYvTWV0YWRhdGEvTWV0YWRhdGEuaHRtbFxuICogICBodHRwOi8vYXRvbWljcGFyc2xleS5zb3VyY2Vmb3JnZS5uZXQvbXBlZy00ZmlsZXMuaHRtbFxuICogICBodHRwczovL2dpdGh1Yi5jb20vc2VyZ2lvbWIyL2xpYm1wNHYyL3dpa2kvaVR1bmVzTWV0YWRhdGFcbiAqICAgaHR0cHM6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwL1F1aWNrVGltZV9jb250YWluZXJcbiAqL1xuY2xhc3MgTVA0UGFyc2VyIGV4dGVuZHMgQmFzaWNQYXJzZXJfMS5CYXNpY1BhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuYXRvbVBhcnNlcnMgPSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBhcnNlIG1vdmllIGhlYWRlciAobXZoZCkgYXRvbVxuICAgICAgICAgICAgICogUmVmOiBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9hcmNoaXZlL2RvY3VtZW50YXRpb24vUXVpY2tUaW1lL1FURkYvUVRGRkNoYXAyL3F0ZmYyLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMjA0LTU2MzEzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG12aGQ6IGFzeW5jIChsZW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtdmhkID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBdG9tVG9rZW4uTXZoZEF0b20obGVuKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NyZWF0aW9uVGltZScsIG12aGQuY3JlYXRpb25UaW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbW9kaWZpY2F0aW9uVGltZScsIG12aGQubW9kaWZpY2F0aW9uVGltZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQYXJzZSBtZWRpYSBoZWFkZXIgKG1kaGQpIGF0b21cbiAgICAgICAgICAgICAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMi9xdGZmMi5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNC0yNTYxNVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtZGhkOiBhc3luYyAobGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWRoZF9kYXRhID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBdG9tVG9rZW4uTWRoZEF0b20obGVuKSk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5wYXJzZV9teGhkKG1kaGRfZGF0YSwgdGhpcy5jdXJyZW50VHJhY2spO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRkID0gdGhpcy5nZXRUcmFja0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGQuY3JlYXRpb25UaW1lID0gbWRoZF9kYXRhLmNyZWF0aW9uVGltZTtcbiAgICAgICAgICAgICAgICB0ZC5tb2RpZmljYXRpb25UaW1lID0gbWRoZF9kYXRhLm1vZGlmaWNhdGlvblRpbWU7XG4gICAgICAgICAgICAgICAgdGQudGltZVNjYWxlID0gbWRoZF9kYXRhLnRpbWVTY2FsZTtcbiAgICAgICAgICAgICAgICB0ZC5kdXJhdGlvbiA9IG1kaGRfZGF0YS5kdXJhdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGFwOiBhc3luYyAobGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGQgPSB0aGlzLmdldFRyYWNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFja0lkcyA9IFtdO1xuICAgICAgICAgICAgICAgIHdoaWxlIChsZW4gPj0gVG9rZW4uVUlOVDMyX0JFLmxlbikge1xuICAgICAgICAgICAgICAgICAgICB0cmFja0lkcy5wdXNoKGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWROdW1iZXIoVG9rZW4uVUlOVDMyX0JFKSk7XG4gICAgICAgICAgICAgICAgICAgIGxlbiAtPSBUb2tlbi5VSU5UMzJfQkUubGVuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZC5jaGFwdGVyTGlzdCA9IHRyYWNrSWRzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRraGQ6IGFzeW5jIChsZW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFjayA9IChhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEF0b21Ub2tlbi5UcmFja0hlYWRlckF0b20obGVuKSkpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tzLnB1c2godHJhY2spO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGFyc2UgbWRhdCBhdG9tLlxuICAgICAgICAgICAgICogV2lsbCBzY2FuIGZvciBjaGFwdGVyc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtZGF0OiBhc3luYyAobGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb0xlbmd0aEluQnl0ZXMgPSBsZW47XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCaXRSYXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmNsdWRlQ2hhcHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhY2tXaXRoQ2hhcHRlcnMgPSB0aGlzLnRyYWNrcy5maWx0ZXIodHJhY2sgPT4gdHJhY2suY2hhcHRlckxpc3QpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2tXaXRoQ2hhcHRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFwdGVyVHJhY2tJZHMgPSB0cmFja1dpdGhDaGFwdGVyc1swXS5jaGFwdGVyTGlzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXB0ZXJUcmFja3MgPSB0aGlzLnRyYWNrcy5maWx0ZXIodHJhY2sgPT4gY2hhcHRlclRyYWNrSWRzLmluZGV4T2YodHJhY2sudHJhY2tJZCkgIT09IC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFwdGVyVHJhY2tzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlQ2hhcHRlclRyYWNrKGNoYXB0ZXJUcmFja3NbMF0sIHRyYWNrV2l0aENoYXB0ZXJzWzBdLCBsZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShsZW4pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ0eXA6IGFzeW5jIChsZW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHdoaWxlIChsZW4gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZ0eXBlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEF0b21Ub2tlbi5mdHlwKTtcbiAgICAgICAgICAgICAgICAgICAgbGVuIC09IEF0b21Ub2tlbi5mdHlwLmxlbjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBmdHlwZS50eXBlLnJlcGxhY2UoL1xcVy9nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlcy5wdXNoKHZhbHVlKTsgLy8gdW5zaGlmdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlYnVnKGBmdHlwOiAke3R5cGVzLmpvaW4oJy8nKX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gdHlwZXMuZmlsdGVyKGRpc3RpbmN0KS5qb2luKCcvJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsIHgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGFyc2Ugc2FtcGxlIGRlc2NyaXB0aW9uIGF0b21cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3RzZDogYXN5bmMgKGxlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0c2QgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEF0b21Ub2tlbi5TdHNkQXRvbShsZW4pKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFja0Rlc2NyaXB0aW9uID0gdGhpcy5nZXRUcmFja0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgdHJhY2tEZXNjcmlwdGlvbi5zb3VuZFNhbXBsZURlc2NyaXB0aW9uID0gc3RzZC50YWJsZS5tYXAoZGZFbnRyeSA9PiB0aGlzLnBhcnNlU291bmRTYW1wbGVEZXNjcmlwdGlvbihkZkVudHJ5KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBzYW1wbGUtdG8tQ2h1bmsgQXRvbXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3RzYzogYXN5bmMgKGxlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0c2MgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEF0b21Ub2tlbi5TdHNjQXRvbShsZW4pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdldFRyYWNrRGVzY3JpcHRpb24oKS5zYW1wbGVUb0NodW5rVGFibGUgPSBzdHNjLmVudHJpZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiB0aW1lLXRvLXNhbXBsZSB0YWJsZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzdHRzOiBhc3luYyAobGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R0cyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgQXRvbVRva2VuLlN0dHNBdG9tKGxlbikpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0VHJhY2tEZXNjcmlwdGlvbigpLnRpbWVUb1NhbXBsZVRhYmxlID0gc3R0cy5lbnRyaWVzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGFyc2Ugc2FtcGxlLXNpemVzIGF0b20gKCdzdHN6JylcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3RzejogYXN5bmMgKGxlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0c3ogPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEF0b21Ub2tlbi5TdHN6QXRvbShsZW4pKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZCA9IHRoaXMuZ2V0VHJhY2tEZXNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgIHRkLnNhbXBsZVNpemUgPSBzdHN6LnNhbXBsZVNpemU7XG4gICAgICAgICAgICAgICAgdGQuc2FtcGxlU2l6ZVRhYmxlID0gc3Rzei5lbnRyaWVzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGFyc2UgY2h1bmstb2Zmc2V0IGF0b20gKCdzdGNvJylcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3RjbzogYXN5bmMgKGxlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0Y28gPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEF0b21Ub2tlbi5TdGNvQXRvbShsZW4pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdldFRyYWNrRGVzY3JpcHRpb24oKS5jaHVua09mZnNldFRhYmxlID0gc3Rjby5lbnRyaWVzOyAvLyByZW1lbWJlciBjaHVuayBvZmZzZXRzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0ZTogYXN5bmMgKGxlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLlN0cmluZ1R5cGUobGVuLCAndXRmLTgnKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUYWcoJ2RhdGUnLCBkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHJlYWRfQkVfSW50ZWdlcihhcnJheSwgc2lnbmVkKSB7XG4gICAgICAgIGNvbnN0IGludGVnZXJUeXBlID0gKHNpZ25lZCA/ICdJTlQnIDogJ1VJTlQnKSArIGFycmF5Lmxlbmd0aCAqIDggKyAoYXJyYXkubGVuZ3RoID4gMSA/ICdfQkUnIDogJycpO1xuICAgICAgICBjb25zdCB0b2tlbiA9IFRva2VuW2ludGVnZXJUeXBlXTtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbiBmb3IgaW50ZWdlciB0eXBlIG5vdCBmb3VuZDogXCInICsgaW50ZWdlclR5cGUgKyAnXCInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTnVtYmVyKHRva2VuLmdldChhcnJheSwgMCkpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgdGhpcy50cmFja3MgPSBbXTtcbiAgICAgICAgbGV0IHJlbWFpbmluZ0ZpbGVTaXplID0gdGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZTtcbiAgICAgICAgd2hpbGUgKCF0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIHx8IHJlbWFpbmluZ0ZpbGVTaXplID4gMCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnBlZWtUb2tlbihBdG9tVG9rZW4uSGVhZGVyKTtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4ubmFtZSA9PT0gJ1xcMFxcMFxcMFxcMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyTXNnID0gYEVycm9yIGF0IG9mZnNldD0ke3RoaXMudG9rZW5pemVyLnBvc2l0aW9ufTogYm94LmlkPTBgO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhlcnJNc2cpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFdhcm5pbmcoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyTXNnID0gYEVycm9yIGF0IG9mZnNldD0ke3RoaXMudG9rZW5pemVyLnBvc2l0aW9ufTogJHtlcnJvci5tZXNzYWdlfWA7XG4gICAgICAgICAgICAgICAgZGVidWcoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFdhcm5pbmcoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJvb3RBdG9tID0gYXdhaXQgQXRvbV8xLkF0b20ucmVhZEF0b20odGhpcy50b2tlbml6ZXIsIChhdG9tLCByZW1haW5pbmcpID0+IHRoaXMuaGFuZGxlQXRvbShhdG9tLCByZW1haW5pbmcpLCBudWxsLCByZW1haW5pbmdGaWxlU2l6ZSk7XG4gICAgICAgICAgICByZW1haW5pbmdGaWxlU2l6ZSAtPSByb290QXRvbS5oZWFkZXIubGVuZ3RoID09PSBCaWdJbnQoMCkgPyByZW1haW5pbmdGaWxlU2l6ZSA6IE51bWJlcihyb290QXRvbS5oZWFkZXIubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQb3N0IHByb2Nlc3MgbWV0YWRhdGFcbiAgICAgICAgY29uc3QgZm9ybWF0TGlzdCA9IFtdO1xuICAgICAgICB0aGlzLnRyYWNrcy5mb3JFYWNoKHRyYWNrID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrRm9ybWF0cyA9IFtdO1xuICAgICAgICAgICAgdHJhY2suc291bmRTYW1wbGVEZXNjcmlwdGlvbi5mb3JFYWNoKHNzZCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtSW5mbyA9IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuY29kZXJJbmZvID0gZW5jb2RlckRpY3Rbc3NkLmRhdGFGb3JtYXRdO1xuICAgICAgICAgICAgICAgIGlmIChlbmNvZGVySW5mbykge1xuICAgICAgICAgICAgICAgICAgICB0cmFja0Zvcm1hdHMucHVzaChlbmNvZGVySW5mby5mb3JtYXQpO1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW1JbmZvLmNvZGVjTmFtZSA9IGVuY29kZXJJbmZvLmZvcm1hdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbUluZm8uY29kZWNOYW1lID0gYDwke3NzZC5kYXRhRm9ybWF0fT5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3NkLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGVzY3JpcHRpb24gfSA9IHNzZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9uLnNhbXBsZVJhdGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1JbmZvLnR5cGUgPSB0eXBlXzEuVHJhY2tUeXBlLmF1ZGlvO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtSW5mby5hdWRpbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYW1wbGluZ0ZyZXF1ZW5jeTogZGVzY3JpcHRpb24uc2FtcGxlUmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXREZXB0aDogZGVzY3JpcHRpb24uc2FtcGxlU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsczogZGVzY3JpcHRpb24ubnVtQXVkaW9DaGFubmVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFN0cmVhbUluZm8oc3RyZWFtSW5mbyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0cmFja0Zvcm1hdHMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXRMaXN0LnB1c2godHJhY2tGb3JtYXRzLmpvaW4oJy8nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZm9ybWF0TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29kZWMnLCBmb3JtYXRMaXN0LmZpbHRlcihkaXN0aW5jdCkuam9pbignKycpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdWRpb1RyYWNrcyA9IHRoaXMudHJhY2tzLmZpbHRlcih0cmFjayA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdHJhY2suc291bmRTYW1wbGVEZXNjcmlwdGlvbi5sZW5ndGggPj0gMSAmJiB0cmFjay5zb3VuZFNhbXBsZURlc2NyaXB0aW9uWzBdLmRlc2NyaXB0aW9uICYmIHRyYWNrLnNvdW5kU2FtcGxlRGVzY3JpcHRpb25bMF0uZGVzY3JpcHRpb24ubnVtQXVkaW9DaGFubmVscyA+IDA7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYXVkaW9UcmFja3MubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvVHJhY2sgPSBhdWRpb1RyYWNrc1swXTtcbiAgICAgICAgICAgIGlmIChhdWRpb1RyYWNrLnRpbWVTY2FsZSA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGF1ZGlvVHJhY2suZHVyYXRpb24gLyBhdWRpb1RyYWNrLnRpbWVTY2FsZTsgLy8gY2FsY3VsYXRlIGR1cmF0aW9uIGluIHNlY29uZHNcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBkdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzc2QgPSBhdWRpb1RyYWNrLnNvdW5kU2FtcGxlRGVzY3JpcHRpb25bMF07XG4gICAgICAgICAgICBpZiAoc3NkLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBzc2QuZGVzY3JpcHRpb24uc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHNQZXJTYW1wbGUnLCBzc2QuZGVzY3JpcHRpb24uc2FtcGxlU2l6ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mQ2hhbm5lbHMnLCBzc2QuZGVzY3JpcHRpb24ubnVtQXVkaW9DaGFubmVscyk7XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvVHJhY2sudGltZVNjYWxlID09PSAwICYmIGF1ZGlvVHJhY2sudGltZVRvU2FtcGxlVGFibGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFNhbXBsZVNpemUgPSBhdWRpb1RyYWNrLnRpbWVUb1NhbXBsZVRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKHR0c3RFbnRyeSA9PiB0dHN0RW50cnkuY291bnQgKiB0dHN0RW50cnkuZHVyYXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVkdWNlKCh0b3RhbCwgc2FtcGxlU2l6ZSkgPT4gdG90YWwgKyBzYW1wbGVTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSB0b3RhbFNhbXBsZVNpemUgLyBzc2QuZGVzY3JpcHRpb24uc2FtcGxlUmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVuY29kZXJJbmZvID0gZW5jb2RlckRpY3Rbc3NkLmRhdGFGb3JtYXRdO1xuICAgICAgICAgICAgaWYgKGVuY29kZXJJbmZvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2xvc3NsZXNzJywgIWVuY29kZXJJbmZvLmxvc3N5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQml0UmF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZUF0b20oYXRvbSwgcmVtYWluaW5nKSB7XG4gICAgICAgIGlmIChhdG9tLnBhcmVudCkge1xuICAgICAgICAgICAgc3dpdGNoIChhdG9tLnBhcmVudC5oZWFkZXIubmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2lsc3QnOlxuICAgICAgICAgICAgICAgIGNhc2UgJzxpZD4nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZU1ldGFkYXRhSXRlbURhdGEoYXRvbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc3QgcGF5bG9hZExlbmd0aCA9IGF0b20uZ2V0UGF5bG9hZExlbmd0aChyZW1haW5pbmcpO1xuICAgICAgICBpZiAodGhpcy5hdG9tUGFyc2Vyc1thdG9tLmhlYWRlci5uYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXRvbVBhcnNlcnNbYXRvbS5oZWFkZXIubmFtZV0ocmVtYWluaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlYnVnKGBObyBwYXJzZXIgZm9yIGF0b20gcGF0aD0ke2F0b20uYXRvbVBhdGh9LCBwYXlsb2FkLWxlbj0ke3JlbWFpbmluZ30sIGlnbm9yaW5nIGF0b21gKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShyZW1haW5pbmcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFRyYWNrRGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYWNrc1t0aGlzLnRyYWNrcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgY2FsY3VsYXRlQml0UmF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9MZW5ndGhJbkJ5dGVzICYmIHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIDggKiB0aGlzLmF1ZGlvTGVuZ3RoSW5CeXRlcyAvIHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRUYWcoaWQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuYWRkVGFnKHRhZ0Zvcm1hdCwgaWQsIHZhbHVlKTtcbiAgICB9XG4gICAgYWRkV2FybmluZyhtZXNzYWdlKSB7XG4gICAgICAgIGRlYnVnKCdXYXJuaW5nOiAnICsgbWVzc2FnZSk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuYWRkV2FybmluZyhtZXNzYWdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgZGF0YSBvZiBNZXRhLWl0ZW0tbGlzdC1hdG9tIChpdGVtIG9mICdpbHN0JyBhdG9tKVxuICAgICAqIEBwYXJhbSBtZXRhQXRvbVxuICAgICAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvY29udGVudC9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL01ldGFkYXRhL01ldGFkYXRhLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMS1TVzhcbiAgICAgKi9cbiAgICBwYXJzZU1ldGFkYXRhSXRlbURhdGEobWV0YUF0b20pIHtcbiAgICAgICAgbGV0IHRhZ0tleSA9IG1ldGFBdG9tLmhlYWRlci5uYW1lO1xuICAgICAgICByZXR1cm4gbWV0YUF0b20ucmVhZEF0b21zKHRoaXMudG9rZW5pemVyLCBhc3luYyAoY2hpbGQsIHJlbWFpbmluZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF5TG9hZExlbmd0aCA9IGNoaWxkLmdldFBheWxvYWRMZW5ndGgocmVtYWluaW5nKTtcbiAgICAgICAgICAgIHN3aXRjaCAoY2hpbGQuaGVhZGVyLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRhJzogLy8gdmFsdWUgYXRvbVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVZhbHVlQXRvbSh0YWdLZXksIGNoaWxkKTtcbiAgICAgICAgICAgICAgICBjYXNlICduYW1lJzogLy8gbmFtZSBhdG9tIChvcHRpb25hbClcbiAgICAgICAgICAgICAgICBjYXNlICdtZWFuJzpcbiAgICAgICAgICAgICAgICBjYXNlICdyYXRlJzpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgQXRvbVRva2VuLk5hbWVBdG9tKHBheUxvYWRMZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgdGFnS2V5ICs9ICc6JyArIG5hbWUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YUF0b20gPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLkJ1ZmZlclR5cGUocGF5TG9hZExlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFdhcm5pbmcoJ1Vuc3VwcG9ydGVkIG1ldGEtaXRlbTogJyArIHRhZ0tleSArICdbJyArIGNoaWxkLmhlYWRlci5uYW1lICsgJ10gPT4gdmFsdWU9JyArIGRhdGFBdG9tLnRvU3RyaW5nKCdoZXgnKSArICcgYXNjaWk9JyArIGRhdGFBdG9tLnRvU3RyaW5nKCdhc2NpaScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgbWV0YUF0b20uZ2V0UGF5bG9hZExlbmd0aCgwKSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlVmFsdWVBdG9tKHRhZ0tleSwgbWV0YUF0b20pIHtcbiAgICAgICAgY29uc3QgZGF0YUF0b20gPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEF0b21Ub2tlbi5EYXRhQXRvbShOdW1iZXIobWV0YUF0b20uaGVhZGVyLmxlbmd0aCkgLSBBdG9tVG9rZW4uSGVhZGVyLmxlbikpO1xuICAgICAgICBpZiAoZGF0YUF0b20udHlwZS5zZXQgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgdHlwZS1zZXQgIT0gMDogJyArIGRhdGFBdG9tLnR5cGUuc2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVc2Ugd2VsbC1rbm93bi10eXBlIHRhYmxlXG4gICAgICAgIC8vIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvY29udGVudC9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL01ldGFkYXRhL01ldGFkYXRhLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMS1TVzM1XG4gICAgICAgIHN3aXRjaCAoZGF0YUF0b20udHlwZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDA6IC8vIHJlc2VydmVkOiBSZXNlcnZlZCBmb3IgdXNlIHdoZXJlIG5vIHR5cGUgbmVlZHMgdG8gYmUgaW5kaWNhdGVkXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0YWdLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndHJrbic6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2snOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtID0gVG9rZW4uVUlOVDguZ2V0KGRhdGFBdG9tLnZhbHVlLCAzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mID0gVG9rZW4uVUlOVDguZ2V0KGRhdGFBdG9tLnZhbHVlLCA1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiICAlc1tkYXRhXSA9ICVzLyVzXCIsIHRhZ0tleSwgbnVtLCBvZik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRhZyh0YWdLZXksIG51bSArICcvJyArIG9mKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdnbnJlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbnJlSW50ID0gVG9rZW4uVUlOVDguZ2V0KGRhdGFBdG9tLnZhbHVlLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbnJlU3RyID0gSUQzdjFQYXJzZXJfMS5HZW5yZXNbZ2VucmVJbnQgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiICAlc1tkYXRhXSA9ICVzXCIsIHRhZ0tleSwgZ2VucmVTdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUYWcodGFnS2V5LCBnZW5yZVN0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmF0ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXRlID0gZGF0YUF0b20udmFsdWUudG9TdHJpbmcoJ2FzY2lpJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRhZyh0YWdLZXksIHJhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygndW5rbm93biBwcm9wcmlldGFyeSB2YWx1ZSB0eXBlIGZvcjogJyArIG1ldGFBdG9tLmF0b21QYXRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6IC8vIFVURi04OiBXaXRob3V0IGFueSBjb3VudCBvciBOVUxMIHRlcm1pbmF0b3JcbiAgICAgICAgICAgIGNhc2UgMTg6IC8vIFVua25vd246IEZvdW5kIGluIG00YiBpbiBjb21iaW5hdGlvbiB3aXRoIGEgJ8KpZ2VuJyB0YWdcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRhZyh0YWdLZXksIGRhdGFBdG9tLnZhbHVlLnRvU3RyaW5nKCd1dGYtOCcpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTM6IC8vIEpQRUdcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNraXBDb3ZlcnMpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVGFnKHRhZ0tleSwge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICdpbWFnZS9qcGVnJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogQnVmZmVyLmZyb20oZGF0YUF0b20udmFsdWUpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE0OiAvLyBQTkdcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNraXBDb3ZlcnMpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVGFnKHRhZ0tleSwge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICdpbWFnZS9wbmcnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBCdWZmZXIuZnJvbShkYXRhQXRvbS52YWx1ZSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjE6IC8vIEJFIFNpZ25lZCBJbnRlZ2VyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUYWcodGFnS2V5LCBNUDRQYXJzZXIucmVhZF9CRV9JbnRlZ2VyKGRhdGFBdG9tLnZhbHVlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDIyOiAvLyBCRSBVbnNpZ25lZCBJbnRlZ2VyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUYWcodGFnS2V5LCBNUDRQYXJzZXIucmVhZF9CRV9JbnRlZ2VyKGRhdGFBdG9tLnZhbHVlLCBmYWxzZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2NTogLy8gQW4gOC1iaXQgc2lnbmVkIGludGVnZXJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRhZyh0YWdLZXksIGRhdGFBdG9tLnZhbHVlLnJlYWRJbnQ4KDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjY6IC8vIEEgYmlnLWVuZGlhbiAxNi1iaXQgc2lnbmVkIGludGVnZXJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRhZyh0YWdLZXksIGRhdGFBdG9tLnZhbHVlLnJlYWRJbnQxNkJFKDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjc6IC8vIEEgYmlnLWVuZGlhbiAzMi1iaXQgc2lnbmVkIGludGVnZXJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRhZyh0YWdLZXksIGRhdGFBdG9tLnZhbHVlLnJlYWRJbnQzMkJFKDApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRXYXJuaW5nKGBhdG9tIGtleT0ke3RhZ0tleX0sIGhhcyB1bmtub3duIHdlbGwta25vd24tdHlwZSAoZGF0YS10eXBlKTogJHtkYXRhQXRvbS50eXBlLnR5cGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNhbXBsZURlc2NyaXB0aW9uXG4gICAgICogUmVmOiBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9hcmNoaXZlL2RvY3VtZW50YXRpb24vUXVpY2tUaW1lL1FURkYvUVRGRkNoYXAzL3F0ZmYzLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMjA1LTEyODkxNlxuICAgICAqL1xuICAgIHBhcnNlU291bmRTYW1wbGVEZXNjcmlwdGlvbihzYW1wbGVEZXNjcmlwdGlvbikge1xuICAgICAgICBjb25zdCBzc2QgPSB7XG4gICAgICAgICAgICBkYXRhRm9ybWF0OiBzYW1wbGVEZXNjcmlwdGlvbi5kYXRhRm9ybWF0LFxuICAgICAgICAgICAgZGF0YVJlZmVyZW5jZUluZGV4OiBzYW1wbGVEZXNjcmlwdGlvbi5kYXRhUmVmZXJlbmNlSW5kZXhcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGNvbnN0IHZlcnNpb24gPSBBdG9tVG9rZW4uU291bmRTYW1wbGVEZXNjcmlwdGlvblZlcnNpb24uZ2V0KHNhbXBsZURlc2NyaXB0aW9uLmRlc2NyaXB0aW9uLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gQXRvbVRva2VuLlNvdW5kU2FtcGxlRGVzY3JpcHRpb25WZXJzaW9uLmxlbjtcbiAgICAgICAgaWYgKHZlcnNpb24udmVyc2lvbiA9PT0gMCB8fCB2ZXJzaW9uLnZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgIC8vIFNvdW5kIFNhbXBsZSBEZXNjcmlwdGlvbiAoVmVyc2lvbiAwKVxuICAgICAgICAgICAgc3NkLmRlc2NyaXB0aW9uID0gQXRvbVRva2VuLlNvdW5kU2FtcGxlRGVzY3JpcHRpb25WMC5nZXQoc2FtcGxlRGVzY3JpcHRpb24uZGVzY3JpcHRpb24sIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWJ1ZyhgV2FybmluZzogc291bmQtc2FtcGxlLWRlc2NyaXB0aW9uICR7dmVyc2lvbn0gbm90IGltcGxlbWVudGVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNzZDtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VDaGFwdGVyVHJhY2soY2hhcHRlclRyYWNrLCB0cmFjaywgbGVuKSB7XG4gICAgICAgIGlmICghY2hhcHRlclRyYWNrLnNhbXBsZVNpemUpIHtcbiAgICAgICAgICAgIGlmIChjaGFwdGVyVHJhY2suY2h1bmtPZmZzZXRUYWJsZS5sZW5ndGggIT09IGNoYXB0ZXJUcmFjay5zYW1wbGVTaXplVGFibGUubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgZXF1YWwgY2h1bmstb2Zmc2V0LXRhYmxlICYgc2FtcGxlLXNpemUtdGFibGUgbGVuZ3RoLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYXB0ZXJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcHRlclRyYWNrLmNodW5rT2Zmc2V0VGFibGUubGVuZ3RoICYmIGxlbiA+IDA7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgY2h1bmtPZmZzZXQgPSBjaGFwdGVyVHJhY2suY2h1bmtPZmZzZXRUYWJsZVtpXTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRDaHVua0xlbiA9IGNodW5rT2Zmc2V0IC0gdGhpcy50b2tlbml6ZXIucG9zaXRpb247XG4gICAgICAgICAgICBjb25zdCBzYW1wbGVTaXplID0gY2hhcHRlclRyYWNrLnNhbXBsZVNpemUgPiAwID8gY2hhcHRlclRyYWNrLnNhbXBsZVNpemUgOiBjaGFwdGVyVHJhY2suc2FtcGxlU2l6ZVRhYmxlW2ldO1xuICAgICAgICAgICAgbGVuIC09IG5leHRDaHVua0xlbiArIHNhbXBsZVNpemU7XG4gICAgICAgICAgICBpZiAobGVuIDwgMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYXB0ZXIgY2h1bmsgZXhjZWVkaW5nIHRva2VuIGxlbmd0aCcpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKG5leHRDaHVua0xlbik7XG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgQXRvbVRva2VuLkNoYXB0ZXJUZXh0KHNhbXBsZVNpemUpKTtcbiAgICAgICAgICAgIGRlYnVnKGBDaGFwdGVyICR7aSArIDF9OiAke3RpdGxlfWApO1xuICAgICAgICAgICAgY29uc3QgY2hhcHRlciA9IHtcbiAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgICBzYW1wbGVPZmZzZXQ6IHRoaXMuZmluZFNhbXBsZU9mZnNldCh0cmFjaywgdGhpcy50b2tlbml6ZXIucG9zaXRpb24pXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGVidWcoYENoYXB0ZXIgdGl0bGU9JHtjaGFwdGVyLnRpdGxlfSwgb2Zmc2V0PSR7Y2hhcHRlci5zYW1wbGVPZmZzZXR9LyR7dGhpcy50cmFja3NbMF0uZHVyYXRpb259YCk7XG4gICAgICAgICAgICBjaGFwdGVycy5wdXNoKGNoYXB0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjaGFwdGVycycsIGNoYXB0ZXJzKTtcbiAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKGxlbik7XG4gICAgfVxuICAgIGZpbmRTYW1wbGVPZmZzZXQodHJhY2ssIGNoYXB0ZXJPZmZzZXQpIHtcbiAgICAgICAgbGV0IHRvdGFsRHVyYXRpb24gPSAwO1xuICAgICAgICB0cmFjay50aW1lVG9TYW1wbGVUYWJsZS5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgdG90YWxEdXJhdGlvbiArPSBlLmNvdW50ICogZS5kdXJhdGlvbjtcbiAgICAgICAgfSk7XG4gICAgICAgIGRlYnVnKGBUb3RhbCBkdXJhdGlvbj0ke3RvdGFsRHVyYXRpb259YCk7XG4gICAgICAgIGxldCBjaHVua0luZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKGNodW5rSW5kZXggPCB0cmFjay5jaHVua09mZnNldFRhYmxlLmxlbmd0aCAmJiB0cmFjay5jaHVua09mZnNldFRhYmxlW2NodW5rSW5kZXhdIDwgY2hhcHRlck9mZnNldCkge1xuICAgICAgICAgICAgKytjaHVua0luZGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldENodW5rRHVyYXRpb24oY2h1bmtJbmRleCArIDEsIHRyYWNrKTtcbiAgICB9XG4gICAgZ2V0Q2h1bmtEdXJhdGlvbihjaHVua0lkLCB0cmFjaykge1xuICAgICAgICBsZXQgdHRzaSA9IDA7XG4gICAgICAgIGxldCB0dHNjID0gdHJhY2sudGltZVRvU2FtcGxlVGFibGVbdHRzaV0uY291bnQ7XG4gICAgICAgIGxldCB0dHNkID0gdHJhY2sudGltZVRvU2FtcGxlVGFibGVbdHRzaV0uZHVyYXRpb247XG4gICAgICAgIGxldCBjdXJDaHVua0lkID0gMTtcbiAgICAgICAgbGV0IHNhbXBsZXNQZXJDaHVuayA9IHRoaXMuZ2V0U2FtcGxlc1BlckNodW5rKGN1ckNodW5rSWQsIHRyYWNrLnNhbXBsZVRvQ2h1bmtUYWJsZSk7XG4gICAgICAgIGxldCB0b3RhbER1cmF0aW9uID0gMDtcbiAgICAgICAgd2hpbGUgKGN1ckNodW5rSWQgPCBjaHVua0lkKSB7XG4gICAgICAgICAgICBjb25zdCBuck9mU2FtcGxlcyA9IE1hdGgubWluKHR0c2MsIHNhbXBsZXNQZXJDaHVuayk7XG4gICAgICAgICAgICB0b3RhbER1cmF0aW9uICs9IG5yT2ZTYW1wbGVzICogdHRzZDtcbiAgICAgICAgICAgIHR0c2MgLT0gbnJPZlNhbXBsZXM7XG4gICAgICAgICAgICBzYW1wbGVzUGVyQ2h1bmsgLT0gbnJPZlNhbXBsZXM7XG4gICAgICAgICAgICBpZiAoc2FtcGxlc1BlckNodW5rID09PSAwKSB7XG4gICAgICAgICAgICAgICAgKytjdXJDaHVua0lkO1xuICAgICAgICAgICAgICAgIHNhbXBsZXNQZXJDaHVuayA9IHRoaXMuZ2V0U2FtcGxlc1BlckNodW5rKGN1ckNodW5rSWQsIHRyYWNrLnNhbXBsZVRvQ2h1bmtUYWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICArK3R0c2k7XG4gICAgICAgICAgICAgICAgdHRzYyA9IHRyYWNrLnRpbWVUb1NhbXBsZVRhYmxlW3R0c2ldLmNvdW50O1xuICAgICAgICAgICAgICAgIHR0c2QgPSB0cmFjay50aW1lVG9TYW1wbGVUYWJsZVt0dHNpXS5kdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG90YWxEdXJhdGlvbjtcbiAgICB9XG4gICAgZ2V0U2FtcGxlc1BlckNodW5rKGNodW5rSWQsIHN0Y1RhYmxlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RjVGFibGUubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICBpZiAoY2h1bmtJZCA+PSBzdGNUYWJsZVtpXS5maXJzdENodW5rICYmIGNodW5rSWQgPCBzdGNUYWJsZVtpICsgMV0uZmlyc3RDaHVuaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGNUYWJsZVtpXS5zYW1wbGVzUGVyQ2h1bms7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0Y1RhYmxlW3N0Y1RhYmxlLmxlbmd0aCAtIDFdLnNhbXBsZXNQZXJDaHVuaztcbiAgICB9XG59XG5leHBvcnRzLk1QNFBhcnNlciA9IE1QNFBhcnNlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mp4/MP4Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mp4/MP4TagMapper.js":
/*!*************************************************************!*\
  !*** ./node_modules/music-metadata/lib/mp4/MP4TagMapper.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MP4TagMapper = exports.tagType = void 0;\nconst CaseInsensitiveTagMap_1 = __webpack_require__(/*! ../common/CaseInsensitiveTagMap */ \"(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js\");\n/**\n * Ref: https://github.com/sergiomb2/libmp4v2/wiki/iTunesMetadata\n */\nconst mp4TagMap = {\n    '©nam': 'title',\n    '©ART': 'artist',\n    aART: 'albumartist',\n    /**\n     * ToDo: Album artist seems to be stored here while Picard documentation says: aART\n     */\n    '----:com.apple.iTunes:Band': 'albumartist',\n    '©alb': 'album',\n    '©day': 'date',\n    '©cmt': 'comment',\n    '©com': 'comment',\n    trkn: 'track',\n    disk: 'disk',\n    '©gen': 'genre',\n    covr: 'picture',\n    '©wrt': 'composer',\n    '©lyr': 'lyrics',\n    soal: 'albumsort',\n    sonm: 'titlesort',\n    soar: 'artistsort',\n    soaa: 'albumartistsort',\n    soco: 'composersort',\n    '----:com.apple.iTunes:LYRICIST': 'lyricist',\n    '----:com.apple.iTunes:CONDUCTOR': 'conductor',\n    '----:com.apple.iTunes:REMIXER': 'remixer',\n    '----:com.apple.iTunes:ENGINEER': 'engineer',\n    '----:com.apple.iTunes:PRODUCER': 'producer',\n    '----:com.apple.iTunes:DJMIXER': 'djmixer',\n    '----:com.apple.iTunes:MIXER': 'mixer',\n    '----:com.apple.iTunes:LABEL': 'label',\n    '©grp': 'grouping',\n    '----:com.apple.iTunes:SUBTITLE': 'subtitle',\n    '----:com.apple.iTunes:DISCSUBTITLE': 'discsubtitle',\n    cpil: 'compilation',\n    tmpo: 'bpm',\n    '----:com.apple.iTunes:MOOD': 'mood',\n    '----:com.apple.iTunes:MEDIA': 'media',\n    '----:com.apple.iTunes:CATALOGNUMBER': 'catalognumber',\n    tvsh: 'tvShow',\n    tvsn: 'tvSeason',\n    tves: 'tvEpisode',\n    sosn: 'tvShowSort',\n    tven: 'tvEpisodeId',\n    tvnn: 'tvNetwork',\n    pcst: 'podcast',\n    purl: 'podcasturl',\n    '----:com.apple.iTunes:MusicBrainz Album Status': 'releasestatus',\n    '----:com.apple.iTunes:MusicBrainz Album Type': 'releasetype',\n    '----:com.apple.iTunes:MusicBrainz Album Release Country': 'releasecountry',\n    '----:com.apple.iTunes:SCRIPT': 'script',\n    '----:com.apple.iTunes:LANGUAGE': 'language',\n    cprt: 'copyright',\n    '©cpy': 'copyright',\n    '----:com.apple.iTunes:LICENSE': 'license',\n    '©too': 'encodedby',\n    pgap: 'gapless',\n    '----:com.apple.iTunes:BARCODE': 'barcode',\n    '----:com.apple.iTunes:ISRC': 'isrc',\n    '----:com.apple.iTunes:ASIN': 'asin',\n    '----:com.apple.iTunes:NOTES': 'comment',\n    '----:com.apple.iTunes:MusicBrainz Track Id': 'musicbrainz_recordingid',\n    '----:com.apple.iTunes:MusicBrainz Release Track Id': 'musicbrainz_trackid',\n    '----:com.apple.iTunes:MusicBrainz Album Id': 'musicbrainz_albumid',\n    '----:com.apple.iTunes:MusicBrainz Artist Id': 'musicbrainz_artistid',\n    '----:com.apple.iTunes:MusicBrainz Album Artist Id': 'musicbrainz_albumartistid',\n    '----:com.apple.iTunes:MusicBrainz Release Group Id': 'musicbrainz_releasegroupid',\n    '----:com.apple.iTunes:MusicBrainz Work Id': 'musicbrainz_workid',\n    '----:com.apple.iTunes:MusicBrainz TRM Id': 'musicbrainz_trmid',\n    '----:com.apple.iTunes:MusicBrainz Disc Id': 'musicbrainz_discid',\n    '----:com.apple.iTunes:Acoustid Id': 'acoustid_id',\n    '----:com.apple.iTunes:Acoustid Fingerprint': 'acoustid_fingerprint',\n    '----:com.apple.iTunes:MusicIP PUID': 'musicip_puid',\n    '----:com.apple.iTunes:fingerprint': 'musicip_fingerprint',\n    '----:com.apple.iTunes:replaygain_track_gain': 'replaygain_track_gain',\n    '----:com.apple.iTunes:replaygain_track_peak': 'replaygain_track_peak',\n    '----:com.apple.iTunes:replaygain_album_gain': 'replaygain_album_gain',\n    '----:com.apple.iTunes:replaygain_album_peak': 'replaygain_album_peak',\n    '----:com.apple.iTunes:replaygain_track_minmax': 'replaygain_track_minmax',\n    '----:com.apple.iTunes:replaygain_album_minmax': 'replaygain_album_minmax',\n    '----:com.apple.iTunes:replaygain_undo': 'replaygain_undo',\n    // Additional mappings:\n    gnre: 'genre',\n    '----:com.apple.iTunes:ALBUMARTISTSORT': 'albumartistsort',\n    '----:com.apple.iTunes:ARTISTS': 'artists',\n    '----:com.apple.iTunes:ORIGINALDATE': 'originaldate',\n    '----:com.apple.iTunes:ORIGINALYEAR': 'originalyear',\n    // '----:com.apple.iTunes:PERFORMER': 'performer'\n    desc: 'description',\n    ldes: 'longDescription',\n    '©mvn': 'movement',\n    '©mvi': 'movementIndex',\n    '©mvc': 'movementTotal',\n    '©wrk': 'work',\n    catg: 'category',\n    egid: 'podcastId',\n    hdvd: 'hdVideo',\n    keyw: 'keywords',\n    shwm: 'showMovement',\n    stik: 'stik',\n    rate: 'rating'\n};\nexports.tagType = 'iTunes';\nclass MP4TagMapper extends CaseInsensitiveTagMap_1.CaseInsensitiveTagMap {\n    constructor() {\n        super([exports.tagType], mp4TagMap);\n    }\n    postMap(tag, warnings) {\n        switch (tag.id) {\n            case 'rate':\n                tag.value = {\n                    source: undefined,\n                    rating: parseFloat(tag.value) / 100\n                };\n                break;\n        }\n    }\n}\nexports.MP4TagMapper = MP4TagMapper;\n//# sourceMappingURL=MP4TagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wNC9NUDRUYWdNYXBwZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CLEdBQUcsZUFBZTtBQUN0QyxnQ0FBZ0MsbUJBQU8sQ0FBQyxnSEFBaUM7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tcDQvTVA0VGFnTWFwcGVyLmpzP2Q2ZjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1QNFRhZ01hcHBlciA9IGV4cG9ydHMudGFnVHlwZSA9IHZvaWQgMDtcbmNvbnN0IENhc2VJbnNlbnNpdGl2ZVRhZ01hcF8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9DYXNlSW5zZW5zaXRpdmVUYWdNYXBcIik7XG4vKipcbiAqIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL3Nlcmdpb21iMi9saWJtcDR2Mi93aWtpL2lUdW5lc01ldGFkYXRhXG4gKi9cbmNvbnN0IG1wNFRhZ01hcCA9IHtcbiAgICAnwqluYW0nOiAndGl0bGUnLFxuICAgICfCqUFSVCc6ICdhcnRpc3QnLFxuICAgIGFBUlQ6ICdhbGJ1bWFydGlzdCcsXG4gICAgLyoqXG4gICAgICogVG9EbzogQWxidW0gYXJ0aXN0IHNlZW1zIHRvIGJlIHN0b3JlZCBoZXJlIHdoaWxlIFBpY2FyZCBkb2N1bWVudGF0aW9uIHNheXM6IGFBUlRcbiAgICAgKi9cbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkJhbmQnOiAnYWxidW1hcnRpc3QnLFxuICAgICfCqWFsYic6ICdhbGJ1bScsXG4gICAgJ8KpZGF5JzogJ2RhdGUnLFxuICAgICfCqWNtdCc6ICdjb21tZW50JyxcbiAgICAnwqljb20nOiAnY29tbWVudCcsXG4gICAgdHJrbjogJ3RyYWNrJyxcbiAgICBkaXNrOiAnZGlzaycsXG4gICAgJ8KpZ2VuJzogJ2dlbnJlJyxcbiAgICBjb3ZyOiAncGljdHVyZScsXG4gICAgJ8Kpd3J0JzogJ2NvbXBvc2VyJyxcbiAgICAnwqlseXInOiAnbHlyaWNzJyxcbiAgICBzb2FsOiAnYWxidW1zb3J0JyxcbiAgICBzb25tOiAndGl0bGVzb3J0JyxcbiAgICBzb2FyOiAnYXJ0aXN0c29ydCcsXG4gICAgc29hYTogJ2FsYnVtYXJ0aXN0c29ydCcsXG4gICAgc29jbzogJ2NvbXBvc2Vyc29ydCcsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpMWVJJQ0lTVCc6ICdseXJpY2lzdCcsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpDT05EVUNUT1InOiAnY29uZHVjdG9yJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOlJFTUlYRVInOiAncmVtaXhlcicsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpFTkdJTkVFUic6ICdlbmdpbmVlcicsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpQUk9EVUNFUic6ICdwcm9kdWNlcicsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpESk1JWEVSJzogJ2RqbWl4ZXInLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TUlYRVInOiAnbWl4ZXInLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TEFCRUwnOiAnbGFiZWwnLFxuICAgICfCqWdycCc6ICdncm91cGluZycsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpTVUJUSVRMRSc6ICdzdWJ0aXRsZScsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpESVNDU1VCVElUTEUnOiAnZGlzY3N1YnRpdGxlJyxcbiAgICBjcGlsOiAnY29tcGlsYXRpb24nLFxuICAgIHRtcG86ICdicG0nLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TU9PRCc6ICdtb29kJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOk1FRElBJzogJ21lZGlhJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkNBVEFMT0dOVU1CRVInOiAnY2F0YWxvZ251bWJlcicsXG4gICAgdHZzaDogJ3R2U2hvdycsXG4gICAgdHZzbjogJ3R2U2Vhc29uJyxcbiAgICB0dmVzOiAndHZFcGlzb2RlJyxcbiAgICBzb3NuOiAndHZTaG93U29ydCcsXG4gICAgdHZlbjogJ3R2RXBpc29kZUlkJyxcbiAgICB0dm5uOiAndHZOZXR3b3JrJyxcbiAgICBwY3N0OiAncG9kY2FzdCcsXG4gICAgcHVybDogJ3BvZGNhc3R1cmwnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TXVzaWNCcmFpbnogQWxidW0gU3RhdHVzJzogJ3JlbGVhc2VzdGF0dXMnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TXVzaWNCcmFpbnogQWxidW0gVHlwZSc6ICdyZWxlYXNldHlwZScsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpNdXNpY0JyYWlueiBBbGJ1bSBSZWxlYXNlIENvdW50cnknOiAncmVsZWFzZWNvdW50cnknLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6U0NSSVBUJzogJ3NjcmlwdCcsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpMQU5HVUFHRSc6ICdsYW5ndWFnZScsXG4gICAgY3BydDogJ2NvcHlyaWdodCcsXG4gICAgJ8KpY3B5JzogJ2NvcHlyaWdodCcsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpMSUNFTlNFJzogJ2xpY2Vuc2UnLFxuICAgICfCqXRvbyc6ICdlbmNvZGVkYnknLFxuICAgIHBnYXA6ICdnYXBsZXNzJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkJBUkNPREUnOiAnYmFyY29kZScsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpJU1JDJzogJ2lzcmMnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6QVNJTic6ICdhc2luJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOk5PVEVTJzogJ2NvbW1lbnQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TXVzaWNCcmFpbnogVHJhY2sgSWQnOiAnbXVzaWNicmFpbnpfcmVjb3JkaW5naWQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TXVzaWNCcmFpbnogUmVsZWFzZSBUcmFjayBJZCc6ICdtdXNpY2JyYWluel90cmFja2lkJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOk11c2ljQnJhaW56IEFsYnVtIElkJzogJ211c2ljYnJhaW56X2FsYnVtaWQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TXVzaWNCcmFpbnogQXJ0aXN0IElkJzogJ211c2ljYnJhaW56X2FydGlzdGlkJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOk11c2ljQnJhaW56IEFsYnVtIEFydGlzdCBJZCc6ICdtdXNpY2JyYWluel9hbGJ1bWFydGlzdGlkJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOk11c2ljQnJhaW56IFJlbGVhc2UgR3JvdXAgSWQnOiAnbXVzaWNicmFpbnpfcmVsZWFzZWdyb3VwaWQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TXVzaWNCcmFpbnogV29yayBJZCc6ICdtdXNpY2JyYWluel93b3JraWQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TXVzaWNCcmFpbnogVFJNIElkJzogJ211c2ljYnJhaW56X3RybWlkJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOk11c2ljQnJhaW56IERpc2MgSWQnOiAnbXVzaWNicmFpbnpfZGlzY2lkJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkFjb3VzdGlkIElkJzogJ2Fjb3VzdGlkX2lkJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkFjb3VzdGlkIEZpbmdlcnByaW50JzogJ2Fjb3VzdGlkX2ZpbmdlcnByaW50JyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOk11c2ljSVAgUFVJRCc6ICdtdXNpY2lwX3B1aWQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6ZmluZ2VycHJpbnQnOiAnbXVzaWNpcF9maW5nZXJwcmludCcsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpyZXBsYXlnYWluX3RyYWNrX2dhaW4nOiAncmVwbGF5Z2Fpbl90cmFja19nYWluJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOnJlcGxheWdhaW5fdHJhY2tfcGVhayc6ICdyZXBsYXlnYWluX3RyYWNrX3BlYWsnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6cmVwbGF5Z2Fpbl9hbGJ1bV9nYWluJzogJ3JlcGxheWdhaW5fYWxidW1fZ2FpbicsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpyZXBsYXlnYWluX2FsYnVtX3BlYWsnOiAncmVwbGF5Z2Fpbl9hbGJ1bV9wZWFrJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOnJlcGxheWdhaW5fdHJhY2tfbWlubWF4JzogJ3JlcGxheWdhaW5fdHJhY2tfbWlubWF4JyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOnJlcGxheWdhaW5fYWxidW1fbWlubWF4JzogJ3JlcGxheWdhaW5fYWxidW1fbWlubWF4JyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOnJlcGxheWdhaW5fdW5kbyc6ICdyZXBsYXlnYWluX3VuZG8nLFxuICAgIC8vIEFkZGl0aW9uYWwgbWFwcGluZ3M6XG4gICAgZ25yZTogJ2dlbnJlJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkFMQlVNQVJUSVNUU09SVCc6ICdhbGJ1bWFydGlzdHNvcnQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6QVJUSVNUUyc6ICdhcnRpc3RzJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOk9SSUdJTkFMREFURSc6ICdvcmlnaW5hbGRhdGUnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6T1JJR0lOQUxZRUFSJzogJ29yaWdpbmFseWVhcicsXG4gICAgLy8gJy0tLS06Y29tLmFwcGxlLmlUdW5lczpQRVJGT1JNRVInOiAncGVyZm9ybWVyJ1xuICAgIGRlc2M6ICdkZXNjcmlwdGlvbicsXG4gICAgbGRlczogJ2xvbmdEZXNjcmlwdGlvbicsXG4gICAgJ8KpbXZuJzogJ21vdmVtZW50JyxcbiAgICAnwqltdmknOiAnbW92ZW1lbnRJbmRleCcsXG4gICAgJ8KpbXZjJzogJ21vdmVtZW50VG90YWwnLFxuICAgICfCqXdyayc6ICd3b3JrJyxcbiAgICBjYXRnOiAnY2F0ZWdvcnknLFxuICAgIGVnaWQ6ICdwb2RjYXN0SWQnLFxuICAgIGhkdmQ6ICdoZFZpZGVvJyxcbiAgICBrZXl3OiAna2V5d29yZHMnLFxuICAgIHNod206ICdzaG93TW92ZW1lbnQnLFxuICAgIHN0aWs6ICdzdGlrJyxcbiAgICByYXRlOiAncmF0aW5nJ1xufTtcbmV4cG9ydHMudGFnVHlwZSA9ICdpVHVuZXMnO1xuY2xhc3MgTVA0VGFnTWFwcGVyIGV4dGVuZHMgQ2FzZUluc2Vuc2l0aXZlVGFnTWFwXzEuQ2FzZUluc2Vuc2l0aXZlVGFnTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoW2V4cG9ydHMudGFnVHlwZV0sIG1wNFRhZ01hcCk7XG4gICAgfVxuICAgIHBvc3RNYXAodGFnLCB3YXJuaW5ncykge1xuICAgICAgICBzd2l0Y2ggKHRhZy5pZCkge1xuICAgICAgICAgICAgY2FzZSAncmF0ZSc6XG4gICAgICAgICAgICAgICAgdGFnLnZhbHVlID0ge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBwYXJzZUZsb2F0KHRhZy52YWx1ZSkgLyAxMDBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5NUDRUYWdNYXBwZXIgPSBNUDRUYWdNYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NUDRUYWdNYXBwZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mp4/MP4TagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mpeg/ExtendedLameHeader.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/mpeg/ExtendedLameHeader.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * Extended Lame Header\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ExtendedLameHeader = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst common = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst ReplayGainDataFormat_1 = __webpack_require__(/*! ./ReplayGainDataFormat */ \"(ssr)/./node_modules/music-metadata/lib/mpeg/ReplayGainDataFormat.js\");\n/**\n * Info Tag\n * @link http://gabriel.mp3-tech.org/mp3infotag.html\n * @link https://github.com/quodlibet/mutagen/blob/abd58ee58772224334a18817c3fb31103572f70e/mutagen/mp3/_util.py#L112\n */\nexports.ExtendedLameHeader = {\n    len: 27,\n    get: (buf, off) => {\n        const track_peak = Token.UINT32_BE.get(buf, off + 2);\n        return {\n            revision: common.getBitAllignedNumber(buf, off, 0, 4),\n            vbr_method: common.getBitAllignedNumber(buf, off, 4, 4),\n            lowpass_filter: 100 * Token.UINT8.get(buf, off + 1),\n            track_peak: track_peak === 0 ? undefined : track_peak / Math.pow(2, 23),\n            track_gain: ReplayGainDataFormat_1.ReplayGain.get(buf, 6),\n            album_gain: ReplayGainDataFormat_1.ReplayGain.get(buf, 8),\n            music_length: Token.UINT32_BE.get(buf, off + 20),\n            music_crc: Token.UINT8.get(buf, off + 24),\n            header_crc: Token.UINT16_BE.get(buf, off + 24)\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wZWcvRXh0ZW5kZWRMYW1lSGVhZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQjtBQUMxQixjQUFjLG1CQUFPLENBQUMsa0VBQWE7QUFDbkMsZUFBZSxtQkFBTyxDQUFDLDhFQUFnQjtBQUN2QywrQkFBK0IsbUJBQU8sQ0FBQyxvR0FBd0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tcGVnL0V4dGVuZGVkTGFtZUhlYWRlci5qcz83NDVjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBFeHRlbmRlZCBMYW1lIEhlYWRlclxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkV4dGVuZGVkTGFtZUhlYWRlciA9IHZvaWQgMDtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY29uc3QgY29tbW9uID0gcmVxdWlyZShcIi4uL2NvbW1vbi9VdGlsXCIpO1xuY29uc3QgUmVwbGF5R2FpbkRhdGFGb3JtYXRfMSA9IHJlcXVpcmUoXCIuL1JlcGxheUdhaW5EYXRhRm9ybWF0XCIpO1xuLyoqXG4gKiBJbmZvIFRhZ1xuICogQGxpbmsgaHR0cDovL2dhYnJpZWwubXAzLXRlY2gub3JnL21wM2luZm90YWcuaHRtbFxuICogQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3F1b2RsaWJldC9tdXRhZ2VuL2Jsb2IvYWJkNThlZTU4NzcyMjI0MzM0YTE4ODE3YzNmYjMxMTAzNTcyZjcwZS9tdXRhZ2VuL21wMy9fdXRpbC5weSNMMTEyXG4gKi9cbmV4cG9ydHMuRXh0ZW5kZWRMYW1lSGVhZGVyID0ge1xuICAgIGxlbjogMjcsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgY29uc3QgdHJhY2tfcGVhayA9IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyAyKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJldmlzaW9uOiBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYsIDAsIDQpLFxuICAgICAgICAgICAgdmJyX21ldGhvZDogY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmLCA0LCA0KSxcbiAgICAgICAgICAgIGxvd3Bhc3NfZmlsdGVyOiAxMDAgKiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYgKyAxKSxcbiAgICAgICAgICAgIHRyYWNrX3BlYWs6IHRyYWNrX3BlYWsgPT09IDAgPyB1bmRlZmluZWQgOiB0cmFja19wZWFrIC8gTWF0aC5wb3coMiwgMjMpLFxuICAgICAgICAgICAgdHJhY2tfZ2FpbjogUmVwbGF5R2FpbkRhdGFGb3JtYXRfMS5SZXBsYXlHYWluLmdldChidWYsIDYpLFxuICAgICAgICAgICAgYWxidW1fZ2FpbjogUmVwbGF5R2FpbkRhdGFGb3JtYXRfMS5SZXBsYXlHYWluLmdldChidWYsIDgpLFxuICAgICAgICAgICAgbXVzaWNfbGVuZ3RoOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgMjApLFxuICAgICAgICAgICAgbXVzaWNfY3JjOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYgKyAyNCksXG4gICAgICAgICAgICBoZWFkZXJfY3JjOiBUb2tlbi5VSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgMjQpXG4gICAgICAgIH07XG4gICAgfVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mpeg/ExtendedLameHeader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mpeg/MpegParser.js":
/*!************************************************************!*\
  !*** ./node_modules/music-metadata/lib/mpeg/MpegParser.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MpegParser = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst core_1 = __webpack_require__(/*! strtok3/lib/core */ \"(ssr)/./node_modules/strtok3/lib/core.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst common = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst AbstractID3Parser_1 = __webpack_require__(/*! ../id3v2/AbstractID3Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js\");\nconst XingTag_1 = __webpack_require__(/*! ./XingTag */ \"(ssr)/./node_modules/music-metadata/lib/mpeg/XingTag.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:mpeg');\n/**\n * Cache buffer size used for searching synchronization preabmle\n */\nconst maxPeekLen = 1024;\n/**\n * MPEG-4 Audio definitions\n * Ref:  https://wiki.multimedia.cx/index.php/MPEG-4_Audio\n */\nconst MPEG4 = {\n    /**\n     * Audio Object Types\n     */\n    AudioObjectTypes: [\n        'AAC Main',\n        'AAC LC',\n        'AAC SSR',\n        'AAC LTP' // Long Term Prediction\n    ],\n    /**\n     * Sampling Frequencies\n     * https://wiki.multimedia.cx/index.php/MPEG-4_Audio#Sampling_Frequencies\n     */\n    SamplingFrequencies: [\n        96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350, undefined, undefined, -1\n    ]\n    /**\n     * Channel Configurations\n     */\n};\nconst MPEG4_ChannelConfigurations = [\n    undefined,\n    ['front-center'],\n    ['front-left', 'front-right'],\n    ['front-center', 'front-left', 'front-right'],\n    ['front-center', 'front-left', 'front-right', 'back-center'],\n    ['front-center', 'front-left', 'front-right', 'back-left', 'back-right'],\n    ['front-center', 'front-left', 'front-right', 'back-left', 'back-right', 'LFE-channel'],\n    ['front-center', 'front-left', 'front-right', 'side-left', 'side-right', 'back-left', 'back-right', 'LFE-channel']\n];\n/**\n * MPEG Audio Layer I/II/III frame header\n * Ref: https://www.mp3-tech.org/programmer/frame_header.html\n * Bit layout: AAAAAAAA AAABBCCD EEEEFFGH IIJJKLMM\n * Ref: https://wiki.multimedia.cx/index.php/ADTS\n */\nclass MpegFrameHeader {\n    constructor(buf, off) {\n        // B(20,19): MPEG Audio versionIndex ID\n        this.versionIndex = common.getBitAllignedNumber(buf, off + 1, 3, 2);\n        // C(18,17): Layer description\n        this.layer = MpegFrameHeader.LayerDescription[common.getBitAllignedNumber(buf, off + 1, 5, 2)];\n        if (this.versionIndex > 1 && this.layer === 0) {\n            this.parseAdtsHeader(buf, off); // Audio Data Transport Stream (ADTS)\n        }\n        else {\n            this.parseMpegHeader(buf, off); // Conventional MPEG header\n        }\n        // D(16): Protection bit (if true 16-bit CRC follows header)\n        this.isProtectedByCRC = !common.isBitSet(buf, off + 1, 7);\n    }\n    calcDuration(numFrames) {\n        return numFrames * this.calcSamplesPerFrame() / this.samplingRate;\n    }\n    calcSamplesPerFrame() {\n        return MpegFrameHeader.samplesInFrameTable[this.version === 1 ? 0 : 1][this.layer];\n    }\n    calculateSideInfoLength() {\n        if (this.layer !== 3)\n            return 2;\n        if (this.channelModeIndex === 3) {\n            // mono\n            if (this.version === 1) {\n                return 17;\n            }\n            else if (this.version === 2 || this.version === 2.5) {\n                return 9;\n            }\n        }\n        else {\n            if (this.version === 1) {\n                return 32;\n            }\n            else if (this.version === 2 || this.version === 2.5) {\n                return 17;\n            }\n        }\n    }\n    calcSlotSize() {\n        return [null, 4, 1, 1][this.layer];\n    }\n    parseMpegHeader(buf, off) {\n        this.container = 'MPEG';\n        // E(15,12): Bitrate index\n        this.bitrateIndex = common.getBitAllignedNumber(buf, off + 2, 0, 4);\n        // F(11,10): Sampling rate frequency index\n        this.sampRateFreqIndex = common.getBitAllignedNumber(buf, off + 2, 4, 2);\n        // G(9): Padding bit\n        this.padding = common.isBitSet(buf, off + 2, 6);\n        // H(8): Private bit\n        this.privateBit = common.isBitSet(buf, off + 2, 7);\n        // I(7,6): Channel Mode\n        this.channelModeIndex = common.getBitAllignedNumber(buf, off + 3, 0, 2);\n        // J(5,4): Mode extension (Only used in Joint stereo)\n        this.modeExtension = common.getBitAllignedNumber(buf, off + 3, 2, 2);\n        // K(3): Copyright\n        this.isCopyrighted = common.isBitSet(buf, off + 3, 4);\n        // L(2): Original\n        this.isOriginalMedia = common.isBitSet(buf, off + 3, 5);\n        // M(3): The original bit indicates, if it is set, that the frame is located on its original media.\n        this.emphasis = common.getBitAllignedNumber(buf, off + 3, 7, 2);\n        this.version = MpegFrameHeader.VersionID[this.versionIndex];\n        this.channelMode = MpegFrameHeader.ChannelMode[this.channelModeIndex];\n        this.codec = `MPEG ${this.version} Layer ${this.layer}`;\n        // Calculate bitrate\n        const bitrateInKbps = this.calcBitrate();\n        if (!bitrateInKbps) {\n            throw new Error('Cannot determine bit-rate');\n        }\n        this.bitrate = bitrateInKbps * 1000;\n        // Calculate sampling rate\n        this.samplingRate = this.calcSamplingRate();\n        if (this.samplingRate == null) {\n            throw new Error('Cannot determine sampling-rate');\n        }\n    }\n    parseAdtsHeader(buf, off) {\n        debug(`layer=0 => ADTS`);\n        this.version = this.versionIndex === 2 ? 4 : 2;\n        this.container = 'ADTS/MPEG-' + this.version;\n        const profileIndex = common.getBitAllignedNumber(buf, off + 2, 0, 2);\n        this.codec = 'AAC';\n        this.codecProfile = MPEG4.AudioObjectTypes[profileIndex];\n        debug(`MPEG-4 audio-codec=${this.codec}`);\n        const samplingFrequencyIndex = common.getBitAllignedNumber(buf, off + 2, 2, 4);\n        this.samplingRate = MPEG4.SamplingFrequencies[samplingFrequencyIndex];\n        debug(`sampling-rate=${this.samplingRate}`);\n        const channelIndex = common.getBitAllignedNumber(buf, off + 2, 7, 3);\n        this.mp4ChannelConfig = MPEG4_ChannelConfigurations[channelIndex];\n        debug(`channel-config=${this.mp4ChannelConfig.join('+')}`);\n        this.frameLength = common.getBitAllignedNumber(buf, off + 3, 6, 2) << 11;\n    }\n    calcBitrate() {\n        if (this.bitrateIndex === 0x00 || // free\n            this.bitrateIndex === 0x0F) { // reserved\n            return;\n        }\n        const codecIndex = `${Math.floor(this.version)}${this.layer}`;\n        return MpegFrameHeader.bitrate_index[this.bitrateIndex][codecIndex];\n    }\n    calcSamplingRate() {\n        if (this.sampRateFreqIndex === 0x03)\n            return null; // 'reserved'\n        return MpegFrameHeader.sampling_rate_freq_index[this.version][this.sampRateFreqIndex];\n    }\n}\nMpegFrameHeader.SyncByte1 = 0xFF;\nMpegFrameHeader.SyncByte2 = 0xE0;\nMpegFrameHeader.VersionID = [2.5, null, 2, 1];\nMpegFrameHeader.LayerDescription = [0, 3, 2, 1];\nMpegFrameHeader.ChannelMode = ['stereo', 'joint_stereo', 'dual_channel', 'mono'];\nMpegFrameHeader.bitrate_index = {\n    0x01: { 11: 32, 12: 32, 13: 32, 21: 32, 22: 8, 23: 8 },\n    0x02: { 11: 64, 12: 48, 13: 40, 21: 48, 22: 16, 23: 16 },\n    0x03: { 11: 96, 12: 56, 13: 48, 21: 56, 22: 24, 23: 24 },\n    0x04: { 11: 128, 12: 64, 13: 56, 21: 64, 22: 32, 23: 32 },\n    0x05: { 11: 160, 12: 80, 13: 64, 21: 80, 22: 40, 23: 40 },\n    0x06: { 11: 192, 12: 96, 13: 80, 21: 96, 22: 48, 23: 48 },\n    0x07: { 11: 224, 12: 112, 13: 96, 21: 112, 22: 56, 23: 56 },\n    0x08: { 11: 256, 12: 128, 13: 112, 21: 128, 22: 64, 23: 64 },\n    0x09: { 11: 288, 12: 160, 13: 128, 21: 144, 22: 80, 23: 80 },\n    0x0A: { 11: 320, 12: 192, 13: 160, 21: 160, 22: 96, 23: 96 },\n    0x0B: { 11: 352, 12: 224, 13: 192, 21: 176, 22: 112, 23: 112 },\n    0x0C: { 11: 384, 12: 256, 13: 224, 21: 192, 22: 128, 23: 128 },\n    0x0D: { 11: 416, 12: 320, 13: 256, 21: 224, 22: 144, 23: 144 },\n    0x0E: { 11: 448, 12: 384, 13: 320, 21: 256, 22: 160, 23: 160 }\n};\nMpegFrameHeader.sampling_rate_freq_index = {\n    1: { 0x00: 44100, 0x01: 48000, 0x02: 32000 },\n    2: { 0x00: 22050, 0x01: 24000, 0x02: 16000 },\n    2.5: { 0x00: 11025, 0x01: 12000, 0x02: 8000 }\n};\nMpegFrameHeader.samplesInFrameTable = [\n    /* Layer   I    II   III */\n    [0, 384, 1152, 1152],\n    [0, 384, 1152, 576] // MPEG-2(.5\n];\n/**\n * MPEG Audio Layer I/II/III\n */\nconst FrameHeader = {\n    len: 4,\n    get: (buf, off) => {\n        return new MpegFrameHeader(buf, off);\n    }\n};\nfunction getVbrCodecProfile(vbrScale) {\n    return 'V' + Math.floor((100 - vbrScale) / 10);\n}\nclass MpegParser extends AbstractID3Parser_1.AbstractID3Parser {\n    constructor() {\n        super(...arguments);\n        this.frameCount = 0;\n        this.syncFrameCount = -1;\n        this.countSkipFrameData = 0;\n        this.totalDataLength = 0;\n        this.bitrates = [];\n        this.calculateEofDuration = false;\n        this.buf_frame_header = Buffer.alloc(4);\n        this.syncPeek = {\n            buf: Buffer.alloc(maxPeekLen),\n            len: 0\n        };\n    }\n    /**\n     * Called after ID3 headers have been parsed\n     */\n    async postId3v2Parse() {\n        this.metadata.setFormat('lossless', false);\n        try {\n            let quit = false;\n            while (!quit) {\n                await this.sync();\n                quit = await this.parseCommonMpegHeader();\n            }\n        }\n        catch (err) {\n            if (err instanceof core_1.EndOfStreamError) {\n                debug(`End-of-stream`);\n                if (this.calculateEofDuration) {\n                    const numberOfSamples = this.frameCount * this.samplesPerFrame;\n                    this.metadata.setFormat('numberOfSamples', numberOfSamples);\n                    const duration = numberOfSamples / this.metadata.format.sampleRate;\n                    debug(`Calculate duration at EOF: ${duration} sec.`, duration);\n                    this.metadata.setFormat('duration', duration);\n                }\n            }\n            else {\n                throw err;\n            }\n        }\n    }\n    /**\n     * Called after file has been fully parsed, this allows, if present, to exclude the ID3v1.1 header length\n     */\n    finalize() {\n        const format = this.metadata.format;\n        const hasID3v1 = this.metadata.native.hasOwnProperty('ID3v1');\n        if (format.duration && this.tokenizer.fileInfo.size) {\n            const mpegSize = this.tokenizer.fileInfo.size - this.mpegOffset - (hasID3v1 ? 128 : 0);\n            if (format.codecProfile && format.codecProfile[0] === 'V') {\n                this.metadata.setFormat('bitrate', mpegSize * 8 / format.duration);\n            }\n        }\n        else if (this.tokenizer.fileInfo.size && format.codecProfile === 'CBR') {\n            const mpegSize = this.tokenizer.fileInfo.size - this.mpegOffset - (hasID3v1 ? 128 : 0);\n            const numberOfSamples = Math.round(mpegSize / this.frame_size) * this.samplesPerFrame;\n            this.metadata.setFormat('numberOfSamples', numberOfSamples);\n            const duration = numberOfSamples / format.sampleRate;\n            debug(\"Calculate CBR duration based on file size: %s\", duration);\n            this.metadata.setFormat('duration', duration);\n        }\n    }\n    async sync() {\n        let gotFirstSync = false;\n        while (true) {\n            let bo = 0;\n            this.syncPeek.len = await this.tokenizer.peekBuffer(this.syncPeek.buf, { length: maxPeekLen, mayBeLess: true });\n            if (this.syncPeek.len <= 163) {\n                throw new core_1.EndOfStreamError();\n            }\n            while (true) {\n                if (gotFirstSync && (this.syncPeek.buf[bo] & 0xE0) === 0xE0) {\n                    this.buf_frame_header[0] = MpegFrameHeader.SyncByte1;\n                    this.buf_frame_header[1] = this.syncPeek.buf[bo];\n                    await this.tokenizer.ignore(bo);\n                    debug(`Sync at offset=${this.tokenizer.position - 1}, frameCount=${this.frameCount}`);\n                    if (this.syncFrameCount === this.frameCount) {\n                        debug(`Re-synced MPEG stream, frameCount=${this.frameCount}`);\n                        this.frameCount = 0;\n                        this.frame_size = 0;\n                    }\n                    this.syncFrameCount = this.frameCount;\n                    return; // sync\n                }\n                else {\n                    gotFirstSync = false;\n                    bo = this.syncPeek.buf.indexOf(MpegFrameHeader.SyncByte1, bo);\n                    if (bo === -1) {\n                        if (this.syncPeek.len < this.syncPeek.buf.length) {\n                            throw new core_1.EndOfStreamError();\n                        }\n                        await this.tokenizer.ignore(this.syncPeek.len);\n                        break; // continue with next buffer\n                    }\n                    else {\n                        ++bo;\n                        gotFirstSync = true;\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Combined ADTS & MPEG (MP2 & MP3) header handling\n     * @return {Promise<boolean>} true if parser should quit\n     */\n    async parseCommonMpegHeader() {\n        if (this.frameCount === 0) {\n            this.mpegOffset = this.tokenizer.position - 1;\n        }\n        await this.tokenizer.peekBuffer(this.buf_frame_header, { offset: 1, length: 3 });\n        let header;\n        try {\n            header = FrameHeader.get(this.buf_frame_header, 0);\n        }\n        catch (err) {\n            await this.tokenizer.ignore(1);\n            this.metadata.addWarning('Parse error: ' + err.message);\n            return false; // sync\n        }\n        await this.tokenizer.ignore(3);\n        this.metadata.setFormat('container', header.container);\n        this.metadata.setFormat('codec', header.codec);\n        this.metadata.setFormat('lossless', false);\n        this.metadata.setFormat('sampleRate', header.samplingRate);\n        this.frameCount++;\n        return header.version >= 2 && header.layer === 0 ? this.parseAdts(header) : this.parseAudioFrameHeader(header);\n    }\n    /**\n     * @return {Promise<boolean>} true if parser should quit\n     */\n    async parseAudioFrameHeader(header) {\n        this.metadata.setFormat('numberOfChannels', header.channelMode === 'mono' ? 1 : 2);\n        this.metadata.setFormat('bitrate', header.bitrate);\n        if (this.frameCount < 20 * 10000) {\n            debug('offset=%s MP%s bitrate=%s sample-rate=%s', this.tokenizer.position - 4, header.layer, header.bitrate, header.samplingRate);\n        }\n        const slot_size = header.calcSlotSize();\n        if (slot_size === null) {\n            throw new Error('invalid slot_size');\n        }\n        const samples_per_frame = header.calcSamplesPerFrame();\n        debug(`samples_per_frame=${samples_per_frame}`);\n        const bps = samples_per_frame / 8.0;\n        const fsize = (bps * header.bitrate / header.samplingRate) +\n            ((header.padding) ? slot_size : 0);\n        this.frame_size = Math.floor(fsize);\n        this.audioFrameHeader = header;\n        this.bitrates.push(header.bitrate);\n        // xtra header only exists in first frame\n        if (this.frameCount === 1) {\n            this.offset = FrameHeader.len;\n            await this.skipSideInformation();\n            return false;\n        }\n        if (this.frameCount === 3) {\n            // the stream is CBR if the first 3 frame bitrates are the same\n            if (this.areAllSame(this.bitrates)) {\n                // Actual calculation will be done in finalize\n                this.samplesPerFrame = samples_per_frame;\n                this.metadata.setFormat('codecProfile', 'CBR');\n                if (this.tokenizer.fileInfo.size)\n                    return true; // Will calculate duration based on the file size\n            }\n            else if (this.metadata.format.duration) {\n                return true; // We already got the duration, stop processing MPEG stream any further\n            }\n            if (!this.options.duration) {\n                return true; // Enforce duration not enabled, stop processing entire stream\n            }\n        }\n        // once we know the file is VBR attach listener to end of\n        // stream so we can do the duration calculation when we\n        // have counted all the frames\n        if (this.options.duration && this.frameCount === 4) {\n            this.samplesPerFrame = samples_per_frame;\n            this.calculateEofDuration = true;\n        }\n        this.offset = 4;\n        if (header.isProtectedByCRC) {\n            await this.parseCrc();\n            return false;\n        }\n        else {\n            await this.skipSideInformation();\n            return false;\n        }\n    }\n    async parseAdts(header) {\n        const buf = Buffer.alloc(3);\n        await this.tokenizer.readBuffer(buf);\n        header.frameLength += common.getBitAllignedNumber(buf, 0, 0, 11);\n        this.totalDataLength += header.frameLength;\n        this.samplesPerFrame = 1024;\n        const framesPerSec = header.samplingRate / this.samplesPerFrame;\n        const bytesPerFrame = this.frameCount === 0 ? 0 : this.totalDataLength / this.frameCount;\n        const bitrate = 8 * bytesPerFrame * framesPerSec + 0.5;\n        this.metadata.setFormat('bitrate', bitrate);\n        debug(`frame-count=${this.frameCount}, size=${header.frameLength} bytes, bit-rate=${bitrate}`);\n        await this.tokenizer.ignore(header.frameLength > 7 ? header.frameLength - 7 : 1);\n        // Consume remaining header and frame data\n        if (this.frameCount === 3) {\n            this.metadata.setFormat('codecProfile', header.codecProfile);\n            if (header.mp4ChannelConfig) {\n                this.metadata.setFormat('numberOfChannels', header.mp4ChannelConfig.length);\n            }\n            if (this.options.duration) {\n                this.calculateEofDuration = true;\n            }\n            else {\n                return true; // Stop parsing after the third frame\n            }\n        }\n        return false;\n    }\n    async parseCrc() {\n        this.crc = await this.tokenizer.readNumber(Token.INT16_BE);\n        this.offset += 2;\n        return this.skipSideInformation();\n    }\n    async skipSideInformation() {\n        const sideinfo_length = this.audioFrameHeader.calculateSideInfoLength();\n        // side information\n        await this.tokenizer.readToken(new Token.Uint8ArrayType(sideinfo_length));\n        this.offset += sideinfo_length;\n        await this.readXtraInfoHeader();\n        return;\n    }\n    async readXtraInfoHeader() {\n        const headerTag = await this.tokenizer.readToken(XingTag_1.InfoTagHeaderTag);\n        this.offset += XingTag_1.InfoTagHeaderTag.len; // 12\n        switch (headerTag) {\n            case 'Info':\n                this.metadata.setFormat('codecProfile', 'CBR');\n                return this.readXingInfoHeader();\n            case 'Xing':\n                const infoTag = await this.readXingInfoHeader();\n                const codecProfile = getVbrCodecProfile(infoTag.vbrScale);\n                this.metadata.setFormat('codecProfile', codecProfile);\n                return null;\n            case 'Xtra':\n                // ToDo: ???\n                break;\n            case 'LAME':\n                const version = await this.tokenizer.readToken(XingTag_1.LameEncoderVersion);\n                if (this.frame_size >= this.offset + XingTag_1.LameEncoderVersion.len) {\n                    this.offset += XingTag_1.LameEncoderVersion.len;\n                    this.metadata.setFormat('tool', 'LAME ' + version);\n                    await this.skipFrameData(this.frame_size - this.offset);\n                    return null;\n                }\n                else {\n                    this.metadata.addWarning('Corrupt LAME header');\n                    break;\n                }\n            // ToDo: ???\n        }\n        // ToDo: promise duration???\n        const frameDataLeft = this.frame_size - this.offset;\n        if (frameDataLeft < 0) {\n            this.metadata.addWarning('Frame ' + this.frameCount + 'corrupt: negative frameDataLeft');\n        }\n        else {\n            await this.skipFrameData(frameDataLeft);\n        }\n        return null;\n    }\n    /**\n     * Ref: http://gabriel.mp3-tech.org/mp3infotag.html\n     * @returns {Promise<string>}\n     */\n    async readXingInfoHeader() {\n        const offset = this.tokenizer.position;\n        const infoTag = await (0, XingTag_1.readXingHeader)(this.tokenizer);\n        this.offset += this.tokenizer.position - offset;\n        if (infoTag.lame) {\n            this.metadata.setFormat('tool', 'LAME ' + common.stripNulls(infoTag.lame.version));\n            if (infoTag.lame.extended) {\n                // this.metadata.setFormat('trackGain', infoTag.lame.extended.track_gain);\n                this.metadata.setFormat('trackPeakLevel', infoTag.lame.extended.track_peak);\n                if (infoTag.lame.extended.track_gain) {\n                    this.metadata.setFormat('trackGain', infoTag.lame.extended.track_gain.adjustment);\n                }\n                if (infoTag.lame.extended.album_gain) {\n                    this.metadata.setFormat('albumGain', infoTag.lame.extended.album_gain.adjustment);\n                }\n                this.metadata.setFormat('duration', infoTag.lame.extended.music_length / 1000);\n            }\n        }\n        if (infoTag.streamSize) {\n            const duration = this.audioFrameHeader.calcDuration(infoTag.numFrames);\n            this.metadata.setFormat('duration', duration);\n            debug('Get duration from Xing header: %s', this.metadata.format.duration);\n            return infoTag;\n        }\n        // frames field is not present\n        const frameDataLeft = this.frame_size - this.offset;\n        await this.skipFrameData(frameDataLeft);\n        return infoTag;\n    }\n    async skipFrameData(frameDataLeft) {\n        if (frameDataLeft < 0)\n            throw new Error('frame-data-left cannot be negative');\n        await this.tokenizer.ignore(frameDataLeft);\n        this.countSkipFrameData += frameDataLeft;\n    }\n    areAllSame(array) {\n        const first = array[0];\n        return array.every(element => {\n            return element === first;\n        });\n    }\n}\nexports.MpegParser = MpegParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wZWcvTXBlZ1BhcnNlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEIsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLGVBQWUsbUJBQU8sQ0FBQyxrRUFBa0I7QUFDekMsZ0JBQWdCLG1CQUFPLENBQUMsc0RBQU87QUFDL0IsZUFBZSxtQkFBTyxDQUFDLDhFQUFnQjtBQUN2Qyw0QkFBNEIsbUJBQU8sQ0FBQyxzR0FBNEI7QUFDaEUsa0JBQWtCLG1CQUFPLENBQUMsMEVBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsY0FBYyxRQUFRLFdBQVc7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsV0FBVztBQUMvQztBQUNBO0FBQ0EsK0JBQStCLGtCQUFrQjtBQUNqRDtBQUNBO0FBQ0EsZ0NBQWdDLGdDQUFnQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0EsOEJBQThCLHlCQUF5QixFQUFFLFdBQVc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4Q0FBOEM7QUFDMUQsWUFBWSxnREFBZ0Q7QUFDNUQsWUFBWSxnREFBZ0Q7QUFDNUQsWUFBWSxpREFBaUQ7QUFDN0QsWUFBWSxpREFBaUQ7QUFDN0QsWUFBWSxpREFBaUQ7QUFDN0QsWUFBWSxtREFBbUQ7QUFDL0QsWUFBWSxvREFBb0Q7QUFDaEUsWUFBWSxvREFBb0Q7QUFDaEUsWUFBWSxvREFBb0Q7QUFDaEUsWUFBWSxzREFBc0Q7QUFDbEUsWUFBWSxzREFBc0Q7QUFDbEUsWUFBWSxzREFBc0Q7QUFDbEUsWUFBWTtBQUNaO0FBQ0E7QUFDQSxTQUFTLHVDQUF1QztBQUNoRCxTQUFTLHVDQUF1QztBQUNoRCxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsVUFBVTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYscUNBQXFDO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsNEJBQTRCLGVBQWUsZ0JBQWdCO0FBQ3ZHO0FBQ0EsbUVBQW1FLGdCQUFnQjtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxzQkFBc0I7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxrQkFBa0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZ0JBQWdCLFNBQVMsb0JBQW9CLGtCQUFrQixRQUFRO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wZWcvTXBlZ1BhcnNlci5qcz84MDM3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5NcGVnUGFyc2VyID0gdm9pZCAwO1xuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG5jb25zdCBjb3JlXzEgPSByZXF1aXJlKFwic3RydG9rMy9saWIvY29yZVwiKTtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCBjb21tb24gPSByZXF1aXJlKFwiLi4vY29tbW9uL1V0aWxcIik7XG5jb25zdCBBYnN0cmFjdElEM1BhcnNlcl8xID0gcmVxdWlyZShcIi4uL2lkM3YyL0Fic3RyYWN0SUQzUGFyc2VyXCIpO1xuY29uc3QgWGluZ1RhZ18xID0gcmVxdWlyZShcIi4vWGluZ1RhZ1wiKTtcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjptcGVnJyk7XG4vKipcbiAqIENhY2hlIGJ1ZmZlciBzaXplIHVzZWQgZm9yIHNlYXJjaGluZyBzeW5jaHJvbml6YXRpb24gcHJlYWJtbGVcbiAqL1xuY29uc3QgbWF4UGVla0xlbiA9IDEwMjQ7XG4vKipcbiAqIE1QRUctNCBBdWRpbyBkZWZpbml0aW9uc1xuICogUmVmOiAgaHR0cHM6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwL01QRUctNF9BdWRpb1xuICovXG5jb25zdCBNUEVHNCA9IHtcbiAgICAvKipcbiAgICAgKiBBdWRpbyBPYmplY3QgVHlwZXNcbiAgICAgKi9cbiAgICBBdWRpb09iamVjdFR5cGVzOiBbXG4gICAgICAgICdBQUMgTWFpbicsXG4gICAgICAgICdBQUMgTEMnLFxuICAgICAgICAnQUFDIFNTUicsXG4gICAgICAgICdBQUMgTFRQJyAvLyBMb25nIFRlcm0gUHJlZGljdGlvblxuICAgIF0sXG4gICAgLyoqXG4gICAgICogU2FtcGxpbmcgRnJlcXVlbmNpZXNcbiAgICAgKiBodHRwczovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHAvTVBFRy00X0F1ZGlvI1NhbXBsaW5nX0ZyZXF1ZW5jaWVzXG4gICAgICovXG4gICAgU2FtcGxpbmdGcmVxdWVuY2llczogW1xuICAgICAgICA5NjAwMCwgODgyMDAsIDY0MDAwLCA0ODAwMCwgNDQxMDAsIDMyMDAwLCAyNDAwMCwgMjIwNTAsIDE2MDAwLCAxMjAwMCwgMTEwMjUsIDgwMDAsIDczNTAsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAtMVxuICAgIF1cbiAgICAvKipcbiAgICAgKiBDaGFubmVsIENvbmZpZ3VyYXRpb25zXG4gICAgICovXG59O1xuY29uc3QgTVBFRzRfQ2hhbm5lbENvbmZpZ3VyYXRpb25zID0gW1xuICAgIHVuZGVmaW5lZCxcbiAgICBbJ2Zyb250LWNlbnRlciddLFxuICAgIFsnZnJvbnQtbGVmdCcsICdmcm9udC1yaWdodCddLFxuICAgIFsnZnJvbnQtY2VudGVyJywgJ2Zyb250LWxlZnQnLCAnZnJvbnQtcmlnaHQnXSxcbiAgICBbJ2Zyb250LWNlbnRlcicsICdmcm9udC1sZWZ0JywgJ2Zyb250LXJpZ2h0JywgJ2JhY2stY2VudGVyJ10sXG4gICAgWydmcm9udC1jZW50ZXInLCAnZnJvbnQtbGVmdCcsICdmcm9udC1yaWdodCcsICdiYWNrLWxlZnQnLCAnYmFjay1yaWdodCddLFxuICAgIFsnZnJvbnQtY2VudGVyJywgJ2Zyb250LWxlZnQnLCAnZnJvbnQtcmlnaHQnLCAnYmFjay1sZWZ0JywgJ2JhY2stcmlnaHQnLCAnTEZFLWNoYW5uZWwnXSxcbiAgICBbJ2Zyb250LWNlbnRlcicsICdmcm9udC1sZWZ0JywgJ2Zyb250LXJpZ2h0JywgJ3NpZGUtbGVmdCcsICdzaWRlLXJpZ2h0JywgJ2JhY2stbGVmdCcsICdiYWNrLXJpZ2h0JywgJ0xGRS1jaGFubmVsJ11cbl07XG4vKipcbiAqIE1QRUcgQXVkaW8gTGF5ZXIgSS9JSS9JSUkgZnJhbWUgaGVhZGVyXG4gKiBSZWY6IGh0dHBzOi8vd3d3Lm1wMy10ZWNoLm9yZy9wcm9ncmFtbWVyL2ZyYW1lX2hlYWRlci5odG1sXG4gKiBCaXQgbGF5b3V0OiBBQUFBQUFBQSBBQUFCQkNDRCBFRUVFRkZHSCBJSUpKS0xNTVxuICogUmVmOiBodHRwczovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHAvQURUU1xuICovXG5jbGFzcyBNcGVnRnJhbWVIZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKGJ1Ziwgb2ZmKSB7XG4gICAgICAgIC8vIEIoMjAsMTkpOiBNUEVHIEF1ZGlvIHZlcnNpb25JbmRleCBJRFxuICAgICAgICB0aGlzLnZlcnNpb25JbmRleCA9IGNvbW1vbi5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDEsIDMsIDIpO1xuICAgICAgICAvLyBDKDE4LDE3KTogTGF5ZXIgZGVzY3JpcHRpb25cbiAgICAgICAgdGhpcy5sYXllciA9IE1wZWdGcmFtZUhlYWRlci5MYXllckRlc2NyaXB0aW9uW2NvbW1vbi5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDEsIDUsIDIpXTtcbiAgICAgICAgaWYgKHRoaXMudmVyc2lvbkluZGV4ID4gMSAmJiB0aGlzLmxheWVyID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnNlQWR0c0hlYWRlcihidWYsIG9mZik7IC8vIEF1ZGlvIERhdGEgVHJhbnNwb3J0IFN0cmVhbSAoQURUUylcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGFyc2VNcGVnSGVhZGVyKGJ1Ziwgb2ZmKTsgLy8gQ29udmVudGlvbmFsIE1QRUcgaGVhZGVyXG4gICAgICAgIH1cbiAgICAgICAgLy8gRCgxNik6IFByb3RlY3Rpb24gYml0IChpZiB0cnVlIDE2LWJpdCBDUkMgZm9sbG93cyBoZWFkZXIpXG4gICAgICAgIHRoaXMuaXNQcm90ZWN0ZWRCeUNSQyA9ICFjb21tb24uaXNCaXRTZXQoYnVmLCBvZmYgKyAxLCA3KTtcbiAgICB9XG4gICAgY2FsY0R1cmF0aW9uKG51bUZyYW1lcykge1xuICAgICAgICByZXR1cm4gbnVtRnJhbWVzICogdGhpcy5jYWxjU2FtcGxlc1BlckZyYW1lKCkgLyB0aGlzLnNhbXBsaW5nUmF0ZTtcbiAgICB9XG4gICAgY2FsY1NhbXBsZXNQZXJGcmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIE1wZWdGcmFtZUhlYWRlci5zYW1wbGVzSW5GcmFtZVRhYmxlW3RoaXMudmVyc2lvbiA9PT0gMSA/IDAgOiAxXVt0aGlzLmxheWVyXTtcbiAgICB9XG4gICAgY2FsY3VsYXRlU2lkZUluZm9MZW5ndGgoKSB7XG4gICAgICAgIGlmICh0aGlzLmxheWVyICE9PSAzKVxuICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWxNb2RlSW5kZXggPT09IDMpIHtcbiAgICAgICAgICAgIC8vIG1vbm9cbiAgICAgICAgICAgIGlmICh0aGlzLnZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnZlcnNpb24gPT09IDIgfHwgdGhpcy52ZXJzaW9uID09PSAyLjUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gOTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMzI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnZlcnNpb24gPT09IDIgfHwgdGhpcy52ZXJzaW9uID09PSAyLjUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FsY1Nsb3RTaXplKCkge1xuICAgICAgICByZXR1cm4gW251bGwsIDQsIDEsIDFdW3RoaXMubGF5ZXJdO1xuICAgIH1cbiAgICBwYXJzZU1wZWdIZWFkZXIoYnVmLCBvZmYpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSAnTVBFRyc7XG4gICAgICAgIC8vIEUoMTUsMTIpOiBCaXRyYXRlIGluZGV4XG4gICAgICAgIHRoaXMuYml0cmF0ZUluZGV4ID0gY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMiwgMCwgNCk7XG4gICAgICAgIC8vIEYoMTEsMTApOiBTYW1wbGluZyByYXRlIGZyZXF1ZW5jeSBpbmRleFxuICAgICAgICB0aGlzLnNhbXBSYXRlRnJlcUluZGV4ID0gY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMiwgNCwgMik7XG4gICAgICAgIC8vIEcoOSk6IFBhZGRpbmcgYml0XG4gICAgICAgIHRoaXMucGFkZGluZyA9IGNvbW1vbi5pc0JpdFNldChidWYsIG9mZiArIDIsIDYpO1xuICAgICAgICAvLyBIKDgpOiBQcml2YXRlIGJpdFxuICAgICAgICB0aGlzLnByaXZhdGVCaXQgPSBjb21tb24uaXNCaXRTZXQoYnVmLCBvZmYgKyAyLCA3KTtcbiAgICAgICAgLy8gSSg3LDYpOiBDaGFubmVsIE1vZGVcbiAgICAgICAgdGhpcy5jaGFubmVsTW9kZUluZGV4ID0gY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMywgMCwgMik7XG4gICAgICAgIC8vIEooNSw0KTogTW9kZSBleHRlbnNpb24gKE9ubHkgdXNlZCBpbiBKb2ludCBzdGVyZW8pXG4gICAgICAgIHRoaXMubW9kZUV4dGVuc2lvbiA9IGNvbW1vbi5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDMsIDIsIDIpO1xuICAgICAgICAvLyBLKDMpOiBDb3B5cmlnaHRcbiAgICAgICAgdGhpcy5pc0NvcHlyaWdodGVkID0gY29tbW9uLmlzQml0U2V0KGJ1Ziwgb2ZmICsgMywgNCk7XG4gICAgICAgIC8vIEwoMik6IE9yaWdpbmFsXG4gICAgICAgIHRoaXMuaXNPcmlnaW5hbE1lZGlhID0gY29tbW9uLmlzQml0U2V0KGJ1Ziwgb2ZmICsgMywgNSk7XG4gICAgICAgIC8vIE0oMyk6IFRoZSBvcmlnaW5hbCBiaXQgaW5kaWNhdGVzLCBpZiBpdCBpcyBzZXQsIHRoYXQgdGhlIGZyYW1lIGlzIGxvY2F0ZWQgb24gaXRzIG9yaWdpbmFsIG1lZGlhLlxuICAgICAgICB0aGlzLmVtcGhhc2lzID0gY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMywgNywgMik7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IE1wZWdGcmFtZUhlYWRlci5WZXJzaW9uSURbdGhpcy52ZXJzaW9uSW5kZXhdO1xuICAgICAgICB0aGlzLmNoYW5uZWxNb2RlID0gTXBlZ0ZyYW1lSGVhZGVyLkNoYW5uZWxNb2RlW3RoaXMuY2hhbm5lbE1vZGVJbmRleF07XG4gICAgICAgIHRoaXMuY29kZWMgPSBgTVBFRyAke3RoaXMudmVyc2lvbn0gTGF5ZXIgJHt0aGlzLmxheWVyfWA7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBiaXRyYXRlXG4gICAgICAgIGNvbnN0IGJpdHJhdGVJbkticHMgPSB0aGlzLmNhbGNCaXRyYXRlKCk7XG4gICAgICAgIGlmICghYml0cmF0ZUluS2Jwcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZGV0ZXJtaW5lIGJpdC1yYXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iaXRyYXRlID0gYml0cmF0ZUluS2JwcyAqIDEwMDA7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBzYW1wbGluZyByYXRlXG4gICAgICAgIHRoaXMuc2FtcGxpbmdSYXRlID0gdGhpcy5jYWxjU2FtcGxpbmdSYXRlKCk7XG4gICAgICAgIGlmICh0aGlzLnNhbXBsaW5nUmF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBkZXRlcm1pbmUgc2FtcGxpbmctcmF0ZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcnNlQWR0c0hlYWRlcihidWYsIG9mZikge1xuICAgICAgICBkZWJ1ZyhgbGF5ZXI9MCA9PiBBRFRTYCk7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHRoaXMudmVyc2lvbkluZGV4ID09PSAyID8gNCA6IDI7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gJ0FEVFMvTVBFRy0nICsgdGhpcy52ZXJzaW9uO1xuICAgICAgICBjb25zdCBwcm9maWxlSW5kZXggPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAyLCAwLCAyKTtcbiAgICAgICAgdGhpcy5jb2RlYyA9ICdBQUMnO1xuICAgICAgICB0aGlzLmNvZGVjUHJvZmlsZSA9IE1QRUc0LkF1ZGlvT2JqZWN0VHlwZXNbcHJvZmlsZUluZGV4XTtcbiAgICAgICAgZGVidWcoYE1QRUctNCBhdWRpby1jb2RlYz0ke3RoaXMuY29kZWN9YCk7XG4gICAgICAgIGNvbnN0IHNhbXBsaW5nRnJlcXVlbmN5SW5kZXggPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAyLCAyLCA0KTtcbiAgICAgICAgdGhpcy5zYW1wbGluZ1JhdGUgPSBNUEVHNC5TYW1wbGluZ0ZyZXF1ZW5jaWVzW3NhbXBsaW5nRnJlcXVlbmN5SW5kZXhdO1xuICAgICAgICBkZWJ1Zyhgc2FtcGxpbmctcmF0ZT0ke3RoaXMuc2FtcGxpbmdSYXRlfWApO1xuICAgICAgICBjb25zdCBjaGFubmVsSW5kZXggPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAyLCA3LCAzKTtcbiAgICAgICAgdGhpcy5tcDRDaGFubmVsQ29uZmlnID0gTVBFRzRfQ2hhbm5lbENvbmZpZ3VyYXRpb25zW2NoYW5uZWxJbmRleF07XG4gICAgICAgIGRlYnVnKGBjaGFubmVsLWNvbmZpZz0ke3RoaXMubXA0Q2hhbm5lbENvbmZpZy5qb2luKCcrJyl9YCk7XG4gICAgICAgIHRoaXMuZnJhbWVMZW5ndGggPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAzLCA2LCAyKSA8PCAxMTtcbiAgICB9XG4gICAgY2FsY0JpdHJhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmJpdHJhdGVJbmRleCA9PT0gMHgwMCB8fCAvLyBmcmVlXG4gICAgICAgICAgICB0aGlzLmJpdHJhdGVJbmRleCA9PT0gMHgwRikgeyAvLyByZXNlcnZlZFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvZGVjSW5kZXggPSBgJHtNYXRoLmZsb29yKHRoaXMudmVyc2lvbil9JHt0aGlzLmxheWVyfWA7XG4gICAgICAgIHJldHVybiBNcGVnRnJhbWVIZWFkZXIuYml0cmF0ZV9pbmRleFt0aGlzLmJpdHJhdGVJbmRleF1bY29kZWNJbmRleF07XG4gICAgfVxuICAgIGNhbGNTYW1wbGluZ1JhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnNhbXBSYXRlRnJlcUluZGV4ID09PSAweDAzKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vICdyZXNlcnZlZCdcbiAgICAgICAgcmV0dXJuIE1wZWdGcmFtZUhlYWRlci5zYW1wbGluZ19yYXRlX2ZyZXFfaW5kZXhbdGhpcy52ZXJzaW9uXVt0aGlzLnNhbXBSYXRlRnJlcUluZGV4XTtcbiAgICB9XG59XG5NcGVnRnJhbWVIZWFkZXIuU3luY0J5dGUxID0gMHhGRjtcbk1wZWdGcmFtZUhlYWRlci5TeW5jQnl0ZTIgPSAweEUwO1xuTXBlZ0ZyYW1lSGVhZGVyLlZlcnNpb25JRCA9IFsyLjUsIG51bGwsIDIsIDFdO1xuTXBlZ0ZyYW1lSGVhZGVyLkxheWVyRGVzY3JpcHRpb24gPSBbMCwgMywgMiwgMV07XG5NcGVnRnJhbWVIZWFkZXIuQ2hhbm5lbE1vZGUgPSBbJ3N0ZXJlbycsICdqb2ludF9zdGVyZW8nLCAnZHVhbF9jaGFubmVsJywgJ21vbm8nXTtcbk1wZWdGcmFtZUhlYWRlci5iaXRyYXRlX2luZGV4ID0ge1xuICAgIDB4MDE6IHsgMTE6IDMyLCAxMjogMzIsIDEzOiAzMiwgMjE6IDMyLCAyMjogOCwgMjM6IDggfSxcbiAgICAweDAyOiB7IDExOiA2NCwgMTI6IDQ4LCAxMzogNDAsIDIxOiA0OCwgMjI6IDE2LCAyMzogMTYgfSxcbiAgICAweDAzOiB7IDExOiA5NiwgMTI6IDU2LCAxMzogNDgsIDIxOiA1NiwgMjI6IDI0LCAyMzogMjQgfSxcbiAgICAweDA0OiB7IDExOiAxMjgsIDEyOiA2NCwgMTM6IDU2LCAyMTogNjQsIDIyOiAzMiwgMjM6IDMyIH0sXG4gICAgMHgwNTogeyAxMTogMTYwLCAxMjogODAsIDEzOiA2NCwgMjE6IDgwLCAyMjogNDAsIDIzOiA0MCB9LFxuICAgIDB4MDY6IHsgMTE6IDE5MiwgMTI6IDk2LCAxMzogODAsIDIxOiA5NiwgMjI6IDQ4LCAyMzogNDggfSxcbiAgICAweDA3OiB7IDExOiAyMjQsIDEyOiAxMTIsIDEzOiA5NiwgMjE6IDExMiwgMjI6IDU2LCAyMzogNTYgfSxcbiAgICAweDA4OiB7IDExOiAyNTYsIDEyOiAxMjgsIDEzOiAxMTIsIDIxOiAxMjgsIDIyOiA2NCwgMjM6IDY0IH0sXG4gICAgMHgwOTogeyAxMTogMjg4LCAxMjogMTYwLCAxMzogMTI4LCAyMTogMTQ0LCAyMjogODAsIDIzOiA4MCB9LFxuICAgIDB4MEE6IHsgMTE6IDMyMCwgMTI6IDE5MiwgMTM6IDE2MCwgMjE6IDE2MCwgMjI6IDk2LCAyMzogOTYgfSxcbiAgICAweDBCOiB7IDExOiAzNTIsIDEyOiAyMjQsIDEzOiAxOTIsIDIxOiAxNzYsIDIyOiAxMTIsIDIzOiAxMTIgfSxcbiAgICAweDBDOiB7IDExOiAzODQsIDEyOiAyNTYsIDEzOiAyMjQsIDIxOiAxOTIsIDIyOiAxMjgsIDIzOiAxMjggfSxcbiAgICAweDBEOiB7IDExOiA0MTYsIDEyOiAzMjAsIDEzOiAyNTYsIDIxOiAyMjQsIDIyOiAxNDQsIDIzOiAxNDQgfSxcbiAgICAweDBFOiB7IDExOiA0NDgsIDEyOiAzODQsIDEzOiAzMjAsIDIxOiAyNTYsIDIyOiAxNjAsIDIzOiAxNjAgfVxufTtcbk1wZWdGcmFtZUhlYWRlci5zYW1wbGluZ19yYXRlX2ZyZXFfaW5kZXggPSB7XG4gICAgMTogeyAweDAwOiA0NDEwMCwgMHgwMTogNDgwMDAsIDB4MDI6IDMyMDAwIH0sXG4gICAgMjogeyAweDAwOiAyMjA1MCwgMHgwMTogMjQwMDAsIDB4MDI6IDE2MDAwIH0sXG4gICAgMi41OiB7IDB4MDA6IDExMDI1LCAweDAxOiAxMjAwMCwgMHgwMjogODAwMCB9XG59O1xuTXBlZ0ZyYW1lSGVhZGVyLnNhbXBsZXNJbkZyYW1lVGFibGUgPSBbXG4gICAgLyogTGF5ZXIgICBJICAgIElJICAgSUlJICovXG4gICAgWzAsIDM4NCwgMTE1MiwgMTE1Ml0sXG4gICAgWzAsIDM4NCwgMTE1MiwgNTc2XSAvLyBNUEVHLTIoLjVcbl07XG4vKipcbiAqIE1QRUcgQXVkaW8gTGF5ZXIgSS9JSS9JSUlcbiAqL1xuY29uc3QgRnJhbWVIZWFkZXIgPSB7XG4gICAgbGVuOiA0LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgTXBlZ0ZyYW1lSGVhZGVyKGJ1Ziwgb2ZmKTtcbiAgICB9XG59O1xuZnVuY3Rpb24gZ2V0VmJyQ29kZWNQcm9maWxlKHZiclNjYWxlKSB7XG4gICAgcmV0dXJuICdWJyArIE1hdGguZmxvb3IoKDEwMCAtIHZiclNjYWxlKSAvIDEwKTtcbn1cbmNsYXNzIE1wZWdQYXJzZXIgZXh0ZW5kcyBBYnN0cmFjdElEM1BhcnNlcl8xLkFic3RyYWN0SUQzUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5mcmFtZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5zeW5jRnJhbWVDb3VudCA9IC0xO1xuICAgICAgICB0aGlzLmNvdW50U2tpcEZyYW1lRGF0YSA9IDA7XG4gICAgICAgIHRoaXMudG90YWxEYXRhTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5iaXRyYXRlcyA9IFtdO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZUVvZkR1cmF0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVmX2ZyYW1lX2hlYWRlciA9IEJ1ZmZlci5hbGxvYyg0KTtcbiAgICAgICAgdGhpcy5zeW5jUGVlayA9IHtcbiAgICAgICAgICAgIGJ1ZjogQnVmZmVyLmFsbG9jKG1heFBlZWtMZW4pLFxuICAgICAgICAgICAgbGVuOiAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBJRDMgaGVhZGVycyBoYXZlIGJlZW4gcGFyc2VkXG4gICAgICovXG4gICAgYXN5bmMgcG9zdElkM3YyUGFyc2UoKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdsb3NzbGVzcycsIGZhbHNlKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBxdWl0ID0gZmFsc2U7XG4gICAgICAgICAgICB3aGlsZSAoIXF1aXQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN5bmMoKTtcbiAgICAgICAgICAgICAgICBxdWl0ID0gYXdhaXQgdGhpcy5wYXJzZUNvbW1vbk1wZWdIZWFkZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgY29yZV8xLkVuZE9mU3RyZWFtRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZyhgRW5kLW9mLXN0cmVhbWApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbGN1bGF0ZUVvZkR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bWJlck9mU2FtcGxlcyA9IHRoaXMuZnJhbWVDb3VudCAqIHRoaXMuc2FtcGxlc1BlckZyYW1lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZTYW1wbGVzJywgbnVtYmVyT2ZTYW1wbGVzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBudW1iZXJPZlNhbXBsZXMgLyB0aGlzLm1ldGFkYXRhLmZvcm1hdC5zYW1wbGVSYXRlO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgQ2FsY3VsYXRlIGR1cmF0aW9uIGF0IEVPRjogJHtkdXJhdGlvbn0gc2VjLmAsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgZmlsZSBoYXMgYmVlbiBmdWxseSBwYXJzZWQsIHRoaXMgYWxsb3dzLCBpZiBwcmVzZW50LCB0byBleGNsdWRlIHRoZSBJRDN2MS4xIGhlYWRlciBsZW5ndGhcbiAgICAgKi9cbiAgICBmaW5hbGl6ZSgpIHtcbiAgICAgICAgY29uc3QgZm9ybWF0ID0gdGhpcy5tZXRhZGF0YS5mb3JtYXQ7XG4gICAgICAgIGNvbnN0IGhhc0lEM3YxID0gdGhpcy5tZXRhZGF0YS5uYXRpdmUuaGFzT3duUHJvcGVydHkoJ0lEM3YxJyk7XG4gICAgICAgIGlmIChmb3JtYXQuZHVyYXRpb24gJiYgdGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSkge1xuICAgICAgICAgICAgY29uc3QgbXBlZ1NpemUgPSB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIC0gdGhpcy5tcGVnT2Zmc2V0IC0gKGhhc0lEM3YxID8gMTI4IDogMCk7XG4gICAgICAgICAgICBpZiAoZm9ybWF0LmNvZGVjUHJvZmlsZSAmJiBmb3JtYXQuY29kZWNQcm9maWxlWzBdID09PSAnVicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIG1wZWdTaXplICogOCAvIGZvcm1hdC5kdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSAmJiBmb3JtYXQuY29kZWNQcm9maWxlID09PSAnQ0JSJykge1xuICAgICAgICAgICAgY29uc3QgbXBlZ1NpemUgPSB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIC0gdGhpcy5tcGVnT2Zmc2V0IC0gKGhhc0lEM3YxID8gMTI4IDogMCk7XG4gICAgICAgICAgICBjb25zdCBudW1iZXJPZlNhbXBsZXMgPSBNYXRoLnJvdW5kKG1wZWdTaXplIC8gdGhpcy5mcmFtZV9zaXplKSAqIHRoaXMuc2FtcGxlc1BlckZyYW1lO1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mU2FtcGxlcycsIG51bWJlck9mU2FtcGxlcyk7XG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IG51bWJlck9mU2FtcGxlcyAvIGZvcm1hdC5zYW1wbGVSYXRlO1xuICAgICAgICAgICAgZGVidWcoXCJDYWxjdWxhdGUgQ0JSIGR1cmF0aW9uIGJhc2VkIG9uIGZpbGUgc2l6ZTogJXNcIiwgZHVyYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHN5bmMoKSB7XG4gICAgICAgIGxldCBnb3RGaXJzdFN5bmMgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGxldCBibyA9IDA7XG4gICAgICAgICAgICB0aGlzLnN5bmNQZWVrLmxlbiA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnBlZWtCdWZmZXIodGhpcy5zeW5jUGVlay5idWYsIHsgbGVuZ3RoOiBtYXhQZWVrTGVuLCBtYXlCZUxlc3M6IHRydWUgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zeW5jUGVlay5sZW4gPD0gMTYzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmVfMS5FbmRPZlN0cmVhbUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChnb3RGaXJzdFN5bmMgJiYgKHRoaXMuc3luY1BlZWsuYnVmW2JvXSAmIDB4RTApID09PSAweEUwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmX2ZyYW1lX2hlYWRlclswXSA9IE1wZWdGcmFtZUhlYWRlci5TeW5jQnl0ZTE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmX2ZyYW1lX2hlYWRlclsxXSA9IHRoaXMuc3luY1BlZWsuYnVmW2JvXTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKGJvKTtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoYFN5bmMgYXQgb2Zmc2V0PSR7dGhpcy50b2tlbml6ZXIucG9zaXRpb24gLSAxfSwgZnJhbWVDb3VudD0ke3RoaXMuZnJhbWVDb3VudH1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3luY0ZyYW1lQ291bnQgPT09IHRoaXMuZnJhbWVDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoYFJlLXN5bmNlZCBNUEVHIHN0cmVhbSwgZnJhbWVDb3VudD0ke3RoaXMuZnJhbWVDb3VudH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lX3NpemUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3luY0ZyYW1lQ291bnQgPSB0aGlzLmZyYW1lQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc3luY1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ290Rmlyc3RTeW5jID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJvID0gdGhpcy5zeW5jUGVlay5idWYuaW5kZXhPZihNcGVnRnJhbWVIZWFkZXIuU3luY0J5dGUxLCBibyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN5bmNQZWVrLmxlbiA8IHRoaXMuc3luY1BlZWsuYnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBjb3JlXzEuRW5kT2ZTdHJlYW1FcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKHRoaXMuc3luY1BlZWsubGVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBjb250aW51ZSB3aXRoIG5leHQgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK2JvO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ290Rmlyc3RTeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21iaW5lZCBBRFRTICYgTVBFRyAoTVAyICYgTVAzKSBoZWFkZXIgaGFuZGxpbmdcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPGJvb2xlYW4+fSB0cnVlIGlmIHBhcnNlciBzaG91bGQgcXVpdFxuICAgICAqL1xuICAgIGFzeW5jIHBhcnNlQ29tbW9uTXBlZ0hlYWRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuZnJhbWVDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5tcGVnT2Zmc2V0ID0gdGhpcy50b2tlbml6ZXIucG9zaXRpb24gLSAxO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLnBlZWtCdWZmZXIodGhpcy5idWZfZnJhbWVfaGVhZGVyLCB7IG9mZnNldDogMSwgbGVuZ3RoOiAzIH0pO1xuICAgICAgICBsZXQgaGVhZGVyO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaGVhZGVyID0gRnJhbWVIZWFkZXIuZ2V0KHRoaXMuYnVmX2ZyYW1lX2hlYWRlciwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKDEpO1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKCdQYXJzZSBlcnJvcjogJyArIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gc3luY1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZSgzKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsIGhlYWRlci5jb250YWluZXIpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29kZWMnLCBoZWFkZXIuY29kZWMpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbG9zc2xlc3MnLCBmYWxzZSk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdzYW1wbGVSYXRlJywgaGVhZGVyLnNhbXBsaW5nUmF0ZSk7XG4gICAgICAgIHRoaXMuZnJhbWVDb3VudCsrO1xuICAgICAgICByZXR1cm4gaGVhZGVyLnZlcnNpb24gPj0gMiAmJiBoZWFkZXIubGF5ZXIgPT09IDAgPyB0aGlzLnBhcnNlQWR0cyhoZWFkZXIpIDogdGhpcy5wYXJzZUF1ZGlvRnJhbWVIZWFkZXIoaGVhZGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxib29sZWFuPn0gdHJ1ZSBpZiBwYXJzZXIgc2hvdWxkIHF1aXRcbiAgICAgKi9cbiAgICBhc3luYyBwYXJzZUF1ZGlvRnJhbWVIZWFkZXIoaGVhZGVyKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgaGVhZGVyLmNoYW5uZWxNb2RlID09PSAnbW9ubycgPyAxIDogMik7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgaGVhZGVyLmJpdHJhdGUpO1xuICAgICAgICBpZiAodGhpcy5mcmFtZUNvdW50IDwgMjAgKiAxMDAwMCkge1xuICAgICAgICAgICAgZGVidWcoJ29mZnNldD0lcyBNUCVzIGJpdHJhdGU9JXMgc2FtcGxlLXJhdGU9JXMnLCB0aGlzLnRva2VuaXplci5wb3NpdGlvbiAtIDQsIGhlYWRlci5sYXllciwgaGVhZGVyLmJpdHJhdGUsIGhlYWRlci5zYW1wbGluZ1JhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNsb3Rfc2l6ZSA9IGhlYWRlci5jYWxjU2xvdFNpemUoKTtcbiAgICAgICAgaWYgKHNsb3Rfc2l6ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHNsb3Rfc2l6ZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhbXBsZXNfcGVyX2ZyYW1lID0gaGVhZGVyLmNhbGNTYW1wbGVzUGVyRnJhbWUoKTtcbiAgICAgICAgZGVidWcoYHNhbXBsZXNfcGVyX2ZyYW1lPSR7c2FtcGxlc19wZXJfZnJhbWV9YCk7XG4gICAgICAgIGNvbnN0IGJwcyA9IHNhbXBsZXNfcGVyX2ZyYW1lIC8gOC4wO1xuICAgICAgICBjb25zdCBmc2l6ZSA9IChicHMgKiBoZWFkZXIuYml0cmF0ZSAvIGhlYWRlci5zYW1wbGluZ1JhdGUpICtcbiAgICAgICAgICAgICgoaGVhZGVyLnBhZGRpbmcpID8gc2xvdF9zaXplIDogMCk7XG4gICAgICAgIHRoaXMuZnJhbWVfc2l6ZSA9IE1hdGguZmxvb3IoZnNpemUpO1xuICAgICAgICB0aGlzLmF1ZGlvRnJhbWVIZWFkZXIgPSBoZWFkZXI7XG4gICAgICAgIHRoaXMuYml0cmF0ZXMucHVzaChoZWFkZXIuYml0cmF0ZSk7XG4gICAgICAgIC8vIHh0cmEgaGVhZGVyIG9ubHkgZXhpc3RzIGluIGZpcnN0IGZyYW1lXG4gICAgICAgIGlmICh0aGlzLmZyYW1lQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gRnJhbWVIZWFkZXIubGVuO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5za2lwU2lkZUluZm9ybWF0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZnJhbWVDb3VudCA9PT0gMykge1xuICAgICAgICAgICAgLy8gdGhlIHN0cmVhbSBpcyBDQlIgaWYgdGhlIGZpcnN0IDMgZnJhbWUgYml0cmF0ZXMgYXJlIHRoZSBzYW1lXG4gICAgICAgICAgICBpZiAodGhpcy5hcmVBbGxTYW1lKHRoaXMuYml0cmF0ZXMpKSB7XG4gICAgICAgICAgICAgICAgLy8gQWN0dWFsIGNhbGN1bGF0aW9uIHdpbGwgYmUgZG9uZSBpbiBmaW5hbGl6ZVxuICAgICAgICAgICAgICAgIHRoaXMuc2FtcGxlc1BlckZyYW1lID0gc2FtcGxlc19wZXJfZnJhbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjUHJvZmlsZScsICdDQlInKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFdpbGwgY2FsY3VsYXRlIGR1cmF0aW9uIGJhc2VkIG9uIHRoZSBmaWxlIHNpemVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFdlIGFscmVhZHkgZ290IHRoZSBkdXJhdGlvbiwgc3RvcCBwcm9jZXNzaW5nIE1QRUcgc3RyZWFtIGFueSBmdXJ0aGVyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBFbmZvcmNlIGR1cmF0aW9uIG5vdCBlbmFibGVkLCBzdG9wIHByb2Nlc3NpbmcgZW50aXJlIHN0cmVhbVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG9uY2Ugd2Uga25vdyB0aGUgZmlsZSBpcyBWQlIgYXR0YWNoIGxpc3RlbmVyIHRvIGVuZCBvZlxuICAgICAgICAvLyBzdHJlYW0gc28gd2UgY2FuIGRvIHRoZSBkdXJhdGlvbiBjYWxjdWxhdGlvbiB3aGVuIHdlXG4gICAgICAgIC8vIGhhdmUgY291bnRlZCBhbGwgdGhlIGZyYW1lc1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmR1cmF0aW9uICYmIHRoaXMuZnJhbWVDb3VudCA9PT0gNCkge1xuICAgICAgICAgICAgdGhpcy5zYW1wbGVzUGVyRnJhbWUgPSBzYW1wbGVzX3Blcl9mcmFtZTtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlRW9mRHVyYXRpb24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gNDtcbiAgICAgICAgaWYgKGhlYWRlci5pc1Byb3RlY3RlZEJ5Q1JDKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBhcnNlQ3JjKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNraXBTaWRlSW5mb3JtYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwYXJzZUFkdHMoaGVhZGVyKSB7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5hbGxvYygzKTtcbiAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZEJ1ZmZlcihidWYpO1xuICAgICAgICBoZWFkZXIuZnJhbWVMZW5ndGggKz0gY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1ZiwgMCwgMCwgMTEpO1xuICAgICAgICB0aGlzLnRvdGFsRGF0YUxlbmd0aCArPSBoZWFkZXIuZnJhbWVMZW5ndGg7XG4gICAgICAgIHRoaXMuc2FtcGxlc1BlckZyYW1lID0gMTAyNDtcbiAgICAgICAgY29uc3QgZnJhbWVzUGVyU2VjID0gaGVhZGVyLnNhbXBsaW5nUmF0ZSAvIHRoaXMuc2FtcGxlc1BlckZyYW1lO1xuICAgICAgICBjb25zdCBieXRlc1BlckZyYW1lID0gdGhpcy5mcmFtZUNvdW50ID09PSAwID8gMCA6IHRoaXMudG90YWxEYXRhTGVuZ3RoIC8gdGhpcy5mcmFtZUNvdW50O1xuICAgICAgICBjb25zdCBiaXRyYXRlID0gOCAqIGJ5dGVzUGVyRnJhbWUgKiBmcmFtZXNQZXJTZWMgKyAwLjU7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgYml0cmF0ZSk7XG4gICAgICAgIGRlYnVnKGBmcmFtZS1jb3VudD0ke3RoaXMuZnJhbWVDb3VudH0sIHNpemU9JHtoZWFkZXIuZnJhbWVMZW5ndGh9IGJ5dGVzLCBiaXQtcmF0ZT0ke2JpdHJhdGV9YCk7XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShoZWFkZXIuZnJhbWVMZW5ndGggPiA3ID8gaGVhZGVyLmZyYW1lTGVuZ3RoIC0gNyA6IDEpO1xuICAgICAgICAvLyBDb25zdW1lIHJlbWFpbmluZyBoZWFkZXIgYW5kIGZyYW1lIGRhdGFcbiAgICAgICAgaWYgKHRoaXMuZnJhbWVDb3VudCA9PT0gMykge1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjUHJvZmlsZScsIGhlYWRlci5jb2RlY1Byb2ZpbGUpO1xuICAgICAgICAgICAgaWYgKGhlYWRlci5tcDRDaGFubmVsQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mQ2hhbm5lbHMnLCBoZWFkZXIubXA0Q2hhbm5lbENvbmZpZy5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlRW9mRHVyYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFN0b3AgcGFyc2luZyBhZnRlciB0aGUgdGhpcmQgZnJhbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlQ3JjKCkge1xuICAgICAgICB0aGlzLmNyYyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWROdW1iZXIoVG9rZW4uSU5UMTZfQkUpO1xuICAgICAgICB0aGlzLm9mZnNldCArPSAyO1xuICAgICAgICByZXR1cm4gdGhpcy5za2lwU2lkZUluZm9ybWF0aW9uKCk7XG4gICAgfVxuICAgIGFzeW5jIHNraXBTaWRlSW5mb3JtYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHNpZGVpbmZvX2xlbmd0aCA9IHRoaXMuYXVkaW9GcmFtZUhlYWRlci5jYWxjdWxhdGVTaWRlSW5mb0xlbmd0aCgpO1xuICAgICAgICAvLyBzaWRlIGluZm9ybWF0aW9uXG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVG9rZW4uVWludDhBcnJheVR5cGUoc2lkZWluZm9fbGVuZ3RoKSk7XG4gICAgICAgIHRoaXMub2Zmc2V0ICs9IHNpZGVpbmZvX2xlbmd0aDtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkWHRyYUluZm9IZWFkZXIoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhc3luYyByZWFkWHRyYUluZm9IZWFkZXIoKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlclRhZyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihYaW5nVGFnXzEuSW5mb1RhZ0hlYWRlclRhZyk7XG4gICAgICAgIHRoaXMub2Zmc2V0ICs9IFhpbmdUYWdfMS5JbmZvVGFnSGVhZGVyVGFnLmxlbjsgLy8gMTJcbiAgICAgICAgc3dpdGNoIChoZWFkZXJUYWcpIHtcbiAgICAgICAgICAgIGNhc2UgJ0luZm8nOlxuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb2RlY1Byb2ZpbGUnLCAnQ0JSJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZFhpbmdJbmZvSGVhZGVyKCk7XG4gICAgICAgICAgICBjYXNlICdYaW5nJzpcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvVGFnID0gYXdhaXQgdGhpcy5yZWFkWGluZ0luZm9IZWFkZXIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2RlY1Byb2ZpbGUgPSBnZXRWYnJDb2RlY1Byb2ZpbGUoaW5mb1RhZy52YnJTY2FsZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjUHJvZmlsZScsIGNvZGVjUHJvZmlsZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjYXNlICdYdHJhJzpcbiAgICAgICAgICAgICAgICAvLyBUb0RvOiA/Pz9cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0xBTUUnOlxuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oWGluZ1RhZ18xLkxhbWVFbmNvZGVyVmVyc2lvbik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJhbWVfc2l6ZSA+PSB0aGlzLm9mZnNldCArIFhpbmdUYWdfMS5MYW1lRW5jb2RlclZlcnNpb24ubGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0ICs9IFhpbmdUYWdfMS5MYW1lRW5jb2RlclZlcnNpb24ubGVuO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgndG9vbCcsICdMQU1FICcgKyB2ZXJzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5za2lwRnJhbWVEYXRhKHRoaXMuZnJhbWVfc2l6ZSAtIHRoaXMub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoJ0NvcnJ1cHQgTEFNRSBoZWFkZXInKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVG9EbzogPz8/XG4gICAgICAgIH1cbiAgICAgICAgLy8gVG9EbzogcHJvbWlzZSBkdXJhdGlvbj8/P1xuICAgICAgICBjb25zdCBmcmFtZURhdGFMZWZ0ID0gdGhpcy5mcmFtZV9zaXplIC0gdGhpcy5vZmZzZXQ7XG4gICAgICAgIGlmIChmcmFtZURhdGFMZWZ0IDwgMCkge1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKCdGcmFtZSAnICsgdGhpcy5mcmFtZUNvdW50ICsgJ2NvcnJ1cHQ6IG5lZ2F0aXZlIGZyYW1lRGF0YUxlZnQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2tpcEZyYW1lRGF0YShmcmFtZURhdGFMZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVmOiBodHRwOi8vZ2FicmllbC5tcDMtdGVjaC5vcmcvbXAzaW5mb3RhZy5odG1sXG4gICAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICAgKi9cbiAgICBhc3luYyByZWFkWGluZ0luZm9IZWFkZXIoKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMudG9rZW5pemVyLnBvc2l0aW9uO1xuICAgICAgICBjb25zdCBpbmZvVGFnID0gYXdhaXQgKDAsIFhpbmdUYWdfMS5yZWFkWGluZ0hlYWRlcikodGhpcy50b2tlbml6ZXIpO1xuICAgICAgICB0aGlzLm9mZnNldCArPSB0aGlzLnRva2VuaXplci5wb3NpdGlvbiAtIG9mZnNldDtcbiAgICAgICAgaWYgKGluZm9UYWcubGFtZSkge1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3Rvb2wnLCAnTEFNRSAnICsgY29tbW9uLnN0cmlwTnVsbHMoaW5mb1RhZy5sYW1lLnZlcnNpb24pKTtcbiAgICAgICAgICAgIGlmIChpbmZvVGFnLmxhbWUuZXh0ZW5kZWQpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgndHJhY2tHYWluJywgaW5mb1RhZy5sYW1lLmV4dGVuZGVkLnRyYWNrX2dhaW4pO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCd0cmFja1BlYWtMZXZlbCcsIGluZm9UYWcubGFtZS5leHRlbmRlZC50cmFja19wZWFrKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5mb1RhZy5sYW1lLmV4dGVuZGVkLnRyYWNrX2dhaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3RyYWNrR2FpbicsIGluZm9UYWcubGFtZS5leHRlbmRlZC50cmFja19nYWluLmFkanVzdG1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5mb1RhZy5sYW1lLmV4dGVuZGVkLmFsYnVtX2dhaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2FsYnVtR2FpbicsIGluZm9UYWcubGFtZS5leHRlbmRlZC5hbGJ1bV9nYWluLmFkanVzdG1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBpbmZvVGFnLmxhbWUuZXh0ZW5kZWQubXVzaWNfbGVuZ3RoIC8gMTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZm9UYWcuc3RyZWFtU2l6ZSkge1xuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSB0aGlzLmF1ZGlvRnJhbWVIZWFkZXIuY2FsY0R1cmF0aW9uKGluZm9UYWcubnVtRnJhbWVzKTtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdkdXJhdGlvbicsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIGRlYnVnKCdHZXQgZHVyYXRpb24gZnJvbSBYaW5nIGhlYWRlcjogJXMnLCB0aGlzLm1ldGFkYXRhLmZvcm1hdC5kdXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gaW5mb1RhZztcbiAgICAgICAgfVxuICAgICAgICAvLyBmcmFtZXMgZmllbGQgaXMgbm90IHByZXNlbnRcbiAgICAgICAgY29uc3QgZnJhbWVEYXRhTGVmdCA9IHRoaXMuZnJhbWVfc2l6ZSAtIHRoaXMub2Zmc2V0O1xuICAgICAgICBhd2FpdCB0aGlzLnNraXBGcmFtZURhdGEoZnJhbWVEYXRhTGVmdCk7XG4gICAgICAgIHJldHVybiBpbmZvVGFnO1xuICAgIH1cbiAgICBhc3luYyBza2lwRnJhbWVEYXRhKGZyYW1lRGF0YUxlZnQpIHtcbiAgICAgICAgaWYgKGZyYW1lRGF0YUxlZnQgPCAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdmcmFtZS1kYXRhLWxlZnQgY2Fubm90IGJlIG5lZ2F0aXZlJyk7XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShmcmFtZURhdGFMZWZ0KTtcbiAgICAgICAgdGhpcy5jb3VudFNraXBGcmFtZURhdGEgKz0gZnJhbWVEYXRhTGVmdDtcbiAgICB9XG4gICAgYXJlQWxsU2FtZShhcnJheSkge1xuICAgICAgICBjb25zdCBmaXJzdCA9IGFycmF5WzBdO1xuICAgICAgICByZXR1cm4gYXJyYXkuZXZlcnkoZWxlbWVudCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudCA9PT0gZmlyc3Q7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuTXBlZ1BhcnNlciA9IE1wZWdQYXJzZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mpeg/MpegParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mpeg/ReplayGainDataFormat.js":
/*!**********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/mpeg/ReplayGainDataFormat.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ReplayGain = void 0;\nconst common = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/**\n * https://github.com/Borewit/music-metadata/wiki/Replay-Gain-Data-Format#name-code\n */\nvar NameCode;\n(function (NameCode) {\n    /**\n     * not set\n     */\n    NameCode[NameCode[\"not_set\"] = 0] = \"not_set\";\n    /**\n     * Radio Gain Adjustment\n     */\n    NameCode[NameCode[\"radio\"] = 1] = \"radio\";\n    /**\n     * Audiophile Gain Adjustment\n     */\n    NameCode[NameCode[\"audiophile\"] = 2] = \"audiophile\";\n})(NameCode || (NameCode = {}));\n/**\n * https://github.com/Borewit/music-metadata/wiki/Replay-Gain-Data-Format#originator-code\n */\nvar ReplayGainOriginator;\n(function (ReplayGainOriginator) {\n    /**\n     * Replay Gain unspecified\n     */\n    ReplayGainOriginator[ReplayGainOriginator[\"unspecified\"] = 0] = \"unspecified\";\n    /**\n     * Replay Gain pre-set by artist/producer/mastering engineer\n     */\n    ReplayGainOriginator[ReplayGainOriginator[\"engineer\"] = 1] = \"engineer\";\n    /**\n     * Replay Gain set by user\n     */\n    ReplayGainOriginator[ReplayGainOriginator[\"user\"] = 2] = \"user\";\n    /**\n     * Replay Gain determined automatically, as described on this site\n     */\n    ReplayGainOriginator[ReplayGainOriginator[\"automatic\"] = 3] = \"automatic\";\n    /**\n     * Set by simple RMS average\n     */\n    ReplayGainOriginator[ReplayGainOriginator[\"rms_average\"] = 4] = \"rms_average\";\n})(ReplayGainOriginator || (ReplayGainOriginator = {}));\n/**\n * Replay Gain Data Format\n *\n * https://github.com/Borewit/music-metadata/wiki/Replay-Gain-Data-Format\n */\nexports.ReplayGain = {\n    len: 2,\n    get: (buf, off) => {\n        const gain_type = common.getBitAllignedNumber(buf, off, 0, 3);\n        const sign = common.getBitAllignedNumber(buf, off, 6, 1);\n        const gain_adj = common.getBitAllignedNumber(buf, off, 7, 9) / 10.0;\n        if (gain_type > 0) {\n            return {\n                type: common.getBitAllignedNumber(buf, off, 0, 3),\n                origin: common.getBitAllignedNumber(buf, off, 3, 3),\n                adjustment: (sign ? -gain_adj : gain_adj)\n            };\n        }\n        return undefined;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wZWcvUmVwbGF5R2FpbkRhdGFGb3JtYXQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCO0FBQ2xCLGVBQWUsbUJBQU8sQ0FBQyw4RUFBZ0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNEJBQTRCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvREFBb0Q7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbXBlZy9SZXBsYXlHYWluRGF0YUZvcm1hdC5qcz8xN2NmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXBsYXlHYWluID0gdm9pZCAwO1xuY29uc3QgY29tbW9uID0gcmVxdWlyZShcIi4uL2NvbW1vbi9VdGlsXCIpO1xuLyoqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vQm9yZXdpdC9tdXNpYy1tZXRhZGF0YS93aWtpL1JlcGxheS1HYWluLURhdGEtRm9ybWF0I25hbWUtY29kZVxuICovXG52YXIgTmFtZUNvZGU7XG4oZnVuY3Rpb24gKE5hbWVDb2RlKSB7XG4gICAgLyoqXG4gICAgICogbm90IHNldFxuICAgICAqL1xuICAgIE5hbWVDb2RlW05hbWVDb2RlW1wibm90X3NldFwiXSA9IDBdID0gXCJub3Rfc2V0XCI7XG4gICAgLyoqXG4gICAgICogUmFkaW8gR2FpbiBBZGp1c3RtZW50XG4gICAgICovXG4gICAgTmFtZUNvZGVbTmFtZUNvZGVbXCJyYWRpb1wiXSA9IDFdID0gXCJyYWRpb1wiO1xuICAgIC8qKlxuICAgICAqIEF1ZGlvcGhpbGUgR2FpbiBBZGp1c3RtZW50XG4gICAgICovXG4gICAgTmFtZUNvZGVbTmFtZUNvZGVbXCJhdWRpb3BoaWxlXCJdID0gMl0gPSBcImF1ZGlvcGhpbGVcIjtcbn0pKE5hbWVDb2RlIHx8IChOYW1lQ29kZSA9IHt9KSk7XG4vKipcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Cb3Jld2l0L211c2ljLW1ldGFkYXRhL3dpa2kvUmVwbGF5LUdhaW4tRGF0YS1Gb3JtYXQjb3JpZ2luYXRvci1jb2RlXG4gKi9cbnZhciBSZXBsYXlHYWluT3JpZ2luYXRvcjtcbihmdW5jdGlvbiAoUmVwbGF5R2Fpbk9yaWdpbmF0b3IpIHtcbiAgICAvKipcbiAgICAgKiBSZXBsYXkgR2FpbiB1bnNwZWNpZmllZFxuICAgICAqL1xuICAgIFJlcGxheUdhaW5PcmlnaW5hdG9yW1JlcGxheUdhaW5PcmlnaW5hdG9yW1widW5zcGVjaWZpZWRcIl0gPSAwXSA9IFwidW5zcGVjaWZpZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXBsYXkgR2FpbiBwcmUtc2V0IGJ5IGFydGlzdC9wcm9kdWNlci9tYXN0ZXJpbmcgZW5naW5lZXJcbiAgICAgKi9cbiAgICBSZXBsYXlHYWluT3JpZ2luYXRvcltSZXBsYXlHYWluT3JpZ2luYXRvcltcImVuZ2luZWVyXCJdID0gMV0gPSBcImVuZ2luZWVyXCI7XG4gICAgLyoqXG4gICAgICogUmVwbGF5IEdhaW4gc2V0IGJ5IHVzZXJcbiAgICAgKi9cbiAgICBSZXBsYXlHYWluT3JpZ2luYXRvcltSZXBsYXlHYWluT3JpZ2luYXRvcltcInVzZXJcIl0gPSAyXSA9IFwidXNlclwiO1xuICAgIC8qKlxuICAgICAqIFJlcGxheSBHYWluIGRldGVybWluZWQgYXV0b21hdGljYWxseSwgYXMgZGVzY3JpYmVkIG9uIHRoaXMgc2l0ZVxuICAgICAqL1xuICAgIFJlcGxheUdhaW5PcmlnaW5hdG9yW1JlcGxheUdhaW5PcmlnaW5hdG9yW1wiYXV0b21hdGljXCJdID0gM10gPSBcImF1dG9tYXRpY1wiO1xuICAgIC8qKlxuICAgICAqIFNldCBieSBzaW1wbGUgUk1TIGF2ZXJhZ2VcbiAgICAgKi9cbiAgICBSZXBsYXlHYWluT3JpZ2luYXRvcltSZXBsYXlHYWluT3JpZ2luYXRvcltcInJtc19hdmVyYWdlXCJdID0gNF0gPSBcInJtc19hdmVyYWdlXCI7XG59KShSZXBsYXlHYWluT3JpZ2luYXRvciB8fCAoUmVwbGF5R2Fpbk9yaWdpbmF0b3IgPSB7fSkpO1xuLyoqXG4gKiBSZXBsYXkgR2FpbiBEYXRhIEZvcm1hdFxuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Cb3Jld2l0L211c2ljLW1ldGFkYXRhL3dpa2kvUmVwbGF5LUdhaW4tRGF0YS1Gb3JtYXRcbiAqL1xuZXhwb3J0cy5SZXBsYXlHYWluID0ge1xuICAgIGxlbjogMixcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICBjb25zdCBnYWluX3R5cGUgPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYsIDAsIDMpO1xuICAgICAgICBjb25zdCBzaWduID0gY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmLCA2LCAxKTtcbiAgICAgICAgY29uc3QgZ2Fpbl9hZGogPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYsIDcsIDkpIC8gMTAuMDtcbiAgICAgICAgaWYgKGdhaW5fdHlwZSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmLCAwLCAzKSxcbiAgICAgICAgICAgICAgICBvcmlnaW46IGNvbW1vbi5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiwgMywgMyksXG4gICAgICAgICAgICAgICAgYWRqdXN0bWVudDogKHNpZ24gPyAtZ2Fpbl9hZGogOiBnYWluX2FkailcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mpeg/ReplayGainDataFormat.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mpeg/XingTag.js":
/*!*********************************************************!*\
  !*** ./node_modules/music-metadata/lib/mpeg/XingTag.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.readXingHeader = exports.XingHeaderFlags = exports.LameEncoderVersion = exports.InfoTagHeaderTag = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst util = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst ExtendedLameHeader_1 = __webpack_require__(/*! ./ExtendedLameHeader */ \"(ssr)/./node_modules/music-metadata/lib/mpeg/ExtendedLameHeader.js\");\n/**\n * Info Tag: Xing, LAME\n */\nexports.InfoTagHeaderTag = new Token.StringType(4, 'ascii');\n/**\n * LAME TAG value\n * Did not find any official documentation for this\n * Value e.g.: \"3.98.4\"\n */\nexports.LameEncoderVersion = new Token.StringType(6, 'ascii');\n/**\n * Info Tag\n * Ref: http://gabriel.mp3-tech.org/mp3infotag.html\n */\nexports.XingHeaderFlags = {\n    len: 4,\n    get: (buf, off) => {\n        return {\n            frames: util.isBitSet(buf, off, 31),\n            bytes: util.isBitSet(buf, off, 30),\n            toc: util.isBitSet(buf, off, 29),\n            vbrScale: util.isBitSet(buf, off, 28)\n        };\n    }\n};\n// /**\n//  * XING Header Tag\n//  * Ref: http://gabriel.mp3-tech.org/mp3infotag.html\n//  */\nasync function readXingHeader(tokenizer) {\n    const flags = await tokenizer.readToken(exports.XingHeaderFlags);\n    const xingInfoTag = {};\n    if (flags.frames) {\n        xingInfoTag.numFrames = await tokenizer.readToken(Token.UINT32_BE);\n    }\n    if (flags.bytes) {\n        xingInfoTag.streamSize = await tokenizer.readToken(Token.UINT32_BE);\n    }\n    if (flags.toc) {\n        xingInfoTag.toc = Buffer.alloc(100);\n        await tokenizer.readBuffer(xingInfoTag.toc);\n    }\n    if (flags.vbrScale) {\n        xingInfoTag.vbrScale = await tokenizer.readToken(Token.UINT32_BE);\n    }\n    const lameTag = await tokenizer.peekToken(new Token.StringType(4, 'ascii'));\n    if (lameTag === 'LAME') {\n        await tokenizer.ignore(4);\n        xingInfoTag.lame = {\n            version: await tokenizer.readToken(new Token.StringType(5, 'ascii'))\n        };\n        const match = xingInfoTag.lame.version.match(/\\d+.\\d+/g);\n        if (match) {\n            const majorMinorVersion = xingInfoTag.lame.version.match(/\\d+.\\d+/g)[0]; // e.g. 3.97\n            const version = majorMinorVersion.split('.').map(n => parseInt(n, 10));\n            if (version[0] >= 3 && version[1] >= 90) {\n                xingInfoTag.lame.extended = await tokenizer.readToken(ExtendedLameHeader_1.ExtendedLameHeader);\n            }\n        }\n    }\n    return xingInfoTag;\n}\nexports.readXingHeader = readXingHeader;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wZWcvWGluZ1RhZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQkFBc0IsR0FBRyx1QkFBdUIsR0FBRywwQkFBMEIsR0FBRyx3QkFBd0I7QUFDeEcsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLGFBQWEsbUJBQU8sQ0FBQyw4RUFBZ0I7QUFDckMsNkJBQTZCLG1CQUFPLENBQUMsZ0dBQXNCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUY7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tcGVnL1hpbmdUYWcuanM/NzIyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVhZFhpbmdIZWFkZXIgPSBleHBvcnRzLlhpbmdIZWFkZXJGbGFncyA9IGV4cG9ydHMuTGFtZUVuY29kZXJWZXJzaW9uID0gZXhwb3J0cy5JbmZvVGFnSGVhZGVyVGFnID0gdm9pZCAwO1xuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcIi4uL2NvbW1vbi9VdGlsXCIpO1xuY29uc3QgRXh0ZW5kZWRMYW1lSGVhZGVyXzEgPSByZXF1aXJlKFwiLi9FeHRlbmRlZExhbWVIZWFkZXJcIik7XG4vKipcbiAqIEluZm8gVGFnOiBYaW5nLCBMQU1FXG4gKi9cbmV4cG9ydHMuSW5mb1RhZ0hlYWRlclRhZyA9IG5ldyBUb2tlbi5TdHJpbmdUeXBlKDQsICdhc2NpaScpO1xuLyoqXG4gKiBMQU1FIFRBRyB2YWx1ZVxuICogRGlkIG5vdCBmaW5kIGFueSBvZmZpY2lhbCBkb2N1bWVudGF0aW9uIGZvciB0aGlzXG4gKiBWYWx1ZSBlLmcuOiBcIjMuOTguNFwiXG4gKi9cbmV4cG9ydHMuTGFtZUVuY29kZXJWZXJzaW9uID0gbmV3IFRva2VuLlN0cmluZ1R5cGUoNiwgJ2FzY2lpJyk7XG4vKipcbiAqIEluZm8gVGFnXG4gKiBSZWY6IGh0dHA6Ly9nYWJyaWVsLm1wMy10ZWNoLm9yZy9tcDNpbmZvdGFnLmh0bWxcbiAqL1xuZXhwb3J0cy5YaW5nSGVhZGVyRmxhZ3MgPSB7XG4gICAgbGVuOiA0LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcmFtZXM6IHV0aWwuaXNCaXRTZXQoYnVmLCBvZmYsIDMxKSxcbiAgICAgICAgICAgIGJ5dGVzOiB1dGlsLmlzQml0U2V0KGJ1Ziwgb2ZmLCAzMCksXG4gICAgICAgICAgICB0b2M6IHV0aWwuaXNCaXRTZXQoYnVmLCBvZmYsIDI5KSxcbiAgICAgICAgICAgIHZiclNjYWxlOiB1dGlsLmlzQml0U2V0KGJ1Ziwgb2ZmLCAyOClcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLy8gLyoqXG4vLyAgKiBYSU5HIEhlYWRlciBUYWdcbi8vICAqIFJlZjogaHR0cDovL2dhYnJpZWwubXAzLXRlY2gub3JnL21wM2luZm90YWcuaHRtbFxuLy8gICovXG5hc3luYyBmdW5jdGlvbiByZWFkWGluZ0hlYWRlcih0b2tlbml6ZXIpIHtcbiAgICBjb25zdCBmbGFncyA9IGF3YWl0IHRva2VuaXplci5yZWFkVG9rZW4oZXhwb3J0cy5YaW5nSGVhZGVyRmxhZ3MpO1xuICAgIGNvbnN0IHhpbmdJbmZvVGFnID0ge307XG4gICAgaWYgKGZsYWdzLmZyYW1lcykge1xuICAgICAgICB4aW5nSW5mb1RhZy5udW1GcmFtZXMgPSBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQzMl9CRSk7XG4gICAgfVxuICAgIGlmIChmbGFncy5ieXRlcykge1xuICAgICAgICB4aW5nSW5mb1RhZy5zdHJlYW1TaXplID0gYXdhaXQgdG9rZW5pemVyLnJlYWRUb2tlbihUb2tlbi5VSU5UMzJfQkUpO1xuICAgIH1cbiAgICBpZiAoZmxhZ3MudG9jKSB7XG4gICAgICAgIHhpbmdJbmZvVGFnLnRvYyA9IEJ1ZmZlci5hbGxvYygxMDApO1xuICAgICAgICBhd2FpdCB0b2tlbml6ZXIucmVhZEJ1ZmZlcih4aW5nSW5mb1RhZy50b2MpO1xuICAgIH1cbiAgICBpZiAoZmxhZ3MudmJyU2NhbGUpIHtcbiAgICAgICAgeGluZ0luZm9UYWcudmJyU2NhbGUgPSBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQzMl9CRSk7XG4gICAgfVxuICAgIGNvbnN0IGxhbWVUYWcgPSBhd2FpdCB0b2tlbml6ZXIucGVla1Rva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKDQsICdhc2NpaScpKTtcbiAgICBpZiAobGFtZVRhZyA9PT0gJ0xBTUUnKSB7XG4gICAgICAgIGF3YWl0IHRva2VuaXplci5pZ25vcmUoNCk7XG4gICAgICAgIHhpbmdJbmZvVGFnLmxhbWUgPSB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKDUsICdhc2NpaScpKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXRjaCA9IHhpbmdJbmZvVGFnLmxhbWUudmVyc2lvbi5tYXRjaCgvXFxkKy5cXGQrL2cpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ham9yTWlub3JWZXJzaW9uID0geGluZ0luZm9UYWcubGFtZS52ZXJzaW9uLm1hdGNoKC9cXGQrLlxcZCsvZylbMF07IC8vIGUuZy4gMy45N1xuICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IG1ham9yTWlub3JWZXJzaW9uLnNwbGl0KCcuJykubWFwKG4gPT4gcGFyc2VJbnQobiwgMTApKTtcbiAgICAgICAgICAgIGlmICh2ZXJzaW9uWzBdID49IDMgJiYgdmVyc2lvblsxXSA+PSA5MCkge1xuICAgICAgICAgICAgICAgIHhpbmdJbmZvVGFnLmxhbWUuZXh0ZW5kZWQgPSBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKEV4dGVuZGVkTGFtZUhlYWRlcl8xLkV4dGVuZGVkTGFtZUhlYWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHhpbmdJbmZvVGFnO1xufVxuZXhwb3J0cy5yZWFkWGluZ0hlYWRlciA9IHJlYWRYaW5nSGVhZGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mpeg/XingTag.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/musepack/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/music-metadata/lib/musepack/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst AbstractID3Parser_1 = __webpack_require__(/*! ../id3v2/AbstractID3Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js\");\nconst MpcSv8Parser_1 = __webpack_require__(/*! ./sv8/MpcSv8Parser */ \"(ssr)/./node_modules/music-metadata/lib/musepack/sv8/MpcSv8Parser.js\");\nconst MpcSv7Parser_1 = __webpack_require__(/*! ./sv7/MpcSv7Parser */ \"(ssr)/./node_modules/music-metadata/lib/musepack/sv7/MpcSv7Parser.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:musepack');\nclass MusepackParser extends AbstractID3Parser_1.AbstractID3Parser {\n    async postId3v2Parse() {\n        const signature = await this.tokenizer.peekToken(new Token.StringType(3, 'binary'));\n        let mpcParser;\n        switch (signature) {\n            case 'MP+': {\n                debug('Musepack stream-version 7');\n                mpcParser = new MpcSv7Parser_1.MpcSv7Parser();\n                break;\n            }\n            case 'MPC': {\n                debug('Musepack stream-version 8');\n                mpcParser = new MpcSv8Parser_1.MpcSv8Parser();\n                break;\n            }\n            default: {\n                throw new Error('Invalid Musepack signature prefix');\n            }\n        }\n        mpcParser.init(this.metadata, this.tokenizer, this.options);\n        return mpcParser.parse();\n    }\n}\nexports[\"default\"] = MusepackParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLGNBQWMsbUJBQU8sQ0FBQyxrRUFBYTtBQUNuQyw0QkFBNEIsbUJBQU8sQ0FBQyxzR0FBNEI7QUFDaEUsdUJBQXVCLG1CQUFPLENBQUMsZ0dBQW9CO0FBQ25ELHVCQUF1QixtQkFBTyxDQUFDLGdHQUFvQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9pbmRleC5qcz9hYjk5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZGVidWdfMSA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY29uc3QgQWJzdHJhY3RJRDNQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi9pZDN2Mi9BYnN0cmFjdElEM1BhcnNlclwiKTtcbmNvbnN0IE1wY1N2OFBhcnNlcl8xID0gcmVxdWlyZShcIi4vc3Y4L01wY1N2OFBhcnNlclwiKTtcbmNvbnN0IE1wY1N2N1BhcnNlcl8xID0gcmVxdWlyZShcIi4vc3Y3L01wY1N2N1BhcnNlclwiKTtcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjptdXNlcGFjaycpO1xuY2xhc3MgTXVzZXBhY2tQYXJzZXIgZXh0ZW5kcyBBYnN0cmFjdElEM1BhcnNlcl8xLkFic3RyYWN0SUQzUGFyc2VyIHtcbiAgICBhc3luYyBwb3N0SWQzdjJQYXJzZSgpIHtcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucGVla1Rva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKDMsICdiaW5hcnknKSk7XG4gICAgICAgIGxldCBtcGNQYXJzZXI7XG4gICAgICAgIHN3aXRjaCAoc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICBjYXNlICdNUCsnOiB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ011c2VwYWNrIHN0cmVhbS12ZXJzaW9uIDcnKTtcbiAgICAgICAgICAgICAgICBtcGNQYXJzZXIgPSBuZXcgTXBjU3Y3UGFyc2VyXzEuTXBjU3Y3UGFyc2VyKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdNUEMnOiB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ011c2VwYWNrIHN0cmVhbS12ZXJzaW9uIDgnKTtcbiAgICAgICAgICAgICAgICBtcGNQYXJzZXIgPSBuZXcgTXBjU3Y4UGFyc2VyXzEuTXBjU3Y4UGFyc2VyKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIE11c2VwYWNrIHNpZ25hdHVyZSBwcmVmaXgnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtcGNQYXJzZXIuaW5pdCh0aGlzLm1ldGFkYXRhLCB0aGlzLnRva2VuaXplciwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG1wY1BhcnNlci5wYXJzZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IE11c2VwYWNrUGFyc2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/musepack/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/musepack/sv7/BitReader.js":
/*!*******************************************************************!*\
  !*** ./node_modules/music-metadata/lib/musepack/sv7/BitReader.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BitReader = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nclass BitReader {\n    constructor(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.pos = 0;\n        this.dword = undefined;\n    }\n    /**\n     *\n     * @param bits 1..30 bits\n     */\n    async read(bits) {\n        while (this.dword === undefined) {\n            this.dword = await this.tokenizer.readToken(Token.UINT32_LE);\n        }\n        let out = this.dword;\n        this.pos += bits;\n        if (this.pos < 32) {\n            out >>>= (32 - this.pos);\n            return out & ((1 << bits) - 1);\n        }\n        else {\n            this.pos -= 32;\n            if (this.pos === 0) {\n                this.dword = undefined;\n                return out & ((1 << bits) - 1);\n            }\n            else {\n                this.dword = await this.tokenizer.readToken(Token.UINT32_LE);\n                if (this.pos) {\n                    out <<= this.pos;\n                    out |= this.dword >>> (32 - this.pos);\n                }\n                return out & ((1 << bits) - 1);\n            }\n        }\n    }\n    async ignore(bits) {\n        if (this.pos > 0) {\n            const remaining = 32 - this.pos;\n            this.dword = undefined;\n            bits -= remaining;\n            this.pos = 0;\n        }\n        const remainder = bits % 32;\n        const numOfWords = (bits - remainder) / 32;\n        await this.tokenizer.ignore(numOfWords * 4);\n        return this.read(remainder);\n    }\n}\nexports.BitReader = BitReader;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2Ny9CaXRSZWFkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLGNBQWMsbUJBQU8sQ0FBQyxrRUFBYTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9zdjcvQml0UmVhZGVyLmpzP2NhOTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJpdFJlYWRlciA9IHZvaWQgMDtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY2xhc3MgQml0UmVhZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0b2tlbml6ZXIpIHtcbiAgICAgICAgdGhpcy50b2tlbml6ZXIgPSB0b2tlbml6ZXI7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy5kd29yZCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYml0cyAxLi4zMCBiaXRzXG4gICAgICovXG4gICAgYXN5bmMgcmVhZChiaXRzKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmR3b3JkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZHdvcmQgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oVG9rZW4uVUlOVDMyX0xFKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3V0ID0gdGhpcy5kd29yZDtcbiAgICAgICAgdGhpcy5wb3MgKz0gYml0cztcbiAgICAgICAgaWYgKHRoaXMucG9zIDwgMzIpIHtcbiAgICAgICAgICAgIG91dCA+Pj49ICgzMiAtIHRoaXMucG9zKTtcbiAgICAgICAgICAgIHJldHVybiBvdXQgJiAoKDEgPDwgYml0cykgLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9zIC09IDMyO1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kd29yZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0ICYgKCgxIDw8IGJpdHMpIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR3b3JkID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQzMl9MRSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dCA8PD0gdGhpcy5wb3M7XG4gICAgICAgICAgICAgICAgICAgIG91dCB8PSB0aGlzLmR3b3JkID4+PiAoMzIgLSB0aGlzLnBvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBvdXQgJiAoKDEgPDwgYml0cykgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBpZ25vcmUoYml0cykge1xuICAgICAgICBpZiAodGhpcy5wb3MgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmcgPSAzMiAtIHRoaXMucG9zO1xuICAgICAgICAgICAgdGhpcy5kd29yZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGJpdHMgLT0gcmVtYWluaW5nO1xuICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbWFpbmRlciA9IGJpdHMgJSAzMjtcbiAgICAgICAgY29uc3QgbnVtT2ZXb3JkcyA9IChiaXRzIC0gcmVtYWluZGVyKSAvIDMyO1xuICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUobnVtT2ZXb3JkcyAqIDQpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkKHJlbWFpbmRlcik7XG4gICAgfVxufVxuZXhwb3J0cy5CaXRSZWFkZXIgPSBCaXRSZWFkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/musepack/sv7/BitReader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/musepack/sv7/MpcSv7Parser.js":
/*!**********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/musepack/sv7/MpcSv7Parser.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MpcSv7Parser = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst APEv2Parser_1 = __webpack_require__(/*! ../../apev2/APEv2Parser */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\nconst BitReader_1 = __webpack_require__(/*! ./BitReader */ \"(ssr)/./node_modules/music-metadata/lib/musepack/sv7/BitReader.js\");\nconst SV7 = __webpack_require__(/*! ./StreamVersion7 */ \"(ssr)/./node_modules/music-metadata/lib/musepack/sv7/StreamVersion7.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:musepack');\nclass MpcSv7Parser extends BasicParser_1.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.audioLength = 0;\n    }\n    async parse() {\n        const header = await this.tokenizer.readToken(SV7.Header);\n        if (header.signature !== 'MP+')\n            throw new Error('Unexpected magic number');\n        debug(`stream-version=${header.streamMajorVersion}.${header.streamMinorVersion}`);\n        this.metadata.setFormat('container', 'Musepack, SV7');\n        this.metadata.setFormat('sampleRate', header.sampleFrequency);\n        const numberOfSamples = 1152 * (header.frameCount - 1) + header.lastFrameLength;\n        this.metadata.setFormat('numberOfSamples', numberOfSamples);\n        this.duration = numberOfSamples / header.sampleFrequency;\n        this.metadata.setFormat('duration', this.duration);\n        this.bitreader = new BitReader_1.BitReader(this.tokenizer);\n        this.metadata.setFormat('numberOfChannels', header.midSideStereo || header.intensityStereo ? 2 : 1);\n        const version = await this.bitreader.read(8);\n        this.metadata.setFormat('codec', (version / 100).toFixed(2));\n        await this.skipAudioData(header.frameCount);\n        debug(`End of audio stream, switching to APEv2, offset=${this.tokenizer.position}`);\n        return APEv2Parser_1.APEv2Parser.tryParseApeHeader(this.metadata, this.tokenizer, this.options);\n    }\n    async skipAudioData(frameCount) {\n        while (frameCount-- > 0) {\n            const frameLength = await this.bitreader.read(20);\n            this.audioLength += 20 + frameLength;\n            await this.bitreader.ignore(frameLength);\n        }\n        // last frame\n        const lastFrameLength = await this.bitreader.read(11);\n        this.audioLength += lastFrameLength;\n        this.metadata.setFormat('bitrate', this.audioLength / this.duration);\n    }\n}\nexports.MpcSv7Parser = MpcSv7Parser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2Ny9NcGNTdjdQYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLHNCQUFzQixtQkFBTyxDQUFDLCtGQUEwQjtBQUN4RCxzQkFBc0IsbUJBQU8sQ0FBQyw2RkFBeUI7QUFDdkQsb0JBQW9CLG1CQUFPLENBQUMsc0ZBQWE7QUFDekMsWUFBWSxtQkFBTyxDQUFDLGdHQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywwQkFBMEIsR0FBRywwQkFBMEI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSx3QkFBd0I7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9zdjcvTXBjU3Y3UGFyc2VyLmpzPzYwNGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1wY1N2N1BhcnNlciA9IHZvaWQgMDtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCBCYXNpY1BhcnNlcl8xID0gcmVxdWlyZShcIi4uLy4uL2NvbW1vbi9CYXNpY1BhcnNlclwiKTtcbmNvbnN0IEFQRXYyUGFyc2VyXzEgPSByZXF1aXJlKFwiLi4vLi4vYXBldjIvQVBFdjJQYXJzZXJcIik7XG5jb25zdCBCaXRSZWFkZXJfMSA9IHJlcXVpcmUoXCIuL0JpdFJlYWRlclwiKTtcbmNvbnN0IFNWNyA9IHJlcXVpcmUoXCIuL1N0cmVhbVZlcnNpb243XCIpO1xuY29uc3QgZGVidWcgPSAoMCwgZGVidWdfMS5kZWZhdWx0KSgnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOm11c2VwYWNrJyk7XG5jbGFzcyBNcGNTdjdQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlcl8xLkJhc2ljUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5hdWRpb0xlbmd0aCA9IDA7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlKCkge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oU1Y3LkhlYWRlcik7XG4gICAgICAgIGlmIChoZWFkZXIuc2lnbmF0dXJlICE9PSAnTVArJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBtYWdpYyBudW1iZXInKTtcbiAgICAgICAgZGVidWcoYHN0cmVhbS12ZXJzaW9uPSR7aGVhZGVyLnN0cmVhbU1ham9yVmVyc2lvbn0uJHtoZWFkZXIuc3RyZWFtTWlub3JWZXJzaW9ufWApO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29udGFpbmVyJywgJ011c2VwYWNrLCBTVjcnKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBoZWFkZXIuc2FtcGxlRnJlcXVlbmN5KTtcbiAgICAgICAgY29uc3QgbnVtYmVyT2ZTYW1wbGVzID0gMTE1MiAqIChoZWFkZXIuZnJhbWVDb3VudCAtIDEpICsgaGVhZGVyLmxhc3RGcmFtZUxlbmd0aDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mU2FtcGxlcycsIG51bWJlck9mU2FtcGxlcyk7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBudW1iZXJPZlNhbXBsZXMgLyBoZWFkZXIuc2FtcGxlRnJlcXVlbmN5O1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCB0aGlzLmR1cmF0aW9uKTtcbiAgICAgICAgdGhpcy5iaXRyZWFkZXIgPSBuZXcgQml0UmVhZGVyXzEuQml0UmVhZGVyKHRoaXMudG9rZW5pemVyKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mQ2hhbm5lbHMnLCBoZWFkZXIubWlkU2lkZVN0ZXJlbyB8fCBoZWFkZXIuaW50ZW5zaXR5U3RlcmVvID8gMiA6IDEpO1xuICAgICAgICBjb25zdCB2ZXJzaW9uID0gYXdhaXQgdGhpcy5iaXRyZWFkZXIucmVhZCg4KTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjJywgKHZlcnNpb24gLyAxMDApLnRvRml4ZWQoMikpO1xuICAgICAgICBhd2FpdCB0aGlzLnNraXBBdWRpb0RhdGEoaGVhZGVyLmZyYW1lQ291bnQpO1xuICAgICAgICBkZWJ1ZyhgRW5kIG9mIGF1ZGlvIHN0cmVhbSwgc3dpdGNoaW5nIHRvIEFQRXYyLCBvZmZzZXQ9JHt0aGlzLnRva2VuaXplci5wb3NpdGlvbn1gKTtcbiAgICAgICAgcmV0dXJuIEFQRXYyUGFyc2VyXzEuQVBFdjJQYXJzZXIudHJ5UGFyc2VBcGVIZWFkZXIodGhpcy5tZXRhZGF0YSwgdGhpcy50b2tlbml6ZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIHNraXBBdWRpb0RhdGEoZnJhbWVDb3VudCkge1xuICAgICAgICB3aGlsZSAoZnJhbWVDb3VudC0tID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZnJhbWVMZW5ndGggPSBhd2FpdCB0aGlzLmJpdHJlYWRlci5yZWFkKDIwKTtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9MZW5ndGggKz0gMjAgKyBmcmFtZUxlbmd0aDtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYml0cmVhZGVyLmlnbm9yZShmcmFtZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGFzdCBmcmFtZVxuICAgICAgICBjb25zdCBsYXN0RnJhbWVMZW5ndGggPSBhd2FpdCB0aGlzLmJpdHJlYWRlci5yZWFkKDExKTtcbiAgICAgICAgdGhpcy5hdWRpb0xlbmd0aCArPSBsYXN0RnJhbWVMZW5ndGg7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgdGhpcy5hdWRpb0xlbmd0aCAvIHRoaXMuZHVyYXRpb24pO1xuICAgIH1cbn1cbmV4cG9ydHMuTXBjU3Y3UGFyc2VyID0gTXBjU3Y3UGFyc2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/musepack/sv7/MpcSv7Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/musepack/sv7/StreamVersion7.js":
/*!************************************************************************!*\
  !*** ./node_modules/music-metadata/lib/musepack/sv7/StreamVersion7.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Header = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst util = __webpack_require__(/*! ../../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/**\n * BASIC STRUCTURE\n */\nexports.Header = {\n    len: 6 * 4,\n    get: (buf, off) => {\n        const header = {\n            // word 0\n            signature: Buffer.from(buf).toString('latin1', off, off + 3),\n            // versionIndex number * 1000 (3.81 = 3810) (remember that 4-byte alignment causes this to take 4-bytes)\n            streamMinorVersion: util.getBitAllignedNumber(buf, off + 3, 0, 4),\n            streamMajorVersion: util.getBitAllignedNumber(buf, off + 3, 4, 4),\n            // word 1\n            frameCount: Token.UINT32_LE.get(buf, off + 4),\n            // word 2\n            maxLevel: Token.UINT16_LE.get(buf, off + 8),\n            sampleFrequency: [44100, 48000, 37800, 32000][util.getBitAllignedNumber(buf, off + 10, 0, 2)],\n            link: util.getBitAllignedNumber(buf, off + 10, 2, 2),\n            profile: util.getBitAllignedNumber(buf, off + 10, 4, 4),\n            maxBand: util.getBitAllignedNumber(buf, off + 11, 0, 6),\n            intensityStereo: util.isBitSet(buf, off + 11, 6),\n            midSideStereo: util.isBitSet(buf, off + 11, 7),\n            // word 3\n            titlePeak: Token.UINT16_LE.get(buf, off + 12),\n            titleGain: Token.UINT16_LE.get(buf, off + 14),\n            // word 4\n            albumPeak: Token.UINT16_LE.get(buf, off + 16),\n            albumGain: Token.UINT16_LE.get(buf, off + 18),\n            // word\n            lastFrameLength: (Token.UINT32_LE.get(buf, off + 20) >>> 20) & 0x7FF,\n            trueGapless: util.isBitSet(buf, off + 23, 0)\n        };\n        header.lastFrameLength = header.trueGapless ? (Token.UINT32_LE.get(buf, 20) >>> 20) & 0x7FF : 0;\n        return header;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2Ny9TdHJlYW1WZXJzaW9uNy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjO0FBQ2QsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLGFBQWEsbUJBQU8sQ0FBQyxpRkFBbUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbXVzZXBhY2svc3Y3L1N0cmVhbVZlcnNpb243LmpzPzY2NTciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkhlYWRlciA9IHZvaWQgMDtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCIuLi8uLi9jb21tb24vVXRpbFwiKTtcbi8qKlxuICogQkFTSUMgU1RSVUNUVVJFXG4gKi9cbmV4cG9ydHMuSGVhZGVyID0ge1xuICAgIGxlbjogNiAqIDQsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0ge1xuICAgICAgICAgICAgLy8gd29yZCAwXG4gICAgICAgICAgICBzaWduYXR1cmU6IEJ1ZmZlci5mcm9tKGJ1ZikudG9TdHJpbmcoJ2xhdGluMScsIG9mZiwgb2ZmICsgMyksXG4gICAgICAgICAgICAvLyB2ZXJzaW9uSW5kZXggbnVtYmVyICogMTAwMCAoMy44MSA9IDM4MTApIChyZW1lbWJlciB0aGF0IDQtYnl0ZSBhbGlnbm1lbnQgY2F1c2VzIHRoaXMgdG8gdGFrZSA0LWJ5dGVzKVxuICAgICAgICAgICAgc3RyZWFtTWlub3JWZXJzaW9uOiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMywgMCwgNCksXG4gICAgICAgICAgICBzdHJlYW1NYWpvclZlcnNpb246IHV0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAzLCA0LCA0KSxcbiAgICAgICAgICAgIC8vIHdvcmQgMVxuICAgICAgICAgICAgZnJhbWVDb3VudDogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDQpLFxuICAgICAgICAgICAgLy8gd29yZCAyXG4gICAgICAgICAgICBtYXhMZXZlbDogVG9rZW4uVUlOVDE2X0xFLmdldChidWYsIG9mZiArIDgpLFxuICAgICAgICAgICAgc2FtcGxlRnJlcXVlbmN5OiBbNDQxMDAsIDQ4MDAwLCAzNzgwMCwgMzIwMDBdW3V0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAxMCwgMCwgMildLFxuICAgICAgICAgICAgbGluazogdXRpbC5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDEwLCAyLCAyKSxcbiAgICAgICAgICAgIHByb2ZpbGU6IHV0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAxMCwgNCwgNCksXG4gICAgICAgICAgICBtYXhCYW5kOiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMTEsIDAsIDYpLFxuICAgICAgICAgICAgaW50ZW5zaXR5U3RlcmVvOiB1dGlsLmlzQml0U2V0KGJ1Ziwgb2ZmICsgMTEsIDYpLFxuICAgICAgICAgICAgbWlkU2lkZVN0ZXJlbzogdXRpbC5pc0JpdFNldChidWYsIG9mZiArIDExLCA3KSxcbiAgICAgICAgICAgIC8vIHdvcmQgM1xuICAgICAgICAgICAgdGl0bGVQZWFrOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTIpLFxuICAgICAgICAgICAgdGl0bGVHYWluOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTQpLFxuICAgICAgICAgICAgLy8gd29yZCA0XG4gICAgICAgICAgICBhbGJ1bVBlYWs6IFRva2VuLlVJTlQxNl9MRS5nZXQoYnVmLCBvZmYgKyAxNiksXG4gICAgICAgICAgICBhbGJ1bUdhaW46IFRva2VuLlVJTlQxNl9MRS5nZXQoYnVmLCBvZmYgKyAxOCksXG4gICAgICAgICAgICAvLyB3b3JkXG4gICAgICAgICAgICBsYXN0RnJhbWVMZW5ndGg6IChUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMjApID4+PiAyMCkgJiAweDdGRixcbiAgICAgICAgICAgIHRydWVHYXBsZXNzOiB1dGlsLmlzQml0U2V0KGJ1Ziwgb2ZmICsgMjMsIDApXG4gICAgICAgIH07XG4gICAgICAgIGhlYWRlci5sYXN0RnJhbWVMZW5ndGggPSBoZWFkZXIudHJ1ZUdhcGxlc3MgPyAoVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIDIwKSA+Pj4gMjApICYgMHg3RkYgOiAwO1xuICAgICAgICByZXR1cm4gaGVhZGVyO1xuICAgIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/musepack/sv7/StreamVersion7.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/musepack/sv8/MpcSv8Parser.js":
/*!**********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/musepack/sv8/MpcSv8Parser.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MpcSv8Parser = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst APEv2Parser_1 = __webpack_require__(/*! ../../apev2/APEv2Parser */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\nconst FourCC_1 = __webpack_require__(/*! ../../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\nconst SV8 = __webpack_require__(/*! ./StreamVersion8 */ \"(ssr)/./node_modules/music-metadata/lib/musepack/sv8/StreamVersion8.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:musepack');\nclass MpcSv8Parser extends BasicParser_1.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.audioLength = 0;\n    }\n    async parse() {\n        const signature = await this.tokenizer.readToken(FourCC_1.FourCcToken);\n        if (signature !== 'MPCK')\n            throw new Error('Invalid Magic number');\n        this.metadata.setFormat('container', 'Musepack, SV8');\n        return this.parsePacket();\n    }\n    async parsePacket() {\n        const sv8reader = new SV8.StreamReader(this.tokenizer);\n        do {\n            const header = await sv8reader.readPacketHeader();\n            debug(`packet-header key=${header.key}, payloadLength=${header.payloadLength}`);\n            switch (header.key) {\n                case 'SH': // Stream Header\n                    const sh = await sv8reader.readStreamHeader(header.payloadLength);\n                    this.metadata.setFormat('numberOfSamples', sh.sampleCount);\n                    this.metadata.setFormat('sampleRate', sh.sampleFrequency);\n                    this.metadata.setFormat('duration', sh.sampleCount / sh.sampleFrequency);\n                    this.metadata.setFormat('numberOfChannels', sh.channelCount);\n                    break;\n                case 'AP': // Audio Packet\n                    this.audioLength += header.payloadLength;\n                    await this.tokenizer.ignore(header.payloadLength);\n                    break;\n                case 'RG': // Replaygain\n                case 'EI': // Encoder Info\n                case 'SO': // Seek Table Offset\n                case 'ST': // Seek Table\n                case 'CT': // Chapter-Tag\n                    await this.tokenizer.ignore(header.payloadLength);\n                    break;\n                case 'SE': // Stream End\n                    this.metadata.setFormat('bitrate', this.audioLength * 8 / this.metadata.format.duration);\n                    return APEv2Parser_1.APEv2Parser.tryParseApeHeader(this.metadata, this.tokenizer, this.options);\n                default:\n                    throw new Error(`Unexpected header: ${header.key}`);\n            }\n        } while (true);\n    }\n}\nexports.MpcSv8Parser = MpcSv8Parser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2OC9NcGNTdjhQYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLHNCQUFzQixtQkFBTyxDQUFDLCtGQUEwQjtBQUN4RCxzQkFBc0IsbUJBQU8sQ0FBQyw2RkFBeUI7QUFDdkQsaUJBQWlCLG1CQUFPLENBQUMscUZBQXFCO0FBQzlDLFlBQVksbUJBQU8sQ0FBQyxnR0FBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxXQUFXLGtCQUFrQixxQkFBcUI7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxXQUFXO0FBQ3JFO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxvQkFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbXVzZXBhY2svc3Y4L01wY1N2OFBhcnNlci5qcz81YWVjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5NcGNTdjhQYXJzZXIgPSB2b2lkIDA7XG5jb25zdCBkZWJ1Z18xID0gcmVxdWlyZShcImRlYnVnXCIpO1xuY29uc3QgQmFzaWNQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21tb24vQmFzaWNQYXJzZXJcIik7XG5jb25zdCBBUEV2MlBhcnNlcl8xID0gcmVxdWlyZShcIi4uLy4uL2FwZXYyL0FQRXYyUGFyc2VyXCIpO1xuY29uc3QgRm91ckNDXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tbW9uL0ZvdXJDQ1wiKTtcbmNvbnN0IFNWOCA9IHJlcXVpcmUoXCIuL1N0cmVhbVZlcnNpb244XCIpO1xuY29uc3QgZGVidWcgPSAoMCwgZGVidWdfMS5kZWZhdWx0KSgnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOm11c2VwYWNrJyk7XG5jbGFzcyBNcGNTdjhQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlcl8xLkJhc2ljUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5hdWRpb0xlbmd0aCA9IDA7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlKCkge1xuICAgICAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oRm91ckNDXzEuRm91ckNjVG9rZW4pO1xuICAgICAgICBpZiAoc2lnbmF0dXJlICE9PSAnTVBDSycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgTWFnaWMgbnVtYmVyJyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb250YWluZXInLCAnTXVzZXBhY2ssIFNWOCcpO1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVBhY2tldCgpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZVBhY2tldCgpIHtcbiAgICAgICAgY29uc3Qgc3Y4cmVhZGVyID0gbmV3IFNWOC5TdHJlYW1SZWFkZXIodGhpcy50b2tlbml6ZXIpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBhd2FpdCBzdjhyZWFkZXIucmVhZFBhY2tldEhlYWRlcigpO1xuICAgICAgICAgICAgZGVidWcoYHBhY2tldC1oZWFkZXIga2V5PSR7aGVhZGVyLmtleX0sIHBheWxvYWRMZW5ndGg9JHtoZWFkZXIucGF5bG9hZExlbmd0aH1gKTtcbiAgICAgICAgICAgIHN3aXRjaCAoaGVhZGVyLmtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ1NIJzogLy8gU3RyZWFtIEhlYWRlclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaCA9IGF3YWl0IHN2OHJlYWRlci5yZWFkU3RyZWFtSGVhZGVyKGhlYWRlci5wYXlsb2FkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mU2FtcGxlcycsIHNoLnNhbXBsZUNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBzaC5zYW1wbGVGcmVxdWVuY3kpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBzaC5zYW1wbGVDb3VudCAvIHNoLnNhbXBsZUZyZXF1ZW5jeSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgc2guY2hhbm5lbENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQVAnOiAvLyBBdWRpbyBQYWNrZXRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb0xlbmd0aCArPSBoZWFkZXIucGF5bG9hZExlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKGhlYWRlci5wYXlsb2FkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnUkcnOiAvLyBSZXBsYXlnYWluXG4gICAgICAgICAgICAgICAgY2FzZSAnRUknOiAvLyBFbmNvZGVyIEluZm9cbiAgICAgICAgICAgICAgICBjYXNlICdTTyc6IC8vIFNlZWsgVGFibGUgT2Zmc2V0XG4gICAgICAgICAgICAgICAgY2FzZSAnU1QnOiAvLyBTZWVrIFRhYmxlXG4gICAgICAgICAgICAgICAgY2FzZSAnQ1QnOiAvLyBDaGFwdGVyLVRhZ1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoaGVhZGVyLnBheWxvYWRMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdTRSc6IC8vIFN0cmVhbSBFbmRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCB0aGlzLmF1ZGlvTGVuZ3RoICogOCAvIHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFQRXYyUGFyc2VyXzEuQVBFdjJQYXJzZXIudHJ5UGFyc2VBcGVIZWFkZXIodGhpcy5tZXRhZGF0YSwgdGhpcy50b2tlbml6ZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGhlYWRlcjogJHtoZWFkZXIua2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICB9XG59XG5leHBvcnRzLk1wY1N2OFBhcnNlciA9IE1wY1N2OFBhcnNlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/musepack/sv8/MpcSv8Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/musepack/sv8/StreamVersion8.js":
/*!************************************************************************!*\
  !*** ./node_modules/music-metadata/lib/musepack/sv8/StreamVersion8.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StreamReader = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst util = __webpack_require__(/*! ../../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:musepack:sv8');\nconst PacketKey = new Token.StringType(2, 'binary');\n/**\n * Stream Header Packet part 1\n * Ref: http://trac.musepack.net/musepack/wiki/SV8Specification#StreamHeaderPacket\n */\nconst SH_part1 = {\n    len: 5,\n    get: (buf, off) => {\n        return {\n            crc: Token.UINT32_LE.get(buf, off),\n            streamVersion: Token.UINT8.get(buf, off + 4)\n        };\n    }\n};\n/**\n * Stream Header Packet part 3\n * Ref: http://trac.musepack.net/musepack/wiki/SV8Specification#StreamHeaderPacket\n */\nconst SH_part3 = {\n    len: 2,\n    get: (buf, off) => {\n        return {\n            sampleFrequency: [44100, 48000, 37800, 32000][util.getBitAllignedNumber(buf, off, 0, 3)],\n            maxUsedBands: util.getBitAllignedNumber(buf, off, 3, 5),\n            channelCount: util.getBitAllignedNumber(buf, off + 1, 0, 4) + 1,\n            msUsed: util.isBitSet(buf, off + 1, 4),\n            audioBlockFrames: util.getBitAllignedNumber(buf, off + 1, 5, 3)\n        };\n    }\n};\nclass StreamReader {\n    constructor(tokenizer) {\n        this.tokenizer = tokenizer;\n    }\n    async readPacketHeader() {\n        const key = await this.tokenizer.readToken(PacketKey);\n        const size = await this.readVariableSizeField();\n        return {\n            key,\n            payloadLength: size.value - 2 - size.len\n        };\n    }\n    async readStreamHeader(size) {\n        const streamHeader = {};\n        debug(`Reading SH at offset=${this.tokenizer.position}`);\n        const part1 = await this.tokenizer.readToken(SH_part1);\n        size -= SH_part1.len;\n        Object.assign(streamHeader, part1);\n        debug(`SH.streamVersion = ${part1.streamVersion}`);\n        const sampleCount = await this.readVariableSizeField();\n        size -= sampleCount.len;\n        streamHeader.sampleCount = sampleCount.value;\n        const bs = await this.readVariableSizeField();\n        size -= bs.len;\n        streamHeader.beginningOfSilence = bs.value;\n        const part3 = await this.tokenizer.readToken(SH_part3);\n        size -= SH_part3.len;\n        Object.assign(streamHeader, part3);\n        // assert.equal(size, 0);\n        await this.tokenizer.ignore(size);\n        return streamHeader;\n    }\n    async readVariableSizeField(len = 1, hb = 0) {\n        let n = await this.tokenizer.readNumber(Token.UINT8);\n        if ((n & 0x80) === 0) {\n            return { len, value: hb + n };\n        }\n        n &= 0x7F;\n        n += hb;\n        return this.readVariableSizeField(len + 1, n << 7);\n    }\n}\nexports.StreamReader = StreamReader;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2OC9TdHJlYW1WZXJzaW9uOC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0I7QUFDcEIsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLGFBQWEsbUJBQU8sQ0FBQyxpRkFBbUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHdCQUF3QjtBQUM5RDtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msb0JBQW9CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9zdjgvU3RyZWFtVmVyc2lvbjguanM/NTVlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3RyZWFtUmVhZGVyID0gdm9pZCAwO1xuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG5jb25zdCBkZWJ1Z18xID0gcmVxdWlyZShcImRlYnVnXCIpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCIuLi8uLi9jb21tb24vVXRpbFwiKTtcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjptdXNlcGFjazpzdjgnKTtcbmNvbnN0IFBhY2tldEtleSA9IG5ldyBUb2tlbi5TdHJpbmdUeXBlKDIsICdiaW5hcnknKTtcbi8qKlxuICogU3RyZWFtIEhlYWRlciBQYWNrZXQgcGFydCAxXG4gKiBSZWY6IGh0dHA6Ly90cmFjLm11c2VwYWNrLm5ldC9tdXNlcGFjay93aWtpL1NWOFNwZWNpZmljYXRpb24jU3RyZWFtSGVhZGVyUGFja2V0XG4gKi9cbmNvbnN0IFNIX3BhcnQxID0ge1xuICAgIGxlbjogNSxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3JjOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIHN0cmVhbVZlcnNpb246IFRva2VuLlVJTlQ4LmdldChidWYsIG9mZiArIDQpXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8qKlxuICogU3RyZWFtIEhlYWRlciBQYWNrZXQgcGFydCAzXG4gKiBSZWY6IGh0dHA6Ly90cmFjLm11c2VwYWNrLm5ldC9tdXNlcGFjay93aWtpL1NWOFNwZWNpZmljYXRpb24jU3RyZWFtSGVhZGVyUGFja2V0XG4gKi9cbmNvbnN0IFNIX3BhcnQzID0ge1xuICAgIGxlbjogMixcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2FtcGxlRnJlcXVlbmN5OiBbNDQxMDAsIDQ4MDAwLCAzNzgwMCwgMzIwMDBdW3V0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYsIDAsIDMpXSxcbiAgICAgICAgICAgIG1heFVzZWRCYW5kczogdXRpbC5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiwgMywgNSksXG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IHV0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAxLCAwLCA0KSArIDEsXG4gICAgICAgICAgICBtc1VzZWQ6IHV0aWwuaXNCaXRTZXQoYnVmLCBvZmYgKyAxLCA0KSxcbiAgICAgICAgICAgIGF1ZGlvQmxvY2tGcmFtZXM6IHV0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAxLCA1LCAzKVxuICAgICAgICB9O1xuICAgIH1cbn07XG5jbGFzcyBTdHJlYW1SZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKHRva2VuaXplcikge1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICB9XG4gICAgYXN5bmMgcmVhZFBhY2tldEhlYWRlcigpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFBhY2tldEtleSk7XG4gICAgICAgIGNvbnN0IHNpemUgPSBhd2FpdCB0aGlzLnJlYWRWYXJpYWJsZVNpemVGaWVsZCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgcGF5bG9hZExlbmd0aDogc2l6ZS52YWx1ZSAtIDIgLSBzaXplLmxlblxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyByZWFkU3RyZWFtSGVhZGVyKHNpemUpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtSGVhZGVyID0ge307XG4gICAgICAgIGRlYnVnKGBSZWFkaW5nIFNIIGF0IG9mZnNldD0ke3RoaXMudG9rZW5pemVyLnBvc2l0aW9ufWApO1xuICAgICAgICBjb25zdCBwYXJ0MSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihTSF9wYXJ0MSk7XG4gICAgICAgIHNpemUgLT0gU0hfcGFydDEubGVuO1xuICAgICAgICBPYmplY3QuYXNzaWduKHN0cmVhbUhlYWRlciwgcGFydDEpO1xuICAgICAgICBkZWJ1ZyhgU0guc3RyZWFtVmVyc2lvbiA9ICR7cGFydDEuc3RyZWFtVmVyc2lvbn1gKTtcbiAgICAgICAgY29uc3Qgc2FtcGxlQ291bnQgPSBhd2FpdCB0aGlzLnJlYWRWYXJpYWJsZVNpemVGaWVsZCgpO1xuICAgICAgICBzaXplIC09IHNhbXBsZUNvdW50LmxlbjtcbiAgICAgICAgc3RyZWFtSGVhZGVyLnNhbXBsZUNvdW50ID0gc2FtcGxlQ291bnQudmFsdWU7XG4gICAgICAgIGNvbnN0IGJzID0gYXdhaXQgdGhpcy5yZWFkVmFyaWFibGVTaXplRmllbGQoKTtcbiAgICAgICAgc2l6ZSAtPSBicy5sZW47XG4gICAgICAgIHN0cmVhbUhlYWRlci5iZWdpbm5pbmdPZlNpbGVuY2UgPSBicy52YWx1ZTtcbiAgICAgICAgY29uc3QgcGFydDMgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oU0hfcGFydDMpO1xuICAgICAgICBzaXplIC09IFNIX3BhcnQzLmxlbjtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzdHJlYW1IZWFkZXIsIHBhcnQzKTtcbiAgICAgICAgLy8gYXNzZXJ0LmVxdWFsKHNpemUsIDApO1xuICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoc2l6ZSk7XG4gICAgICAgIHJldHVybiBzdHJlYW1IZWFkZXI7XG4gICAgfVxuICAgIGFzeW5jIHJlYWRWYXJpYWJsZVNpemVGaWVsZChsZW4gPSAxLCBoYiA9IDApIHtcbiAgICAgICAgbGV0IG4gPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkTnVtYmVyKFRva2VuLlVJTlQ4KTtcbiAgICAgICAgaWYgKChuICYgMHg4MCkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7IGxlbiwgdmFsdWU6IGhiICsgbiB9O1xuICAgICAgICB9XG4gICAgICAgIG4gJj0gMHg3RjtcbiAgICAgICAgbiArPSBoYjtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZFZhcmlhYmxlU2l6ZUZpZWxkKGxlbiArIDEsIG4gPDwgNyk7XG4gICAgfVxufVxuZXhwb3J0cy5TdHJlYW1SZWFkZXIgPSBTdHJlYW1SZWFkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/musepack/sv8/StreamVersion8.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/OggParser.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/OggParser.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.OggParser = exports.SegmentTable = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst core_1 = __webpack_require__(/*! strtok3/lib/core */ \"(ssr)/./node_modules/strtok3/lib/core.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst util = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst VorbisParser_1 = __webpack_require__(/*! ./vorbis/VorbisParser */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js\");\nconst OpusParser_1 = __webpack_require__(/*! ./opus/OpusParser */ \"(ssr)/./node_modules/music-metadata/lib/ogg/opus/OpusParser.js\");\nconst SpeexParser_1 = __webpack_require__(/*! ./speex/SpeexParser */ \"(ssr)/./node_modules/music-metadata/lib/ogg/speex/SpeexParser.js\");\nconst TheoraParser_1 = __webpack_require__(/*! ./theora/TheoraParser */ \"(ssr)/./node_modules/music-metadata/lib/ogg/theora/TheoraParser.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:ogg');\nclass SegmentTable {\n    static sum(buf, off, len) {\n        let s = 0;\n        for (let i = off; i < off + len; ++i) {\n            s += buf[i];\n        }\n        return s;\n    }\n    constructor(header) {\n        this.len = header.page_segments;\n    }\n    get(buf, off) {\n        return {\n            totalPageSize: SegmentTable.sum(buf, off, this.len)\n        };\n    }\n}\nexports.SegmentTable = SegmentTable;\n/**\n * Parser for Ogg logical bitstream framing\n */\nclass OggParser extends BasicParser_1.BasicParser {\n    /**\n     * Parse page\n     * @returns {Promise<void>}\n     */\n    async parse() {\n        debug('pos=%s, parsePage()', this.tokenizer.position);\n        try {\n            let header;\n            do {\n                header = await this.tokenizer.readToken(OggParser.Header);\n                if (header.capturePattern !== 'OggS')\n                    throw new Error('Invalid Ogg capture pattern');\n                this.metadata.setFormat('container', 'Ogg');\n                this.header = header;\n                this.pageNumber = header.pageSequenceNo;\n                debug('page#=%s, Ogg.id=%s', header.pageSequenceNo, header.capturePattern);\n                const segmentTable = await this.tokenizer.readToken(new SegmentTable(header));\n                debug('totalPageSize=%s', segmentTable.totalPageSize);\n                const pageData = await this.tokenizer.readToken(new Token.Uint8ArrayType(segmentTable.totalPageSize));\n                debug('firstPage=%s, lastPage=%s, continued=%s', header.headerType.firstPage, header.headerType.lastPage, header.headerType.continued);\n                if (header.headerType.firstPage) {\n                    const id = new Token.StringType(7, 'ascii').get(Buffer.from(pageData), 0);\n                    switch (id) {\n                        case '\\x01vorbis': // Ogg/Vorbis\n                            debug('Set page consumer to Ogg/Vorbis');\n                            this.pageConsumer = new VorbisParser_1.VorbisParser(this.metadata, this.options);\n                            break;\n                        case 'OpusHea': // Ogg/Opus\n                            debug('Set page consumer to Ogg/Opus');\n                            this.pageConsumer = new OpusParser_1.OpusParser(this.metadata, this.options, this.tokenizer);\n                            break;\n                        case 'Speex  ': // Ogg/Speex\n                            debug('Set page consumer to Ogg/Speex');\n                            this.pageConsumer = new SpeexParser_1.SpeexParser(this.metadata, this.options, this.tokenizer);\n                            break;\n                        case 'fishead':\n                        case '\\x00theora': // Ogg/Theora\n                            debug('Set page consumer to Ogg/Theora');\n                            this.pageConsumer = new TheoraParser_1.TheoraParser(this.metadata, this.options, this.tokenizer);\n                            break;\n                        default:\n                            throw new Error('gg audio-codec not recognized (id=' + id + ')');\n                    }\n                }\n                this.pageConsumer.parsePage(header, pageData);\n            } while (!header.headerType.lastPage);\n        }\n        catch (err) {\n            if (err instanceof core_1.EndOfStreamError) {\n                this.metadata.addWarning('Last OGG-page is not marked with last-page flag');\n                debug(`End-of-stream`);\n                this.metadata.addWarning('Last OGG-page is not marked with last-page flag');\n                if (this.header) {\n                    this.pageConsumer.calculateDuration(this.header);\n                }\n            }\n            else if (err.message.startsWith('FourCC')) {\n                if (this.pageNumber > 0) {\n                    // ignore this error: work-around if last OGG-page is not marked with last-page flag\n                    this.metadata.addWarning('Invalid FourCC ID, maybe last OGG-page is not marked with last-page flag');\n                    this.pageConsumer.flush();\n                }\n            }\n            else {\n                throw err;\n            }\n        }\n    }\n}\nOggParser.Header = {\n    len: 27,\n    get: (buf, off) => {\n        return {\n            capturePattern: FourCC_1.FourCcToken.get(buf, off),\n            version: Token.UINT8.get(buf, off + 4),\n            headerType: {\n                continued: util.getBit(buf, off + 5, 0),\n                firstPage: util.getBit(buf, off + 5, 1),\n                lastPage: util.getBit(buf, off + 5, 2)\n            },\n            // packet_flag: buf.readUInt8(off + 5),\n            absoluteGranulePosition: Number(Token.UINT64_LE.get(buf, off + 6)),\n            streamSerialNumber: Token.UINT32_LE.get(buf, off + 14),\n            pageSequenceNo: Token.UINT32_LE.get(buf, off + 18),\n            pageChecksum: Token.UINT32_LE.get(buf, off + 22),\n            page_segments: Token.UINT8.get(buf, off + 26)\n        };\n    }\n};\nexports.OggParser = OggParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9PZ2dQYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLEdBQUcsb0JBQW9CO0FBQ3hDLGNBQWMsbUJBQU8sQ0FBQyxrRUFBYTtBQUNuQyxlQUFlLG1CQUFPLENBQUMsa0VBQWtCO0FBQ3pDLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLGFBQWEsbUJBQU8sQ0FBQyw4RUFBZ0I7QUFDckMsaUJBQWlCLG1CQUFPLENBQUMsa0ZBQWtCO0FBQzNDLHNCQUFzQixtQkFBTyxDQUFDLDRGQUF1QjtBQUNyRCx1QkFBdUIsbUJBQU8sQ0FBQyxpR0FBdUI7QUFDdEQscUJBQXFCLG1CQUFPLENBQUMseUZBQW1CO0FBQ2hELHNCQUFzQixtQkFBTyxDQUFDLDZGQUFxQjtBQUNuRCx1QkFBdUIsbUJBQU8sQ0FBQyxpR0FBdUI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZUFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvb2dnL09nZ1BhcnNlci5qcz8yZTY1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PZ2dQYXJzZXIgPSBleHBvcnRzLlNlZ21lbnRUYWJsZSA9IHZvaWQgMDtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY29uc3QgY29yZV8xID0gcmVxdWlyZShcInN0cnRvazMvbGliL2NvcmVcIik7XG5jb25zdCBkZWJ1Z18xID0gcmVxdWlyZShcImRlYnVnXCIpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCIuLi9jb21tb24vVXRpbFwiKTtcbmNvbnN0IEZvdXJDQ18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9Gb3VyQ0NcIik7XG5jb25zdCBCYXNpY1BhcnNlcl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9CYXNpY1BhcnNlclwiKTtcbmNvbnN0IFZvcmJpc1BhcnNlcl8xID0gcmVxdWlyZShcIi4vdm9yYmlzL1ZvcmJpc1BhcnNlclwiKTtcbmNvbnN0IE9wdXNQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL29wdXMvT3B1c1BhcnNlclwiKTtcbmNvbnN0IFNwZWV4UGFyc2VyXzEgPSByZXF1aXJlKFwiLi9zcGVleC9TcGVleFBhcnNlclwiKTtcbmNvbnN0IFRoZW9yYVBhcnNlcl8xID0gcmVxdWlyZShcIi4vdGhlb3JhL1RoZW9yYVBhcnNlclwiKTtcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjpvZ2cnKTtcbmNsYXNzIFNlZ21lbnRUYWJsZSB7XG4gICAgc3RhdGljIHN1bShidWYsIG9mZiwgbGVuKSB7XG4gICAgICAgIGxldCBzID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IG9mZjsgaSA8IG9mZiArIGxlbjsgKytpKSB7XG4gICAgICAgICAgICBzICs9IGJ1ZltpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaGVhZGVyKSB7XG4gICAgICAgIHRoaXMubGVuID0gaGVhZGVyLnBhZ2Vfc2VnbWVudHM7XG4gICAgfVxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG90YWxQYWdlU2l6ZTogU2VnbWVudFRhYmxlLnN1bShidWYsIG9mZiwgdGhpcy5sZW4pXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5TZWdtZW50VGFibGUgPSBTZWdtZW50VGFibGU7XG4vKipcbiAqIFBhcnNlciBmb3IgT2dnIGxvZ2ljYWwgYml0c3RyZWFtIGZyYW1pbmdcbiAqL1xuY2xhc3MgT2dnUGFyc2VyIGV4dGVuZHMgQmFzaWNQYXJzZXJfMS5CYXNpY1BhcnNlciB7XG4gICAgLyoqXG4gICAgICogUGFyc2UgcGFnZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIGFzeW5jIHBhcnNlKCkge1xuICAgICAgICBkZWJ1ZygncG9zPSVzLCBwYXJzZVBhZ2UoKScsIHRoaXMudG9rZW5pemVyLnBvc2l0aW9uKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBoZWFkZXI7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKE9nZ1BhcnNlci5IZWFkZXIpO1xuICAgICAgICAgICAgICAgIGlmIChoZWFkZXIuY2FwdHVyZVBhdHRlcm4gIT09ICdPZ2dTJylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIE9nZyBjYXB0dXJlIHBhdHRlcm4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29udGFpbmVyJywgJ09nZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyID0gaGVhZGVyO1xuICAgICAgICAgICAgICAgIHRoaXMucGFnZU51bWJlciA9IGhlYWRlci5wYWdlU2VxdWVuY2VObztcbiAgICAgICAgICAgICAgICBkZWJ1ZygncGFnZSM9JXMsIE9nZy5pZD0lcycsIGhlYWRlci5wYWdlU2VxdWVuY2VObywgaGVhZGVyLmNhcHR1cmVQYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50VGFibGUgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFNlZ21lbnRUYWJsZShoZWFkZXIpKTtcbiAgICAgICAgICAgICAgICBkZWJ1ZygndG90YWxQYWdlU2l6ZT0lcycsIHNlZ21lbnRUYWJsZS50b3RhbFBhZ2VTaXplKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWdlRGF0YSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVG9rZW4uVWludDhBcnJheVR5cGUoc2VnbWVudFRhYmxlLnRvdGFsUGFnZVNpemUpKTtcbiAgICAgICAgICAgICAgICBkZWJ1ZygnZmlyc3RQYWdlPSVzLCBsYXN0UGFnZT0lcywgY29udGludWVkPSVzJywgaGVhZGVyLmhlYWRlclR5cGUuZmlyc3RQYWdlLCBoZWFkZXIuaGVhZGVyVHlwZS5sYXN0UGFnZSwgaGVhZGVyLmhlYWRlclR5cGUuY29udGludWVkKTtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVyLmhlYWRlclR5cGUuZmlyc3RQYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gbmV3IFRva2VuLlN0cmluZ1R5cGUoNywgJ2FzY2lpJykuZ2V0KEJ1ZmZlci5mcm9tKHBhZ2VEYXRhKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xceDAxdm9yYmlzJzogLy8gT2dnL1ZvcmJpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCdTZXQgcGFnZSBjb25zdW1lciB0byBPZ2cvVm9yYmlzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlQ29uc3VtZXIgPSBuZXcgVm9yYmlzUGFyc2VyXzEuVm9yYmlzUGFyc2VyKHRoaXMubWV0YWRhdGEsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdPcHVzSGVhJzogLy8gT2dnL09wdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnU2V0IHBhZ2UgY29uc3VtZXIgdG8gT2dnL09wdXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VDb25zdW1lciA9IG5ldyBPcHVzUGFyc2VyXzEuT3B1c1BhcnNlcih0aGlzLm1ldGFkYXRhLCB0aGlzLm9wdGlvbnMsIHRoaXMudG9rZW5pemVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NwZWV4ICAnOiAvLyBPZ2cvU3BlZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnU2V0IHBhZ2UgY29uc3VtZXIgdG8gT2dnL1NwZWV4Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlQ29uc3VtZXIgPSBuZXcgU3BlZXhQYXJzZXJfMS5TcGVleFBhcnNlcih0aGlzLm1ldGFkYXRhLCB0aGlzLm9wdGlvbnMsIHRoaXMudG9rZW5pemVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Zpc2hlYWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXFx4MDB0aGVvcmEnOiAvLyBPZ2cvVGhlb3JhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoJ1NldCBwYWdlIGNvbnN1bWVyIHRvIE9nZy9UaGVvcmEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VDb25zdW1lciA9IG5ldyBUaGVvcmFQYXJzZXJfMS5UaGVvcmFQYXJzZXIodGhpcy5tZXRhZGF0YSwgdGhpcy5vcHRpb25zLCB0aGlzLnRva2VuaXplcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2cgYXVkaW8tY29kZWMgbm90IHJlY29nbml6ZWQgKGlkPScgKyBpZCArICcpJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlQ29uc3VtZXIucGFyc2VQYWdlKGhlYWRlciwgcGFnZURhdGEpO1xuICAgICAgICAgICAgfSB3aGlsZSAoIWhlYWRlci5oZWFkZXJUeXBlLmxhc3RQYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgY29yZV8xLkVuZE9mU3RyZWFtRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoJ0xhc3QgT0dHLXBhZ2UgaXMgbm90IG1hcmtlZCB3aXRoIGxhc3QtcGFnZSBmbGFnJyk7XG4gICAgICAgICAgICAgICAgZGVidWcoYEVuZC1vZi1zdHJlYW1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoJ0xhc3QgT0dHLXBhZ2UgaXMgbm90IG1hcmtlZCB3aXRoIGxhc3QtcGFnZSBmbGFnJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZUNvbnN1bWVyLmNhbGN1bGF0ZUR1cmF0aW9uKHRoaXMuaGVhZGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlcnIubWVzc2FnZS5zdGFydHNXaXRoKCdGb3VyQ0MnKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VOdW1iZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSB0aGlzIGVycm9yOiB3b3JrLWFyb3VuZCBpZiBsYXN0IE9HRy1wYWdlIGlzIG5vdCBtYXJrZWQgd2l0aCBsYXN0LXBhZ2UgZmxhZ1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoJ0ludmFsaWQgRm91ckNDIElELCBtYXliZSBsYXN0IE9HRy1wYWdlIGlzIG5vdCBtYXJrZWQgd2l0aCBsYXN0LXBhZ2UgZmxhZycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VDb25zdW1lci5mbHVzaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbk9nZ1BhcnNlci5IZWFkZXIgPSB7XG4gICAgbGVuOiAyNyxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FwdHVyZVBhdHRlcm46IEZvdXJDQ18xLkZvdXJDY1Rva2VuLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYgKyA0KSxcbiAgICAgICAgICAgIGhlYWRlclR5cGU6IHtcbiAgICAgICAgICAgICAgICBjb250aW51ZWQ6IHV0aWwuZ2V0Qml0KGJ1Ziwgb2ZmICsgNSwgMCksXG4gICAgICAgICAgICAgICAgZmlyc3RQYWdlOiB1dGlsLmdldEJpdChidWYsIG9mZiArIDUsIDEpLFxuICAgICAgICAgICAgICAgIGxhc3RQYWdlOiB1dGlsLmdldEJpdChidWYsIG9mZiArIDUsIDIpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcGFja2V0X2ZsYWc6IGJ1Zi5yZWFkVUludDgob2ZmICsgNSksXG4gICAgICAgICAgICBhYnNvbHV0ZUdyYW51bGVQb3NpdGlvbjogTnVtYmVyKFRva2VuLlVJTlQ2NF9MRS5nZXQoYnVmLCBvZmYgKyA2KSksXG4gICAgICAgICAgICBzdHJlYW1TZXJpYWxOdW1iZXI6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAxNCksXG4gICAgICAgICAgICBwYWdlU2VxdWVuY2VObzogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDE4KSxcbiAgICAgICAgICAgIHBhZ2VDaGVja3N1bTogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDIyKSxcbiAgICAgICAgICAgIHBhZ2Vfc2VnbWVudHM6IFRva2VuLlVJTlQ4LmdldChidWYsIG9mZiArIDI2KVxuICAgICAgICB9O1xuICAgIH1cbn07XG5leHBvcnRzLk9nZ1BhcnNlciA9IE9nZ1BhcnNlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/OggParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/opus/Opus.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/opus/Opus.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IdHeader = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/**\n * Opus ID Header parser\n * Ref: https://wiki.xiph.org/OggOpus#ID_Header\n */\nclass IdHeader {\n    constructor(len) {\n        this.len = len;\n        if (len < 19) {\n            throw new Error(\"ID-header-page 0 should be at least 19 bytes long\");\n        }\n    }\n    get(buf, off) {\n        return {\n            magicSignature: new Token.StringType(8, 'ascii').get(buf, off + 0),\n            version: buf.readUInt8(off + 8),\n            channelCount: buf.readUInt8(off + 9),\n            preSkip: buf.readInt16LE(off + 10),\n            inputSampleRate: buf.readInt32LE(off + 12),\n            outputGain: buf.readInt16LE(off + 16),\n            channelMapping: buf.readUInt8(off + 18)\n        };\n    }\n}\nexports.IdHeader = IdHeader;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9vcHVzL09wdXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCO0FBQ2hCLGNBQWMsbUJBQU8sQ0FBQyxrRUFBYTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9vcHVzL09wdXMuanM/NjY4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSWRIZWFkZXIgPSB2b2lkIDA7XG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoXCJ0b2tlbi10eXBlc1wiKTtcbi8qKlxuICogT3B1cyBJRCBIZWFkZXIgcGFyc2VyXG4gKiBSZWY6IGh0dHBzOi8vd2lraS54aXBoLm9yZy9PZ2dPcHVzI0lEX0hlYWRlclxuICovXG5jbGFzcyBJZEhlYWRlciB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgICAgICBpZiAobGVuIDwgMTkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklELWhlYWRlci1wYWdlIDAgc2hvdWxkIGJlIGF0IGxlYXN0IDE5IGJ5dGVzIGxvbmdcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYWdpY1NpZ25hdHVyZTogbmV3IFRva2VuLlN0cmluZ1R5cGUoOCwgJ2FzY2lpJykuZ2V0KGJ1Ziwgb2ZmICsgMCksXG4gICAgICAgICAgICB2ZXJzaW9uOiBidWYucmVhZFVJbnQ4KG9mZiArIDgpLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50OiBidWYucmVhZFVJbnQ4KG9mZiArIDkpLFxuICAgICAgICAgICAgcHJlU2tpcDogYnVmLnJlYWRJbnQxNkxFKG9mZiArIDEwKSxcbiAgICAgICAgICAgIGlucHV0U2FtcGxlUmF0ZTogYnVmLnJlYWRJbnQzMkxFKG9mZiArIDEyKSxcbiAgICAgICAgICAgIG91dHB1dEdhaW46IGJ1Zi5yZWFkSW50MTZMRShvZmYgKyAxNiksXG4gICAgICAgICAgICBjaGFubmVsTWFwcGluZzogYnVmLnJlYWRVSW50OChvZmYgKyAxOClcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLklkSGVhZGVyID0gSWRIZWFkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/opus/Opus.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/opus/OpusParser.js":
/*!****************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/opus/OpusParser.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.OpusParser = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst VorbisParser_1 = __webpack_require__(/*! ../vorbis/VorbisParser */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js\");\nconst Opus = __webpack_require__(/*! ./Opus */ \"(ssr)/./node_modules/music-metadata/lib/ogg/opus/Opus.js\");\n/**\n * Opus parser\n * Internet Engineering Task Force (IETF) - RFC 6716\n * Used by OggParser\n */\nclass OpusParser extends VorbisParser_1.VorbisParser {\n    constructor(metadata, options, tokenizer) {\n        super(metadata, options);\n        this.tokenizer = tokenizer;\n        this.lastPos = -1;\n    }\n    /**\n     * Parse first Opus Ogg page\n     * @param {IPageHeader} header\n     * @param {Buffer} pageData\n     */\n    parseFirstPage(header, pageData) {\n        this.metadata.setFormat('codec', 'Opus');\n        // Parse Opus ID Header\n        this.idHeader = new Opus.IdHeader(pageData.length).get(pageData, 0);\n        if (this.idHeader.magicSignature !== \"OpusHead\")\n            throw new Error(\"Illegal ogg/Opus magic-signature\");\n        this.metadata.setFormat('sampleRate', this.idHeader.inputSampleRate);\n        this.metadata.setFormat('numberOfChannels', this.idHeader.channelCount);\n    }\n    parseFullPage(pageData) {\n        const magicSignature = new Token.StringType(8, 'ascii').get(pageData, 0);\n        switch (magicSignature) {\n            case 'OpusTags':\n                this.parseUserCommentList(pageData, 8);\n                this.lastPos = this.tokenizer.position - pageData.length;\n                break;\n            default:\n                break;\n        }\n    }\n    calculateDuration(header) {\n        if (this.metadata.format.sampleRate && header.absoluteGranulePosition >= 0) {\n            // Calculate duration\n            const pos_48bit = header.absoluteGranulePosition - this.idHeader.preSkip;\n            this.metadata.setFormat('numberOfSamples', pos_48bit);\n            this.metadata.setFormat('duration', pos_48bit / 48000);\n            if (this.lastPos !== -1 && this.tokenizer.fileInfo.size && this.metadata.format.duration) {\n                const dataSize = this.tokenizer.fileInfo.size - this.lastPos;\n                this.metadata.setFormat('bitrate', 8 * dataSize / this.metadata.format.duration);\n            }\n        }\n    }\n}\nexports.OpusParser = OpusParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9vcHVzL09wdXNQYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCO0FBQ2xCLGNBQWMsbUJBQU8sQ0FBQyxrRUFBYTtBQUNuQyx1QkFBdUIsbUJBQU8sQ0FBQyxrR0FBd0I7QUFDdkQsYUFBYSxtQkFBTyxDQUFDLHdFQUFRO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxhQUFhO0FBQzVCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9vZ2cvb3B1cy9PcHVzUGFyc2VyLmpzPzkxODIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk9wdXNQYXJzZXIgPSB2b2lkIDA7XG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoXCJ0b2tlbi10eXBlc1wiKTtcbmNvbnN0IFZvcmJpc1BhcnNlcl8xID0gcmVxdWlyZShcIi4uL3ZvcmJpcy9Wb3JiaXNQYXJzZXJcIik7XG5jb25zdCBPcHVzID0gcmVxdWlyZShcIi4vT3B1c1wiKTtcbi8qKlxuICogT3B1cyBwYXJzZXJcbiAqIEludGVybmV0IEVuZ2luZWVyaW5nIFRhc2sgRm9yY2UgKElFVEYpIC0gUkZDIDY3MTZcbiAqIFVzZWQgYnkgT2dnUGFyc2VyXG4gKi9cbmNsYXNzIE9wdXNQYXJzZXIgZXh0ZW5kcyBWb3JiaXNQYXJzZXJfMS5Wb3JiaXNQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKG1ldGFkYXRhLCBvcHRpb25zLCB0b2tlbml6ZXIpIHtcbiAgICAgICAgc3VwZXIobWV0YWRhdGEsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICAgICAgdGhpcy5sYXN0UG9zID0gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlIGZpcnN0IE9wdXMgT2dnIHBhZ2VcbiAgICAgKiBAcGFyYW0ge0lQYWdlSGVhZGVyfSBoZWFkZXJcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gcGFnZURhdGFcbiAgICAgKi9cbiAgICBwYXJzZUZpcnN0UGFnZShoZWFkZXIsIHBhZ2VEYXRhKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb2RlYycsICdPcHVzJyk7XG4gICAgICAgIC8vIFBhcnNlIE9wdXMgSUQgSGVhZGVyXG4gICAgICAgIHRoaXMuaWRIZWFkZXIgPSBuZXcgT3B1cy5JZEhlYWRlcihwYWdlRGF0YS5sZW5ndGgpLmdldChwYWdlRGF0YSwgMCk7XG4gICAgICAgIGlmICh0aGlzLmlkSGVhZGVyLm1hZ2ljU2lnbmF0dXJlICE9PSBcIk9wdXNIZWFkXCIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIG9nZy9PcHVzIG1hZ2ljLXNpZ25hdHVyZVwiKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCB0aGlzLmlkSGVhZGVyLmlucHV0U2FtcGxlUmF0ZSk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgdGhpcy5pZEhlYWRlci5jaGFubmVsQ291bnQpO1xuICAgIH1cbiAgICBwYXJzZUZ1bGxQYWdlKHBhZ2VEYXRhKSB7XG4gICAgICAgIGNvbnN0IG1hZ2ljU2lnbmF0dXJlID0gbmV3IFRva2VuLlN0cmluZ1R5cGUoOCwgJ2FzY2lpJykuZ2V0KHBhZ2VEYXRhLCAwKTtcbiAgICAgICAgc3dpdGNoIChtYWdpY1NpZ25hdHVyZSkge1xuICAgICAgICAgICAgY2FzZSAnT3B1c1RhZ3MnOlxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2VVc2VyQ29tbWVudExpc3QocGFnZURhdGEsIDgpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFBvcyA9IHRoaXMudG9rZW5pemVyLnBvc2l0aW9uIC0gcGFnZURhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxjdWxhdGVEdXJhdGlvbihoZWFkZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuZm9ybWF0LnNhbXBsZVJhdGUgJiYgaGVhZGVyLmFic29sdXRlR3JhbnVsZVBvc2l0aW9uID49IDApIHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBkdXJhdGlvblxuICAgICAgICAgICAgY29uc3QgcG9zXzQ4Yml0ID0gaGVhZGVyLmFic29sdXRlR3JhbnVsZVBvc2l0aW9uIC0gdGhpcy5pZEhlYWRlci5wcmVTa2lwO1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mU2FtcGxlcycsIHBvc180OGJpdCk7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBwb3NfNDhiaXQgLyA0ODAwMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0UG9zICE9PSAtMSAmJiB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplICYmIHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YVNpemUgPSB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIC0gdGhpcy5sYXN0UG9zO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgOCAqIGRhdGFTaXplIC8gdGhpcy5tZXRhZGF0YS5mb3JtYXQuZHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5PcHVzUGFyc2VyID0gT3B1c1BhcnNlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/opus/OpusParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/speex/Speex.js":
/*!************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/speex/Speex.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Header = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst util = __webpack_require__(/*! ../../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/**\n * Speex Header Packet\n * Ref: https://www.speex.org/docs/manual/speex-manual/node8.html#SECTION00830000000000000000\n */\nexports.Header = {\n    len: 80,\n    get: (buf, off) => {\n        return {\n            speex: new Token.StringType(8, 'ascii').get(buf, off + 0),\n            version: util.trimRightNull(new Token.StringType(20, 'ascii').get(buf, off + 8)),\n            version_id: buf.readInt32LE(off + 28),\n            header_size: buf.readInt32LE(off + 32),\n            rate: buf.readInt32LE(off + 36),\n            mode: buf.readInt32LE(off + 40),\n            mode_bitstream_version: buf.readInt32LE(off + 44),\n            nb_channels: buf.readInt32LE(off + 48),\n            bitrate: buf.readInt32LE(off + 52),\n            frame_size: buf.readInt32LE(off + 56),\n            vbr: buf.readInt32LE(off + 60),\n            frames_per_packet: buf.readInt32LE(off + 64),\n            extra_headers: buf.readInt32LE(off + 68),\n            reserved1: buf.readInt32LE(off + 72),\n            reserved2: buf.readInt32LE(off + 76)\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9zcGVleC9TcGVleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjO0FBQ2QsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLGFBQWEsbUJBQU8sQ0FBQyxpRkFBbUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9zcGVleC9TcGVleC5qcz9lYmNjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IZWFkZXIgPSB2b2lkIDA7XG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoXCJ0b2tlbi10eXBlc1wiKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKFwiLi4vLi4vY29tbW9uL1V0aWxcIik7XG4vKipcbiAqIFNwZWV4IEhlYWRlciBQYWNrZXRcbiAqIFJlZjogaHR0cHM6Ly93d3cuc3BlZXgub3JnL2RvY3MvbWFudWFsL3NwZWV4LW1hbnVhbC9ub2RlOC5odG1sI1NFQ1RJT04wMDgzMDAwMDAwMDAwMDAwMDAwMFxuICovXG5leHBvcnRzLkhlYWRlciA9IHtcbiAgICBsZW46IDgwLFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzcGVleDogbmV3IFRva2VuLlN0cmluZ1R5cGUoOCwgJ2FzY2lpJykuZ2V0KGJ1Ziwgb2ZmICsgMCksXG4gICAgICAgICAgICB2ZXJzaW9uOiB1dGlsLnRyaW1SaWdodE51bGwobmV3IFRva2VuLlN0cmluZ1R5cGUoMjAsICdhc2NpaScpLmdldChidWYsIG9mZiArIDgpKSxcbiAgICAgICAgICAgIHZlcnNpb25faWQ6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyAyOCksXG4gICAgICAgICAgICBoZWFkZXJfc2l6ZTogYnVmLnJlYWRJbnQzMkxFKG9mZiArIDMyKSxcbiAgICAgICAgICAgIHJhdGU6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyAzNiksXG4gICAgICAgICAgICBtb2RlOiBidWYucmVhZEludDMyTEUob2ZmICsgNDApLFxuICAgICAgICAgICAgbW9kZV9iaXRzdHJlYW1fdmVyc2lvbjogYnVmLnJlYWRJbnQzMkxFKG9mZiArIDQ0KSxcbiAgICAgICAgICAgIG5iX2NoYW5uZWxzOiBidWYucmVhZEludDMyTEUob2ZmICsgNDgpLFxuICAgICAgICAgICAgYml0cmF0ZTogYnVmLnJlYWRJbnQzMkxFKG9mZiArIDUyKSxcbiAgICAgICAgICAgIGZyYW1lX3NpemU6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyA1NiksXG4gICAgICAgICAgICB2YnI6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyA2MCksXG4gICAgICAgICAgICBmcmFtZXNfcGVyX3BhY2tldDogYnVmLnJlYWRJbnQzMkxFKG9mZiArIDY0KSxcbiAgICAgICAgICAgIGV4dHJhX2hlYWRlcnM6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyA2OCksXG4gICAgICAgICAgICByZXNlcnZlZDE6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyA3MiksXG4gICAgICAgICAgICByZXNlcnZlZDI6IGJ1Zi5yZWFkSW50MzJMRShvZmYgKyA3NilcbiAgICAgICAgfTtcbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/speex/Speex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/speex/SpeexParser.js":
/*!******************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/speex/SpeexParser.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SpeexParser = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst VorbisParser_1 = __webpack_require__(/*! ../vorbis/VorbisParser */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js\");\nconst Speex = __webpack_require__(/*! ./Speex */ \"(ssr)/./node_modules/music-metadata/lib/ogg/speex/Speex.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:ogg:speex');\n/**\n * Speex, RFC 5574\n * Ref:\n * - https://www.speex.org/docs/manual/speex-manual/\n * - https://tools.ietf.org/html/rfc5574\n */\nclass SpeexParser extends VorbisParser_1.VorbisParser {\n    constructor(metadata, options, tokenizer) {\n        super(metadata, options);\n        this.tokenizer = tokenizer;\n    }\n    /**\n     * Parse first Speex Ogg page\n     * @param {IPageHeader} header\n     * @param {Buffer} pageData\n     */\n    parseFirstPage(header, pageData) {\n        debug('First Ogg/Speex page');\n        const speexHeader = Speex.Header.get(pageData, 0);\n        this.metadata.setFormat('codec', `Speex ${speexHeader.version}`);\n        this.metadata.setFormat('numberOfChannels', speexHeader.nb_channels);\n        this.metadata.setFormat('sampleRate', speexHeader.rate);\n        if (speexHeader.bitrate !== -1) {\n            this.metadata.setFormat('bitrate', speexHeader.bitrate);\n        }\n    }\n}\nexports.SpeexParser = SpeexParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9zcGVleC9TcGVleFBhcnNlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkIsZ0JBQWdCLG1CQUFPLENBQUMsc0RBQU87QUFDL0IsdUJBQXVCLG1CQUFPLENBQUMsa0dBQXdCO0FBQ3ZELGNBQWMsbUJBQU8sQ0FBQywyRUFBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxhQUFhO0FBQzVCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxvQkFBb0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvb2dnL3NwZWV4L1NwZWV4UGFyc2VyLmpzPzUzOGIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNwZWV4UGFyc2VyID0gdm9pZCAwO1xuY29uc3QgZGVidWdfMSA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcbmNvbnN0IFZvcmJpc1BhcnNlcl8xID0gcmVxdWlyZShcIi4uL3ZvcmJpcy9Wb3JiaXNQYXJzZXJcIik7XG5jb25zdCBTcGVleCA9IHJlcXVpcmUoXCIuL1NwZWV4XCIpO1xuY29uc3QgZGVidWcgPSAoMCwgZGVidWdfMS5kZWZhdWx0KSgnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOm9nZzpzcGVleCcpO1xuLyoqXG4gKiBTcGVleCwgUkZDIDU1NzRcbiAqIFJlZjpcbiAqIC0gaHR0cHM6Ly93d3cuc3BlZXgub3JnL2RvY3MvbWFudWFsL3NwZWV4LW1hbnVhbC9cbiAqIC0gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzU1NzRcbiAqL1xuY2xhc3MgU3BlZXhQYXJzZXIgZXh0ZW5kcyBWb3JiaXNQYXJzZXJfMS5Wb3JiaXNQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKG1ldGFkYXRhLCBvcHRpb25zLCB0b2tlbml6ZXIpIHtcbiAgICAgICAgc3VwZXIobWV0YWRhdGEsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgZmlyc3QgU3BlZXggT2dnIHBhZ2VcbiAgICAgKiBAcGFyYW0ge0lQYWdlSGVhZGVyfSBoZWFkZXJcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gcGFnZURhdGFcbiAgICAgKi9cbiAgICBwYXJzZUZpcnN0UGFnZShoZWFkZXIsIHBhZ2VEYXRhKSB7XG4gICAgICAgIGRlYnVnKCdGaXJzdCBPZ2cvU3BlZXggcGFnZScpO1xuICAgICAgICBjb25zdCBzcGVleEhlYWRlciA9IFNwZWV4LkhlYWRlci5nZXQocGFnZURhdGEsIDApO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29kZWMnLCBgU3BlZXggJHtzcGVleEhlYWRlci52ZXJzaW9ufWApO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZDaGFubmVscycsIHNwZWV4SGVhZGVyLm5iX2NoYW5uZWxzKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBzcGVleEhlYWRlci5yYXRlKTtcbiAgICAgICAgaWYgKHNwZWV4SGVhZGVyLmJpdHJhdGUgIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIHNwZWV4SGVhZGVyLmJpdHJhdGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5TcGVleFBhcnNlciA9IFNwZWV4UGFyc2VyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/speex/SpeexParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/theora/Theora.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/theora/Theora.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IdentificationHeader = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/**\n * 6.2 Identification Header\n * Ref: https://theora.org/doc/Theora.pdf: 6.2 Identification Header Decode\n */\nexports.IdentificationHeader = {\n    len: 42,\n    get: (buf, off) => {\n        return {\n            id: new Token.StringType(7, 'ascii').get(buf, off),\n            vmaj: buf.readUInt8(off + 7),\n            vmin: buf.readUInt8(off + 8),\n            vrev: buf.readUInt8(off + 9),\n            vmbw: buf.readUInt16BE(off + 10),\n            vmbh: buf.readUInt16BE(off + 17),\n            nombr: Token.UINT24_BE.get(buf, off + 37),\n            nqual: buf.readUInt8(off + 40)\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy90aGVvcmEvVGhlb3JhLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDRCQUE0QjtBQUM1QixjQUFjLG1CQUFPLENBQUMsa0VBQWE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9vZ2cvdGhlb3JhL1RoZW9yYS5qcz85MGY3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JZGVudGlmaWNhdGlvbkhlYWRlciA9IHZvaWQgMDtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuLyoqXG4gKiA2LjIgSWRlbnRpZmljYXRpb24gSGVhZGVyXG4gKiBSZWY6IGh0dHBzOi8vdGhlb3JhLm9yZy9kb2MvVGhlb3JhLnBkZjogNi4yIElkZW50aWZpY2F0aW9uIEhlYWRlciBEZWNvZGVcbiAqL1xuZXhwb3J0cy5JZGVudGlmaWNhdGlvbkhlYWRlciA9IHtcbiAgICBsZW46IDQyLFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogbmV3IFRva2VuLlN0cmluZ1R5cGUoNywgJ2FzY2lpJykuZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIHZtYWo6IGJ1Zi5yZWFkVUludDgob2ZmICsgNyksXG4gICAgICAgICAgICB2bWluOiBidWYucmVhZFVJbnQ4KG9mZiArIDgpLFxuICAgICAgICAgICAgdnJldjogYnVmLnJlYWRVSW50OChvZmYgKyA5KSxcbiAgICAgICAgICAgIHZtYnc6IGJ1Zi5yZWFkVUludDE2QkUob2ZmICsgMTApLFxuICAgICAgICAgICAgdm1iaDogYnVmLnJlYWRVSW50MTZCRShvZmYgKyAxNyksXG4gICAgICAgICAgICBub21icjogVG9rZW4uVUlOVDI0X0JFLmdldChidWYsIG9mZiArIDM3KSxcbiAgICAgICAgICAgIG5xdWFsOiBidWYucmVhZFVJbnQ4KG9mZiArIDQwKVxuICAgICAgICB9O1xuICAgIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/theora/Theora.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/theora/TheoraParser.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/theora/TheoraParser.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TheoraParser = void 0;\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst Theora_1 = __webpack_require__(/*! ./Theora */ \"(ssr)/./node_modules/music-metadata/lib/ogg/theora/Theora.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:ogg:theora');\n/**\n * Ref:\n * - https://theora.org/doc/Theora.pdf\n */\nclass TheoraParser {\n    constructor(metadata, options, tokenizer) {\n        this.metadata = metadata;\n        this.tokenizer = tokenizer;\n    }\n    /**\n     * Vorbis 1 parser\n     * @param header Ogg Page Header\n     * @param pageData Page data\n     */\n    parsePage(header, pageData) {\n        if (header.headerType.firstPage) {\n            this.parseFirstPage(header, pageData);\n        }\n    }\n    flush() {\n        debug('flush');\n    }\n    calculateDuration(header) {\n        debug('duration calculation not implemented');\n    }\n    /**\n     * Parse first Theora Ogg page. the initial identification header packet\n     * @param {IPageHeader} header\n     * @param {Buffer} pageData\n     */\n    parseFirstPage(header, pageData) {\n        debug('First Ogg/Theora page');\n        this.metadata.setFormat('codec', 'Theora');\n        const idHeader = Theora_1.IdentificationHeader.get(pageData, 0);\n        this.metadata.setFormat('bitrate', idHeader.nombr);\n    }\n}\nexports.TheoraParser = TheoraParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy90aGVvcmEvVGhlb3JhUGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQixnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBTztBQUMvQixpQkFBaUIsbUJBQU8sQ0FBQyw4RUFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9vZ2cvdGhlb3JhL1RoZW9yYVBhcnNlci5qcz9lNWYyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UaGVvcmFQYXJzZXIgPSB2b2lkIDA7XG5jb25zdCBkZWJ1Z18xID0gcmVxdWlyZShcImRlYnVnXCIpO1xuY29uc3QgVGhlb3JhXzEgPSByZXF1aXJlKFwiLi9UaGVvcmFcIik7XG5jb25zdCBkZWJ1ZyA9ICgwLCBkZWJ1Z18xLmRlZmF1bHQpKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6b2dnOnRoZW9yYScpO1xuLyoqXG4gKiBSZWY6XG4gKiAtIGh0dHBzOi8vdGhlb3JhLm9yZy9kb2MvVGhlb3JhLnBkZlxuICovXG5jbGFzcyBUaGVvcmFQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKG1ldGFkYXRhLCBvcHRpb25zLCB0b2tlbml6ZXIpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVm9yYmlzIDEgcGFyc2VyXG4gICAgICogQHBhcmFtIGhlYWRlciBPZ2cgUGFnZSBIZWFkZXJcbiAgICAgKiBAcGFyYW0gcGFnZURhdGEgUGFnZSBkYXRhXG4gICAgICovXG4gICAgcGFyc2VQYWdlKGhlYWRlciwgcGFnZURhdGEpIHtcbiAgICAgICAgaWYgKGhlYWRlci5oZWFkZXJUeXBlLmZpcnN0UGFnZSkge1xuICAgICAgICAgICAgdGhpcy5wYXJzZUZpcnN0UGFnZShoZWFkZXIsIHBhZ2VEYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmbHVzaCgpIHtcbiAgICAgICAgZGVidWcoJ2ZsdXNoJyk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUR1cmF0aW9uKGhlYWRlcikge1xuICAgICAgICBkZWJ1ZygnZHVyYXRpb24gY2FsY3VsYXRpb24gbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlIGZpcnN0IFRoZW9yYSBPZ2cgcGFnZS4gdGhlIGluaXRpYWwgaWRlbnRpZmljYXRpb24gaGVhZGVyIHBhY2tldFxuICAgICAqIEBwYXJhbSB7SVBhZ2VIZWFkZXJ9IGhlYWRlclxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBwYWdlRGF0YVxuICAgICAqL1xuICAgIHBhcnNlRmlyc3RQYWdlKGhlYWRlciwgcGFnZURhdGEpIHtcbiAgICAgICAgZGVidWcoJ0ZpcnN0IE9nZy9UaGVvcmEgcGFnZScpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29kZWMnLCAnVGhlb3JhJyk7XG4gICAgICAgIGNvbnN0IGlkSGVhZGVyID0gVGhlb3JhXzEuSWRlbnRpZmljYXRpb25IZWFkZXIuZ2V0KHBhZ2VEYXRhLCAwKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCBpZEhlYWRlci5ub21icik7XG4gICAgfVxufVxuZXhwb3J0cy5UaGVvcmFQYXJzZXIgPSBUaGVvcmFQYXJzZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/theora/TheoraParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/Vorbis.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/vorbis/Vorbis.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IdentificationHeader = exports.CommonHeader = exports.VorbisPictureToken = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst ID3v2Token_1 = __webpack_require__(/*! ../../id3v2/ID3v2Token */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\n/**\n * Parse the METADATA_BLOCK_PICTURE\n * Ref: https://wiki.xiph.org/VorbisComment#METADATA_BLOCK_PICTURE\n * Ref: https://xiph.org/flac/format.html#metadata_block_picture\n * // ToDo: move to ID3 / APIC?\n */\nclass VorbisPictureToken {\n    static fromBase64(base64str) {\n        return this.fromBuffer(Buffer.from(base64str, 'base64'));\n    }\n    static fromBuffer(buffer) {\n        const pic = new VorbisPictureToken(buffer.length);\n        return pic.get(buffer, 0);\n    }\n    constructor(len) {\n        this.len = len;\n    }\n    get(buffer, offset) {\n        const type = ID3v2Token_1.AttachedPictureType[Token.UINT32_BE.get(buffer, offset)];\n        const mimeLen = Token.UINT32_BE.get(buffer, offset += 4);\n        const format = buffer.toString('utf-8', offset += 4, offset + mimeLen);\n        const descLen = Token.UINT32_BE.get(buffer, offset += mimeLen);\n        const description = buffer.toString('utf-8', offset += 4, offset + descLen);\n        const width = Token.UINT32_BE.get(buffer, offset += descLen);\n        const height = Token.UINT32_BE.get(buffer, offset += 4);\n        const colour_depth = Token.UINT32_BE.get(buffer, offset += 4);\n        const indexed_color = Token.UINT32_BE.get(buffer, offset += 4);\n        const picDataLen = Token.UINT32_BE.get(buffer, offset += 4);\n        const data = Buffer.from(buffer.slice(offset += 4, offset + picDataLen));\n        return {\n            type,\n            format,\n            description,\n            width,\n            height,\n            colour_depth,\n            indexed_color,\n            data\n        };\n    }\n}\nexports.VorbisPictureToken = VorbisPictureToken;\n/**\n * Comment header decoder\n * Ref: https://xiph.org/vorbis/doc/Vorbis_I_spec.html#x1-620004.2.1\n */\nexports.CommonHeader = {\n    len: 7,\n    get: (buf, off) => {\n        return {\n            packetType: buf.readUInt8(off),\n            vorbis: new Token.StringType(6, 'ascii').get(buf, off + 1)\n        };\n    }\n};\n/**\n * Identification header decoder\n * Ref: https://xiph.org/vorbis/doc/Vorbis_I_spec.html#x1-630004.2.2\n */\nexports.IdentificationHeader = {\n    len: 23,\n    get: (uint8Array, off) => {\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset);\n        return {\n            version: dataView.getUint32(off + 0, true),\n            channelMode: dataView.getUint8(off + 4),\n            sampleRate: dataView.getUint32(off + 5, true),\n            bitrateMax: dataView.getUint32(off + 9, true),\n            bitrateNominal: dataView.getUint32(off + 13, true),\n            bitrateMin: dataView.getUint32(off + 17, true)\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy92b3JiaXMvVm9yYmlzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDRCQUE0QixHQUFHLG9CQUFvQixHQUFHLDBCQUEwQjtBQUNoRixjQUFjLG1CQUFPLENBQUMsa0VBQWE7QUFDbkMscUJBQXFCLG1CQUFPLENBQUMsMkZBQXdCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy92b3JiaXMvVm9yYmlzLmpzP2RlODYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklkZW50aWZpY2F0aW9uSGVhZGVyID0gZXhwb3J0cy5Db21tb25IZWFkZXIgPSBleHBvcnRzLlZvcmJpc1BpY3R1cmVUb2tlbiA9IHZvaWQgMDtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY29uc3QgSUQzdjJUb2tlbl8xID0gcmVxdWlyZShcIi4uLy4uL2lkM3YyL0lEM3YyVG9rZW5cIik7XG4vKipcbiAqIFBhcnNlIHRoZSBNRVRBREFUQV9CTE9DS19QSUNUVVJFXG4gKiBSZWY6IGh0dHBzOi8vd2lraS54aXBoLm9yZy9Wb3JiaXNDb21tZW50I01FVEFEQVRBX0JMT0NLX1BJQ1RVUkVcbiAqIFJlZjogaHR0cHM6Ly94aXBoLm9yZy9mbGFjL2Zvcm1hdC5odG1sI21ldGFkYXRhX2Jsb2NrX3BpY3R1cmVcbiAqIC8vIFRvRG86IG1vdmUgdG8gSUQzIC8gQVBJQz9cbiAqL1xuY2xhc3MgVm9yYmlzUGljdHVyZVRva2VuIHtcbiAgICBzdGF0aWMgZnJvbUJhc2U2NChiYXNlNjRzdHIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUJ1ZmZlcihCdWZmZXIuZnJvbShiYXNlNjRzdHIsICdiYXNlNjQnKSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tQnVmZmVyKGJ1ZmZlcikge1xuICAgICAgICBjb25zdCBwaWMgPSBuZXcgVm9yYmlzUGljdHVyZVRva2VuKGJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gcGljLmdldChidWZmZXIsIDApO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgfVxuICAgIGdldChidWZmZXIsIG9mZnNldCkge1xuICAgICAgICBjb25zdCB0eXBlID0gSUQzdjJUb2tlbl8xLkF0dGFjaGVkUGljdHVyZVR5cGVbVG9rZW4uVUlOVDMyX0JFLmdldChidWZmZXIsIG9mZnNldCldO1xuICAgICAgICBjb25zdCBtaW1lTGVuID0gVG9rZW4uVUlOVDMyX0JFLmdldChidWZmZXIsIG9mZnNldCArPSA0KTtcbiAgICAgICAgY29uc3QgZm9ybWF0ID0gYnVmZmVyLnRvU3RyaW5nKCd1dGYtOCcsIG9mZnNldCArPSA0LCBvZmZzZXQgKyBtaW1lTGVuKTtcbiAgICAgICAgY29uc3QgZGVzY0xlbiA9IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmZmVyLCBvZmZzZXQgKz0gbWltZUxlbik7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gYnVmZmVyLnRvU3RyaW5nKCd1dGYtOCcsIG9mZnNldCArPSA0LCBvZmZzZXQgKyBkZXNjTGVuKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1ZmZlciwgb2Zmc2V0ICs9IGRlc2NMZW4pO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1ZmZlciwgb2Zmc2V0ICs9IDQpO1xuICAgICAgICBjb25zdCBjb2xvdXJfZGVwdGggPSBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1ZmZlciwgb2Zmc2V0ICs9IDQpO1xuICAgICAgICBjb25zdCBpbmRleGVkX2NvbG9yID0gVG9rZW4uVUlOVDMyX0JFLmdldChidWZmZXIsIG9mZnNldCArPSA0KTtcbiAgICAgICAgY29uc3QgcGljRGF0YUxlbiA9IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmZmVyLCBvZmZzZXQgKz0gNCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBCdWZmZXIuZnJvbShidWZmZXIuc2xpY2Uob2Zmc2V0ICs9IDQsIG9mZnNldCArIHBpY0RhdGFMZW4pKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBmb3JtYXQsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgY29sb3VyX2RlcHRoLFxuICAgICAgICAgICAgaW5kZXhlZF9jb2xvcixcbiAgICAgICAgICAgIGRhdGFcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlZvcmJpc1BpY3R1cmVUb2tlbiA9IFZvcmJpc1BpY3R1cmVUb2tlbjtcbi8qKlxuICogQ29tbWVudCBoZWFkZXIgZGVjb2RlclxuICogUmVmOiBodHRwczovL3hpcGgub3JnL3ZvcmJpcy9kb2MvVm9yYmlzX0lfc3BlYy5odG1sI3gxLTYyMDAwNC4yLjFcbiAqL1xuZXhwb3J0cy5Db21tb25IZWFkZXIgPSB7XG4gICAgbGVuOiA3LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYWNrZXRUeXBlOiBidWYucmVhZFVJbnQ4KG9mZiksXG4gICAgICAgICAgICB2b3JiaXM6IG5ldyBUb2tlbi5TdHJpbmdUeXBlKDYsICdhc2NpaScpLmdldChidWYsIG9mZiArIDEpXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8qKlxuICogSWRlbnRpZmljYXRpb24gaGVhZGVyIGRlY29kZXJcbiAqIFJlZjogaHR0cHM6Ly94aXBoLm9yZy92b3JiaXMvZG9jL1ZvcmJpc19JX3NwZWMuaHRtbCN4MS02MzAwMDQuMi4yXG4gKi9cbmV4cG9ydHMuSWRlbnRpZmljYXRpb25IZWFkZXIgPSB7XG4gICAgbGVuOiAyMyxcbiAgICBnZXQ6ICh1aW50OEFycmF5LCBvZmYpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcodWludDhBcnJheS5idWZmZXIsIHVpbnQ4QXJyYXkuYnl0ZU9mZnNldCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBkYXRhVmlldy5nZXRVaW50MzIob2ZmICsgMCwgdHJ1ZSksXG4gICAgICAgICAgICBjaGFubmVsTW9kZTogZGF0YVZpZXcuZ2V0VWludDgob2ZmICsgNCksXG4gICAgICAgICAgICBzYW1wbGVSYXRlOiBkYXRhVmlldy5nZXRVaW50MzIob2ZmICsgNSwgdHJ1ZSksXG4gICAgICAgICAgICBiaXRyYXRlTWF4OiBkYXRhVmlldy5nZXRVaW50MzIob2ZmICsgOSwgdHJ1ZSksXG4gICAgICAgICAgICBiaXRyYXRlTm9taW5hbDogZGF0YVZpZXcuZ2V0VWludDMyKG9mZiArIDEzLCB0cnVlKSxcbiAgICAgICAgICAgIGJpdHJhdGVNaW46IGRhdGFWaWV3LmdldFVpbnQzMihvZmYgKyAxNywgdHJ1ZSlcbiAgICAgICAgfTtcbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/Vorbis.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisDecoder.js":
/*!*********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/vorbis/VorbisDecoder.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VorbisDecoder = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nclass VorbisDecoder {\n    constructor(data, offset) {\n        this.data = data;\n        this.offset = offset;\n    }\n    readInt32() {\n        const value = Token.UINT32_LE.get(this.data, this.offset);\n        this.offset += 4;\n        return value;\n    }\n    readStringUtf8() {\n        const len = this.readInt32();\n        const value = Buffer.from(this.data).toString('utf-8', this.offset, this.offset + len);\n        this.offset += len;\n        return value;\n    }\n    parseUserComment() {\n        const offset0 = this.offset;\n        const v = this.readStringUtf8();\n        const idx = v.indexOf('=');\n        return {\n            key: v.slice(0, idx).toUpperCase(),\n            value: v.slice(idx + 1),\n            len: this.offset - offset0\n        };\n    }\n}\nexports.VorbisDecoder = VorbisDecoder;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy92b3JiaXMvVm9yYmlzRGVjb2Rlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9vZ2cvdm9yYmlzL1ZvcmJpc0RlY29kZXIuanM/ZTViNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVm9yYmlzRGVjb2RlciA9IHZvaWQgMDtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY2xhc3MgVm9yYmlzRGVjb2RlciB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgb2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIH1cbiAgICByZWFkSW50MzIoKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gVG9rZW4uVUlOVDMyX0xFLmdldCh0aGlzLmRhdGEsIHRoaXMub2Zmc2V0KTtcbiAgICAgICAgdGhpcy5vZmZzZXQgKz0gNDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZWFkU3RyaW5nVXRmOCgpIHtcbiAgICAgICAgY29uc3QgbGVuID0gdGhpcy5yZWFkSW50MzIoKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBCdWZmZXIuZnJvbSh0aGlzLmRhdGEpLnRvU3RyaW5nKCd1dGYtOCcsIHRoaXMub2Zmc2V0LCB0aGlzLm9mZnNldCArIGxlbik7XG4gICAgICAgIHRoaXMub2Zmc2V0ICs9IGxlbjtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBwYXJzZVVzZXJDb21tZW50KCkge1xuICAgICAgICBjb25zdCBvZmZzZXQwID0gdGhpcy5vZmZzZXQ7XG4gICAgICAgIGNvbnN0IHYgPSB0aGlzLnJlYWRTdHJpbmdVdGY4KCk7XG4gICAgICAgIGNvbnN0IGlkeCA9IHYuaW5kZXhPZignPScpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5OiB2LnNsaWNlKDAsIGlkeCkudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICAgIHZhbHVlOiB2LnNsaWNlKGlkeCArIDEpLFxuICAgICAgICAgICAgbGVuOiB0aGlzLm9mZnNldCAtIG9mZnNldDBcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlZvcmJpc0RlY29kZXIgPSBWb3JiaXNEZWNvZGVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisDecoder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VorbisParser = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst VorbisDecoder_1 = __webpack_require__(/*! ./VorbisDecoder */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisDecoder.js\");\nconst Vorbis_1 = __webpack_require__(/*! ./Vorbis */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/Vorbis.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:ogg:vorbis1');\n/**\n * Vorbis 1 Parser.\n * Used by OggParser\n */\nclass VorbisParser {\n    constructor(metadata, options) {\n        this.metadata = metadata;\n        this.options = options;\n        this.pageSegments = [];\n    }\n    /**\n     * Vorbis 1 parser\n     * @param header Ogg Page Header\n     * @param pageData Page data\n     */\n    parsePage(header, pageData) {\n        if (header.headerType.firstPage) {\n            this.parseFirstPage(header, pageData);\n        }\n        else {\n            if (header.headerType.continued) {\n                if (this.pageSegments.length === 0) {\n                    throw new Error(\"Cannot continue on previous page\");\n                }\n                this.pageSegments.push(pageData);\n            }\n            if (header.headerType.lastPage || !header.headerType.continued) {\n                // Flush page segments\n                if (this.pageSegments.length > 0) {\n                    const fullPage = Buffer.concat(this.pageSegments);\n                    this.parseFullPage(fullPage);\n                }\n                // Reset page segments\n                this.pageSegments = header.headerType.lastPage ? [] : [pageData];\n            }\n        }\n        if (header.headerType.lastPage) {\n            this.calculateDuration(header);\n        }\n    }\n    flush() {\n        this.parseFullPage(Buffer.concat(this.pageSegments));\n    }\n    parseUserComment(pageData, offset) {\n        const decoder = new VorbisDecoder_1.VorbisDecoder(pageData, offset);\n        const tag = decoder.parseUserComment();\n        this.addTag(tag.key, tag.value);\n        return tag.len;\n    }\n    addTag(id, value) {\n        if (id === 'METADATA_BLOCK_PICTURE' && (typeof value === 'string')) {\n            if (this.options.skipCovers) {\n                debug(`Ignore picture`);\n                return;\n            }\n            value = Vorbis_1.VorbisPictureToken.fromBase64(value);\n            debug(`Push picture: id=${id}, format=${value.format}`);\n        }\n        else {\n            debug(`Push tag: id=${id}, value=${value}`);\n        }\n        this.metadata.addTag('vorbis', id, value);\n    }\n    calculateDuration(header) {\n        if (this.metadata.format.sampleRate && header.absoluteGranulePosition >= 0) {\n            // Calculate duration\n            this.metadata.setFormat('numberOfSamples', header.absoluteGranulePosition);\n            this.metadata.setFormat('duration', this.metadata.format.numberOfSamples / this.metadata.format.sampleRate);\n        }\n    }\n    /**\n     * Parse first Ogg/Vorbis page\n     * @param {IPageHeader} header\n     * @param {Buffer} pageData\n     */\n    parseFirstPage(header, pageData) {\n        this.metadata.setFormat('codec', 'Vorbis I');\n        debug(\"Parse first page\");\n        // Parse  Vorbis common header\n        const commonHeader = Vorbis_1.CommonHeader.get(pageData, 0);\n        if (commonHeader.vorbis !== 'vorbis')\n            throw new Error('Metadata does not look like Vorbis');\n        if (commonHeader.packetType === 1) {\n            const idHeader = Vorbis_1.IdentificationHeader.get(pageData, Vorbis_1.CommonHeader.len);\n            this.metadata.setFormat('sampleRate', idHeader.sampleRate);\n            this.metadata.setFormat('bitrate', idHeader.bitrateNominal);\n            this.metadata.setFormat('numberOfChannels', idHeader.channelMode);\n            debug(\"sample-rate=%s[hz], bitrate=%s[b/s], channel-mode=%s\", idHeader.sampleRate, idHeader.bitrateNominal, idHeader.channelMode);\n        }\n        else\n            throw new Error('First Ogg page should be type 1: the identification header');\n    }\n    parseFullPage(pageData) {\n        // New page\n        const commonHeader = Vorbis_1.CommonHeader.get(pageData, 0);\n        debug(\"Parse full page: type=%s, byteLength=%s\", commonHeader.packetType, pageData.byteLength);\n        switch (commonHeader.packetType) {\n            case 3: //  type 3: comment header\n                return this.parseUserCommentList(pageData, Vorbis_1.CommonHeader.len);\n            case 1: // type 1: the identification header\n            case 5: // type 5: setup header type\n                break; // ignore\n        }\n    }\n    /**\n     * Ref: https://xiph.org/vorbis/doc/Vorbis_I_spec.html#x1-840005.2\n     */\n    parseUserCommentList(pageData, offset) {\n        const strLen = Token.UINT32_LE.get(pageData, offset);\n        offset += 4;\n        // const vendorString = new Token.StringType(strLen, 'utf-8').get(pageData, offset);\n        offset += strLen;\n        let userCommentListLength = Token.UINT32_LE.get(pageData, offset);\n        offset += 4;\n        while (userCommentListLength-- > 0) {\n            offset += this.parseUserComment(pageData, offset);\n        }\n    }\n}\nexports.VorbisParser = VorbisParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy92b3JiaXMvVm9yYmlzUGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQixjQUFjLG1CQUFPLENBQUMsa0VBQWE7QUFDbkMsZ0JBQWdCLG1CQUFPLENBQUMsc0RBQU87QUFDL0Isd0JBQXdCLG1CQUFPLENBQUMsNEZBQWlCO0FBQ2pELGlCQUFpQixtQkFBTyxDQUFDLDhFQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxHQUFHLFdBQVcsYUFBYTtBQUNqRTtBQUNBO0FBQ0Esa0NBQWtDLEdBQUcsVUFBVSxNQUFNO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvb2dnL3ZvcmJpcy9Wb3JiaXNQYXJzZXIuanM/MjkzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVm9yYmlzUGFyc2VyID0gdm9pZCAwO1xuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG5jb25zdCBkZWJ1Z18xID0gcmVxdWlyZShcImRlYnVnXCIpO1xuY29uc3QgVm9yYmlzRGVjb2Rlcl8xID0gcmVxdWlyZShcIi4vVm9yYmlzRGVjb2RlclwiKTtcbmNvbnN0IFZvcmJpc18xID0gcmVxdWlyZShcIi4vVm9yYmlzXCIpO1xuY29uc3QgZGVidWcgPSAoMCwgZGVidWdfMS5kZWZhdWx0KSgnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOm9nZzp2b3JiaXMxJyk7XG4vKipcbiAqIFZvcmJpcyAxIFBhcnNlci5cbiAqIFVzZWQgYnkgT2dnUGFyc2VyXG4gKi9cbmNsYXNzIFZvcmJpc1BhcnNlciB7XG4gICAgY29uc3RydWN0b3IobWV0YWRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnBhZ2VTZWdtZW50cyA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWb3JiaXMgMSBwYXJzZXJcbiAgICAgKiBAcGFyYW0gaGVhZGVyIE9nZyBQYWdlIEhlYWRlclxuICAgICAqIEBwYXJhbSBwYWdlRGF0YSBQYWdlIGRhdGFcbiAgICAgKi9cbiAgICBwYXJzZVBhZ2UoaGVhZGVyLCBwYWdlRGF0YSkge1xuICAgICAgICBpZiAoaGVhZGVyLmhlYWRlclR5cGUuZmlyc3RQYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnNlRmlyc3RQYWdlKGhlYWRlciwgcGFnZURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGhlYWRlci5oZWFkZXJUeXBlLmNvbnRpbnVlZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VTZWdtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNvbnRpbnVlIG9uIHByZXZpb3VzIHBhZ2VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucGFnZVNlZ21lbnRzLnB1c2gocGFnZURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhlYWRlci5oZWFkZXJUeXBlLmxhc3RQYWdlIHx8ICFoZWFkZXIuaGVhZGVyVHlwZS5jb250aW51ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBGbHVzaCBwYWdlIHNlZ21lbnRzXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFnZVNlZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnVsbFBhZ2UgPSBCdWZmZXIuY29uY2F0KHRoaXMucGFnZVNlZ21lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZUZ1bGxQYWdlKGZ1bGxQYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgcGFnZSBzZWdtZW50c1xuICAgICAgICAgICAgICAgIHRoaXMucGFnZVNlZ21lbnRzID0gaGVhZGVyLmhlYWRlclR5cGUubGFzdFBhZ2UgPyBbXSA6IFtwYWdlRGF0YV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlYWRlci5oZWFkZXJUeXBlLmxhc3RQYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUR1cmF0aW9uKGhlYWRlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmx1c2goKSB7XG4gICAgICAgIHRoaXMucGFyc2VGdWxsUGFnZShCdWZmZXIuY29uY2F0KHRoaXMucGFnZVNlZ21lbnRzKSk7XG4gICAgfVxuICAgIHBhcnNlVXNlckNvbW1lbnQocGFnZURhdGEsIG9mZnNldCkge1xuICAgICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFZvcmJpc0RlY29kZXJfMS5Wb3JiaXNEZWNvZGVyKHBhZ2VEYXRhLCBvZmZzZXQpO1xuICAgICAgICBjb25zdCB0YWcgPSBkZWNvZGVyLnBhcnNlVXNlckNvbW1lbnQoKTtcbiAgICAgICAgdGhpcy5hZGRUYWcodGFnLmtleSwgdGFnLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRhZy5sZW47XG4gICAgfVxuICAgIGFkZFRhZyhpZCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGlkID09PSAnTUVUQURBVEFfQkxPQ0tfUElDVFVSRScgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNraXBDb3ZlcnMpIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZyhgSWdub3JlIHBpY3R1cmVgKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IFZvcmJpc18xLlZvcmJpc1BpY3R1cmVUb2tlbi5mcm9tQmFzZTY0KHZhbHVlKTtcbiAgICAgICAgICAgIGRlYnVnKGBQdXNoIHBpY3R1cmU6IGlkPSR7aWR9LCBmb3JtYXQ9JHt2YWx1ZS5mb3JtYXR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWJ1ZyhgUHVzaCB0YWc6IGlkPSR7aWR9LCB2YWx1ZT0ke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWV0YWRhdGEuYWRkVGFnKCd2b3JiaXMnLCBpZCwgdmFsdWUpO1xuICAgIH1cbiAgICBjYWxjdWxhdGVEdXJhdGlvbihoZWFkZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuZm9ybWF0LnNhbXBsZVJhdGUgJiYgaGVhZGVyLmFic29sdXRlR3JhbnVsZVBvc2l0aW9uID49IDApIHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBkdXJhdGlvblxuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mU2FtcGxlcycsIGhlYWRlci5hYnNvbHV0ZUdyYW51bGVQb3NpdGlvbik7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCB0aGlzLm1ldGFkYXRhLmZvcm1hdC5udW1iZXJPZlNhbXBsZXMgLyB0aGlzLm1ldGFkYXRhLmZvcm1hdC5zYW1wbGVSYXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSBmaXJzdCBPZ2cvVm9yYmlzIHBhZ2VcbiAgICAgKiBAcGFyYW0ge0lQYWdlSGVhZGVyfSBoZWFkZXJcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gcGFnZURhdGFcbiAgICAgKi9cbiAgICBwYXJzZUZpcnN0UGFnZShoZWFkZXIsIHBhZ2VEYXRhKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb2RlYycsICdWb3JiaXMgSScpO1xuICAgICAgICBkZWJ1ZyhcIlBhcnNlIGZpcnN0IHBhZ2VcIik7XG4gICAgICAgIC8vIFBhcnNlICBWb3JiaXMgY29tbW9uIGhlYWRlclxuICAgICAgICBjb25zdCBjb21tb25IZWFkZXIgPSBWb3JiaXNfMS5Db21tb25IZWFkZXIuZ2V0KHBhZ2VEYXRhLCAwKTtcbiAgICAgICAgaWYgKGNvbW1vbkhlYWRlci52b3JiaXMgIT09ICd2b3JiaXMnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRhZGF0YSBkb2VzIG5vdCBsb29rIGxpa2UgVm9yYmlzJyk7XG4gICAgICAgIGlmIChjb21tb25IZWFkZXIucGFja2V0VHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgaWRIZWFkZXIgPSBWb3JiaXNfMS5JZGVudGlmaWNhdGlvbkhlYWRlci5nZXQocGFnZURhdGEsIFZvcmJpc18xLkNvbW1vbkhlYWRlci5sZW4pO1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBpZEhlYWRlci5zYW1wbGVSYXRlKTtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgaWRIZWFkZXIuYml0cmF0ZU5vbWluYWwpO1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mQ2hhbm5lbHMnLCBpZEhlYWRlci5jaGFubmVsTW9kZSk7XG4gICAgICAgICAgICBkZWJ1ZyhcInNhbXBsZS1yYXRlPSVzW2h6XSwgYml0cmF0ZT0lc1tiL3NdLCBjaGFubmVsLW1vZGU9JXNcIiwgaWRIZWFkZXIuc2FtcGxlUmF0ZSwgaWRIZWFkZXIuYml0cmF0ZU5vbWluYWwsIGlkSGVhZGVyLmNoYW5uZWxNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpcnN0IE9nZyBwYWdlIHNob3VsZCBiZSB0eXBlIDE6IHRoZSBpZGVudGlmaWNhdGlvbiBoZWFkZXInKTtcbiAgICB9XG4gICAgcGFyc2VGdWxsUGFnZShwYWdlRGF0YSkge1xuICAgICAgICAvLyBOZXcgcGFnZVxuICAgICAgICBjb25zdCBjb21tb25IZWFkZXIgPSBWb3JiaXNfMS5Db21tb25IZWFkZXIuZ2V0KHBhZ2VEYXRhLCAwKTtcbiAgICAgICAgZGVidWcoXCJQYXJzZSBmdWxsIHBhZ2U6IHR5cGU9JXMsIGJ5dGVMZW5ndGg9JXNcIiwgY29tbW9uSGVhZGVyLnBhY2tldFR5cGUsIHBhZ2VEYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICBzd2l0Y2ggKGNvbW1vbkhlYWRlci5wYWNrZXRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIDM6IC8vICB0eXBlIDM6IGNvbW1lbnQgaGVhZGVyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VVc2VyQ29tbWVudExpc3QocGFnZURhdGEsIFZvcmJpc18xLkNvbW1vbkhlYWRlci5sZW4pO1xuICAgICAgICAgICAgY2FzZSAxOiAvLyB0eXBlIDE6IHRoZSBpZGVudGlmaWNhdGlvbiBoZWFkZXJcbiAgICAgICAgICAgIGNhc2UgNTogLy8gdHlwZSA1OiBzZXR1cCBoZWFkZXIgdHlwZVxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBpZ25vcmVcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWY6IGh0dHBzOi8veGlwaC5vcmcvdm9yYmlzL2RvYy9Wb3JiaXNfSV9zcGVjLmh0bWwjeDEtODQwMDA1LjJcbiAgICAgKi9cbiAgICBwYXJzZVVzZXJDb21tZW50TGlzdChwYWdlRGF0YSwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHN0ckxlbiA9IFRva2VuLlVJTlQzMl9MRS5nZXQocGFnZURhdGEsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICAvLyBjb25zdCB2ZW5kb3JTdHJpbmcgPSBuZXcgVG9rZW4uU3RyaW5nVHlwZShzdHJMZW4sICd1dGYtOCcpLmdldChwYWdlRGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IHN0ckxlbjtcbiAgICAgICAgbGV0IHVzZXJDb21tZW50TGlzdExlbmd0aCA9IFRva2VuLlVJTlQzMl9MRS5nZXQocGFnZURhdGEsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICB3aGlsZSAodXNlckNvbW1lbnRMaXN0TGVuZ3RoLS0gPiAwKSB7XG4gICAgICAgICAgICBvZmZzZXQgKz0gdGhpcy5wYXJzZVVzZXJDb21tZW50KHBhZ2VEYXRhLCBvZmZzZXQpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Wb3JiaXNQYXJzZXIgPSBWb3JiaXNQYXJzZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisTagMapper.js":
/*!***********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/vorbis/VorbisTagMapper.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VorbisTagMapper = void 0;\nconst GenericTagMapper_1 = __webpack_require__(/*! ../../common/GenericTagMapper */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n/**\n * Vorbis tag mappings\n *\n * Mapping from native header format to one or possibly more 'common' entries\n * The common entries aim to read the same information from different media files\n * independent of the underlying format\n */\nconst vorbisTagMap = {\n    TITLE: 'title',\n    ARTIST: 'artist',\n    ARTISTS: 'artists',\n    ALBUMARTIST: 'albumartist',\n    'ALBUM ARTIST': 'albumartist',\n    ALBUM: 'album',\n    DATE: 'date',\n    ORIGINALDATE: 'originaldate',\n    ORIGINALYEAR: 'originalyear',\n    COMMENT: 'comment',\n    TRACKNUMBER: 'track',\n    DISCNUMBER: 'disk',\n    GENRE: 'genre',\n    METADATA_BLOCK_PICTURE: 'picture',\n    COMPOSER: 'composer',\n    LYRICS: 'lyrics',\n    ALBUMSORT: 'albumsort',\n    TITLESORT: 'titlesort',\n    WORK: 'work',\n    ARTISTSORT: 'artistsort',\n    ALBUMARTISTSORT: 'albumartistsort',\n    COMPOSERSORT: 'composersort',\n    LYRICIST: 'lyricist',\n    WRITER: 'writer',\n    CONDUCTOR: 'conductor',\n    // 'PERFORMER=artist (instrument)': 'performer:instrument', // ToDo\n    REMIXER: 'remixer',\n    ARRANGER: 'arranger',\n    ENGINEER: 'engineer',\n    PRODUCER: 'producer',\n    DJMIXER: 'djmixer',\n    MIXER: 'mixer',\n    LABEL: 'label',\n    GROUPING: 'grouping',\n    SUBTITLE: 'subtitle',\n    DISCSUBTITLE: 'discsubtitle',\n    TRACKTOTAL: 'totaltracks',\n    DISCTOTAL: 'totaldiscs',\n    COMPILATION: 'compilation',\n    RATING: 'rating',\n    BPM: 'bpm',\n    KEY: 'key',\n    MOOD: 'mood',\n    MEDIA: 'media',\n    CATALOGNUMBER: 'catalognumber',\n    RELEASESTATUS: 'releasestatus',\n    RELEASETYPE: 'releasetype',\n    RELEASECOUNTRY: 'releasecountry',\n    SCRIPT: 'script',\n    LANGUAGE: 'language',\n    COPYRIGHT: 'copyright',\n    LICENSE: 'license',\n    ENCODEDBY: 'encodedby',\n    ENCODERSETTINGS: 'encodersettings',\n    BARCODE: 'barcode',\n    ISRC: 'isrc',\n    ASIN: 'asin',\n    MUSICBRAINZ_TRACKID: 'musicbrainz_recordingid',\n    MUSICBRAINZ_RELEASETRACKID: 'musicbrainz_trackid',\n    MUSICBRAINZ_ALBUMID: 'musicbrainz_albumid',\n    MUSICBRAINZ_ARTISTID: 'musicbrainz_artistid',\n    MUSICBRAINZ_ALBUMARTISTID: 'musicbrainz_albumartistid',\n    MUSICBRAINZ_RELEASEGROUPID: 'musicbrainz_releasegroupid',\n    MUSICBRAINZ_WORKID: 'musicbrainz_workid',\n    MUSICBRAINZ_TRMID: 'musicbrainz_trmid',\n    MUSICBRAINZ_DISCID: 'musicbrainz_discid',\n    ACOUSTID_ID: 'acoustid_id',\n    ACOUSTID_ID_FINGERPRINT: 'acoustid_fingerprint',\n    MUSICIP_PUID: 'musicip_puid',\n    // 'FINGERPRINT=MusicMagic Fingerprint {fingerprint}': 'musicip_fingerprint', // ToDo\n    WEBSITE: 'website',\n    NOTES: 'notes',\n    TOTALTRACKS: 'totaltracks',\n    TOTALDISCS: 'totaldiscs',\n    // Discogs\n    DISCOGS_ARTIST_ID: 'discogs_artist_id',\n    DISCOGS_ARTISTS: 'artists',\n    DISCOGS_ARTIST_NAME: 'artists',\n    DISCOGS_ALBUM_ARTISTS: 'albumartist',\n    DISCOGS_CATALOG: 'catalognumber',\n    DISCOGS_COUNTRY: 'releasecountry',\n    DISCOGS_DATE: 'originaldate',\n    DISCOGS_LABEL: 'label',\n    DISCOGS_LABEL_ID: 'discogs_label_id',\n    DISCOGS_MASTER_RELEASE_ID: 'discogs_master_release_id',\n    DISCOGS_RATING: 'discogs_rating',\n    DISCOGS_RELEASED: 'date',\n    DISCOGS_RELEASE_ID: 'discogs_release_id',\n    DISCOGS_VOTES: 'discogs_votes',\n    CATALOGID: 'catalognumber',\n    STYLE: 'genre',\n    //\n    REPLAYGAIN_TRACK_GAIN: 'replaygain_track_gain',\n    REPLAYGAIN_TRACK_PEAK: 'replaygain_track_peak',\n    REPLAYGAIN_ALBUM_GAIN: 'replaygain_album_gain',\n    REPLAYGAIN_ALBUM_PEAK: 'replaygain_album_peak',\n    // To Sure if these (REPLAYGAIN_MINMAX, REPLAYGAIN_ALBUM_MINMAX & REPLAYGAIN_UNDO) are used for Vorbis:\n    REPLAYGAIN_MINMAX: 'replaygain_track_minmax',\n    REPLAYGAIN_ALBUM_MINMAX: 'replaygain_album_minmax',\n    REPLAYGAIN_UNDO: 'replaygain_undo'\n};\nclass VorbisTagMapper extends GenericTagMapper_1.CommonTagMapper {\n    static toRating(email, rating, maxScore) {\n        return {\n            source: email ? email.toLowerCase() : email,\n            rating: (parseFloat(rating) / maxScore) * GenericTagMapper_1.CommonTagMapper.maxRatingScore\n        };\n    }\n    constructor() {\n        super(['vorbis'], vorbisTagMap);\n    }\n    postMap(tag) {\n        if (tag.id === 'RATING') {\n            // The way Winamp 5.666 assigns rating\n            tag.value = VorbisTagMapper.toRating(undefined, tag.value, 100);\n        }\n        else if (tag.id.indexOf('RATING:') === 0) {\n            const keys = tag.id.split(':');\n            tag.value = VorbisTagMapper.toRating(keys[1], tag.value, 1);\n            tag.id = keys[0];\n        }\n    }\n}\nexports.VorbisTagMapper = VorbisTagMapper;\n//# sourceMappingURL=VorbisTagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy92b3JiaXMvVm9yYmlzVGFnTWFwcGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QiwyQkFBMkIsbUJBQU8sQ0FBQyx5R0FBK0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxZQUFZO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvb2dnL3ZvcmJpcy9Wb3JiaXNUYWdNYXBwZXIuanM/MzQ3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVm9yYmlzVGFnTWFwcGVyID0gdm9pZCAwO1xuY29uc3QgR2VuZXJpY1RhZ01hcHBlcl8xID0gcmVxdWlyZShcIi4uLy4uL2NvbW1vbi9HZW5lcmljVGFnTWFwcGVyXCIpO1xuLyoqXG4gKiBWb3JiaXMgdGFnIG1hcHBpbmdzXG4gKlxuICogTWFwcGluZyBmcm9tIG5hdGl2ZSBoZWFkZXIgZm9ybWF0IHRvIG9uZSBvciBwb3NzaWJseSBtb3JlICdjb21tb24nIGVudHJpZXNcbiAqIFRoZSBjb21tb24gZW50cmllcyBhaW0gdG8gcmVhZCB0aGUgc2FtZSBpbmZvcm1hdGlvbiBmcm9tIGRpZmZlcmVudCBtZWRpYSBmaWxlc1xuICogaW5kZXBlbmRlbnQgb2YgdGhlIHVuZGVybHlpbmcgZm9ybWF0XG4gKi9cbmNvbnN0IHZvcmJpc1RhZ01hcCA9IHtcbiAgICBUSVRMRTogJ3RpdGxlJyxcbiAgICBBUlRJU1Q6ICdhcnRpc3QnLFxuICAgIEFSVElTVFM6ICdhcnRpc3RzJyxcbiAgICBBTEJVTUFSVElTVDogJ2FsYnVtYXJ0aXN0JyxcbiAgICAnQUxCVU0gQVJUSVNUJzogJ2FsYnVtYXJ0aXN0JyxcbiAgICBBTEJVTTogJ2FsYnVtJyxcbiAgICBEQVRFOiAnZGF0ZScsXG4gICAgT1JJR0lOQUxEQVRFOiAnb3JpZ2luYWxkYXRlJyxcbiAgICBPUklHSU5BTFlFQVI6ICdvcmlnaW5hbHllYXInLFxuICAgIENPTU1FTlQ6ICdjb21tZW50JyxcbiAgICBUUkFDS05VTUJFUjogJ3RyYWNrJyxcbiAgICBESVNDTlVNQkVSOiAnZGlzaycsXG4gICAgR0VOUkU6ICdnZW5yZScsXG4gICAgTUVUQURBVEFfQkxPQ0tfUElDVFVSRTogJ3BpY3R1cmUnLFxuICAgIENPTVBPU0VSOiAnY29tcG9zZXInLFxuICAgIExZUklDUzogJ2x5cmljcycsXG4gICAgQUxCVU1TT1JUOiAnYWxidW1zb3J0JyxcbiAgICBUSVRMRVNPUlQ6ICd0aXRsZXNvcnQnLFxuICAgIFdPUks6ICd3b3JrJyxcbiAgICBBUlRJU1RTT1JUOiAnYXJ0aXN0c29ydCcsXG4gICAgQUxCVU1BUlRJU1RTT1JUOiAnYWxidW1hcnRpc3Rzb3J0JyxcbiAgICBDT01QT1NFUlNPUlQ6ICdjb21wb3NlcnNvcnQnLFxuICAgIExZUklDSVNUOiAnbHlyaWNpc3QnLFxuICAgIFdSSVRFUjogJ3dyaXRlcicsXG4gICAgQ09ORFVDVE9SOiAnY29uZHVjdG9yJyxcbiAgICAvLyAnUEVSRk9STUVSPWFydGlzdMKgKGluc3RydW1lbnQpJzogJ3BlcmZvcm1lcjppbnN0cnVtZW50JywgLy8gVG9Eb1xuICAgIFJFTUlYRVI6ICdyZW1peGVyJyxcbiAgICBBUlJBTkdFUjogJ2FycmFuZ2VyJyxcbiAgICBFTkdJTkVFUjogJ2VuZ2luZWVyJyxcbiAgICBQUk9EVUNFUjogJ3Byb2R1Y2VyJyxcbiAgICBESk1JWEVSOiAnZGptaXhlcicsXG4gICAgTUlYRVI6ICdtaXhlcicsXG4gICAgTEFCRUw6ICdsYWJlbCcsXG4gICAgR1JPVVBJTkc6ICdncm91cGluZycsXG4gICAgU1VCVElUTEU6ICdzdWJ0aXRsZScsXG4gICAgRElTQ1NVQlRJVExFOiAnZGlzY3N1YnRpdGxlJyxcbiAgICBUUkFDS1RPVEFMOiAndG90YWx0cmFja3MnLFxuICAgIERJU0NUT1RBTDogJ3RvdGFsZGlzY3MnLFxuICAgIENPTVBJTEFUSU9OOiAnY29tcGlsYXRpb24nLFxuICAgIFJBVElORzogJ3JhdGluZycsXG4gICAgQlBNOiAnYnBtJyxcbiAgICBLRVk6ICdrZXknLFxuICAgIE1PT0Q6ICdtb29kJyxcbiAgICBNRURJQTogJ21lZGlhJyxcbiAgICBDQVRBTE9HTlVNQkVSOiAnY2F0YWxvZ251bWJlcicsXG4gICAgUkVMRUFTRVNUQVRVUzogJ3JlbGVhc2VzdGF0dXMnLFxuICAgIFJFTEVBU0VUWVBFOiAncmVsZWFzZXR5cGUnLFxuICAgIFJFTEVBU0VDT1VOVFJZOiAncmVsZWFzZWNvdW50cnknLFxuICAgIFNDUklQVDogJ3NjcmlwdCcsXG4gICAgTEFOR1VBR0U6ICdsYW5ndWFnZScsXG4gICAgQ09QWVJJR0hUOiAnY29weXJpZ2h0JyxcbiAgICBMSUNFTlNFOiAnbGljZW5zZScsXG4gICAgRU5DT0RFREJZOiAnZW5jb2RlZGJ5JyxcbiAgICBFTkNPREVSU0VUVElOR1M6ICdlbmNvZGVyc2V0dGluZ3MnLFxuICAgIEJBUkNPREU6ICdiYXJjb2RlJyxcbiAgICBJU1JDOiAnaXNyYycsXG4gICAgQVNJTjogJ2FzaW4nLFxuICAgIE1VU0lDQlJBSU5aX1RSQUNLSUQ6ICdtdXNpY2JyYWluel9yZWNvcmRpbmdpZCcsXG4gICAgTVVTSUNCUkFJTlpfUkVMRUFTRVRSQUNLSUQ6ICdtdXNpY2JyYWluel90cmFja2lkJyxcbiAgICBNVVNJQ0JSQUlOWl9BTEJVTUlEOiAnbXVzaWNicmFpbnpfYWxidW1pZCcsXG4gICAgTVVTSUNCUkFJTlpfQVJUSVNUSUQ6ICdtdXNpY2JyYWluel9hcnRpc3RpZCcsXG4gICAgTVVTSUNCUkFJTlpfQUxCVU1BUlRJU1RJRDogJ211c2ljYnJhaW56X2FsYnVtYXJ0aXN0aWQnLFxuICAgIE1VU0lDQlJBSU5aX1JFTEVBU0VHUk9VUElEOiAnbXVzaWNicmFpbnpfcmVsZWFzZWdyb3VwaWQnLFxuICAgIE1VU0lDQlJBSU5aX1dPUktJRDogJ211c2ljYnJhaW56X3dvcmtpZCcsXG4gICAgTVVTSUNCUkFJTlpfVFJNSUQ6ICdtdXNpY2JyYWluel90cm1pZCcsXG4gICAgTVVTSUNCUkFJTlpfRElTQ0lEOiAnbXVzaWNicmFpbnpfZGlzY2lkJyxcbiAgICBBQ09VU1RJRF9JRDogJ2Fjb3VzdGlkX2lkJyxcbiAgICBBQ09VU1RJRF9JRF9GSU5HRVJQUklOVDogJ2Fjb3VzdGlkX2ZpbmdlcnByaW50JyxcbiAgICBNVVNJQ0lQX1BVSUQ6ICdtdXNpY2lwX3B1aWQnLFxuICAgIC8vICdGSU5HRVJQUklOVD1NdXNpY01hZ2ljIEZpbmdlcnByaW50wqB7ZmluZ2VycHJpbnR9JzogJ211c2ljaXBfZmluZ2VycHJpbnQnLCAvLyBUb0RvXG4gICAgV0VCU0lURTogJ3dlYnNpdGUnLFxuICAgIE5PVEVTOiAnbm90ZXMnLFxuICAgIFRPVEFMVFJBQ0tTOiAndG90YWx0cmFja3MnLFxuICAgIFRPVEFMRElTQ1M6ICd0b3RhbGRpc2NzJyxcbiAgICAvLyBEaXNjb2dzXG4gICAgRElTQ09HU19BUlRJU1RfSUQ6ICdkaXNjb2dzX2FydGlzdF9pZCcsXG4gICAgRElTQ09HU19BUlRJU1RTOiAnYXJ0aXN0cycsXG4gICAgRElTQ09HU19BUlRJU1RfTkFNRTogJ2FydGlzdHMnLFxuICAgIERJU0NPR1NfQUxCVU1fQVJUSVNUUzogJ2FsYnVtYXJ0aXN0JyxcbiAgICBESVNDT0dTX0NBVEFMT0c6ICdjYXRhbG9nbnVtYmVyJyxcbiAgICBESVNDT0dTX0NPVU5UUlk6ICdyZWxlYXNlY291bnRyeScsXG4gICAgRElTQ09HU19EQVRFOiAnb3JpZ2luYWxkYXRlJyxcbiAgICBESVNDT0dTX0xBQkVMOiAnbGFiZWwnLFxuICAgIERJU0NPR1NfTEFCRUxfSUQ6ICdkaXNjb2dzX2xhYmVsX2lkJyxcbiAgICBESVNDT0dTX01BU1RFUl9SRUxFQVNFX0lEOiAnZGlzY29nc19tYXN0ZXJfcmVsZWFzZV9pZCcsXG4gICAgRElTQ09HU19SQVRJTkc6ICdkaXNjb2dzX3JhdGluZycsXG4gICAgRElTQ09HU19SRUxFQVNFRDogJ2RhdGUnLFxuICAgIERJU0NPR1NfUkVMRUFTRV9JRDogJ2Rpc2NvZ3NfcmVsZWFzZV9pZCcsXG4gICAgRElTQ09HU19WT1RFUzogJ2Rpc2NvZ3Nfdm90ZXMnLFxuICAgIENBVEFMT0dJRDogJ2NhdGFsb2dudW1iZXInLFxuICAgIFNUWUxFOiAnZ2VucmUnLFxuICAgIC8vXG4gICAgUkVQTEFZR0FJTl9UUkFDS19HQUlOOiAncmVwbGF5Z2Fpbl90cmFja19nYWluJyxcbiAgICBSRVBMQVlHQUlOX1RSQUNLX1BFQUs6ICdyZXBsYXlnYWluX3RyYWNrX3BlYWsnLFxuICAgIFJFUExBWUdBSU5fQUxCVU1fR0FJTjogJ3JlcGxheWdhaW5fYWxidW1fZ2FpbicsXG4gICAgUkVQTEFZR0FJTl9BTEJVTV9QRUFLOiAncmVwbGF5Z2Fpbl9hbGJ1bV9wZWFrJyxcbiAgICAvLyBUbyBTdXJlIGlmIHRoZXNlIChSRVBMQVlHQUlOX01JTk1BWCwgUkVQTEFZR0FJTl9BTEJVTV9NSU5NQVggJiBSRVBMQVlHQUlOX1VORE8pIGFyZSB1c2VkIGZvciBWb3JiaXM6XG4gICAgUkVQTEFZR0FJTl9NSU5NQVg6ICdyZXBsYXlnYWluX3RyYWNrX21pbm1heCcsXG4gICAgUkVQTEFZR0FJTl9BTEJVTV9NSU5NQVg6ICdyZXBsYXlnYWluX2FsYnVtX21pbm1heCcsXG4gICAgUkVQTEFZR0FJTl9VTkRPOiAncmVwbGF5Z2Fpbl91bmRvJ1xufTtcbmNsYXNzIFZvcmJpc1RhZ01hcHBlciBleHRlbmRzIEdlbmVyaWNUYWdNYXBwZXJfMS5Db21tb25UYWdNYXBwZXIge1xuICAgIHN0YXRpYyB0b1JhdGluZyhlbWFpbCwgcmF0aW5nLCBtYXhTY29yZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc291cmNlOiBlbWFpbCA/IGVtYWlsLnRvTG93ZXJDYXNlKCkgOiBlbWFpbCxcbiAgICAgICAgICAgIHJhdGluZzogKHBhcnNlRmxvYXQocmF0aW5nKSAvIG1heFNjb3JlKSAqIEdlbmVyaWNUYWdNYXBwZXJfMS5Db21tb25UYWdNYXBwZXIubWF4UmF0aW5nU2NvcmVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFsndm9yYmlzJ10sIHZvcmJpc1RhZ01hcCk7XG4gICAgfVxuICAgIHBvc3RNYXAodGFnKSB7XG4gICAgICAgIGlmICh0YWcuaWQgPT09ICdSQVRJTkcnKSB7XG4gICAgICAgICAgICAvLyBUaGUgd2F5IFdpbmFtcCA1LjY2NiBhc3NpZ25zIHJhdGluZ1xuICAgICAgICAgICAgdGFnLnZhbHVlID0gVm9yYmlzVGFnTWFwcGVyLnRvUmF0aW5nKHVuZGVmaW5lZCwgdGFnLnZhbHVlLCAxMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRhZy5pZC5pbmRleE9mKCdSQVRJTkc6JykgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSB0YWcuaWQuc3BsaXQoJzonKTtcbiAgICAgICAgICAgIHRhZy52YWx1ZSA9IFZvcmJpc1RhZ01hcHBlci50b1JhdGluZyhrZXlzWzFdLCB0YWcudmFsdWUsIDEpO1xuICAgICAgICAgICAgdGFnLmlkID0ga2V5c1swXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuVm9yYmlzVGFnTWFwcGVyID0gVm9yYmlzVGFnTWFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vm9yYmlzVGFnTWFwcGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisTagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/riff/RiffChunk.js":
/*!***********************************************************!*\
  !*** ./node_modules/music-metadata/lib/riff/RiffChunk.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ListInfoTagValue = exports.Header = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/**\n * Common RIFF chunk header\n */\nexports.Header = {\n    len: 8,\n    get: (buf, off) => {\n        return {\n            // Group-ID\n            chunkID: buf.toString('binary', off, off + 4),\n            // Size\n            chunkSize: Token.UINT32_LE.get(buf, 4)\n        };\n    }\n};\n/**\n * Token to parse RIFF-INFO tag value\n */\nclass ListInfoTagValue {\n    constructor(tagHeader) {\n        this.tagHeader = tagHeader;\n        this.len = tagHeader.chunkSize;\n        this.len += this.len & 1; // if it is an odd length, round up to even\n    }\n    get(buf, off) {\n        return new Token.StringType(this.tagHeader.chunkSize, 'ascii').get(buf, off);\n    }\n}\nexports.ListInfoTagValue = ListInfoTagValue;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3JpZmYvUmlmZkNodW5rLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QixHQUFHLGNBQWM7QUFDekMsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvcmlmZi9SaWZmQ2h1bmsuanM/ZDBlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGlzdEluZm9UYWdWYWx1ZSA9IGV4cG9ydHMuSGVhZGVyID0gdm9pZCAwO1xuY29uc3QgVG9rZW4gPSByZXF1aXJlKFwidG9rZW4tdHlwZXNcIik7XG4vKipcbiAqIENvbW1vbiBSSUZGIGNodW5rIGhlYWRlclxuICovXG5leHBvcnRzLkhlYWRlciA9IHtcbiAgICBsZW46IDgsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIEdyb3VwLUlEXG4gICAgICAgICAgICBjaHVua0lEOiBidWYudG9TdHJpbmcoJ2JpbmFyeScsIG9mZiwgb2ZmICsgNCksXG4gICAgICAgICAgICAvLyBTaXplXG4gICAgICAgICAgICBjaHVua1NpemU6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCA0KVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vKipcbiAqIFRva2VuIHRvIHBhcnNlIFJJRkYtSU5GTyB0YWcgdmFsdWVcbiAqL1xuY2xhc3MgTGlzdEluZm9UYWdWYWx1ZSB7XG4gICAgY29uc3RydWN0b3IodGFnSGVhZGVyKSB7XG4gICAgICAgIHRoaXMudGFnSGVhZGVyID0gdGFnSGVhZGVyO1xuICAgICAgICB0aGlzLmxlbiA9IHRhZ0hlYWRlci5jaHVua1NpemU7XG4gICAgICAgIHRoaXMubGVuICs9IHRoaXMubGVuICYgMTsgLy8gaWYgaXQgaXMgYW4gb2RkIGxlbmd0aCwgcm91bmQgdXAgdG8gZXZlblxuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUb2tlbi5TdHJpbmdUeXBlKHRoaXMudGFnSGVhZGVyLmNodW5rU2l6ZSwgJ2FzY2lpJykuZ2V0KGJ1Ziwgb2ZmKTtcbiAgICB9XG59XG5leHBvcnRzLkxpc3RJbmZvVGFnVmFsdWUgPSBMaXN0SW5mb1RhZ1ZhbHVlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/riff/RiffChunk.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/riff/RiffInfoTagMap.js":
/*!****************************************************************!*\
  !*** ./node_modules/music-metadata/lib/riff/RiffInfoTagMap.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RiffInfoTagMapper = exports.riffInfoTagMap = void 0;\nconst GenericTagMapper_1 = __webpack_require__(/*! ../common/GenericTagMapper */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n/**\n * RIFF Info Tags; part of the EXIF 2.3\n * Ref: http://owl.phy.queensu.ca/~phil/exiftool/TagNames/RIFF.html#Info\n */\nexports.riffInfoTagMap = {\n    IART: 'artist',\n    ICRD: 'date',\n    INAM: 'title',\n    TITL: 'title',\n    IPRD: 'album',\n    ITRK: 'track',\n    IPRT: 'track',\n    COMM: 'comment',\n    ICMT: 'comment',\n    ICNT: 'releasecountry',\n    GNRE: 'genre',\n    IWRI: 'writer',\n    RATE: 'rating',\n    YEAR: 'year',\n    ISFT: 'encodedby',\n    CODE: 'encodedby',\n    TURL: 'website',\n    IGNR: 'genre',\n    IENG: 'engineer',\n    ITCH: 'technician',\n    IMED: 'media',\n    IRPD: 'album' // Product, where the file was intended for\n};\nclass RiffInfoTagMapper extends GenericTagMapper_1.CommonTagMapper {\n    constructor() {\n        super(['exif'], exports.riffInfoTagMap);\n    }\n}\nexports.RiffInfoTagMapper = RiffInfoTagMapper;\n//# sourceMappingURL=RiffInfoTagMap.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3JpZmYvUmlmZkluZm9UYWdNYXAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCLEdBQUcsc0JBQXNCO0FBQ2xELDJCQUEyQixtQkFBTyxDQUFDLHNHQUE0QjtBQUMvRDtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3JpZmYvUmlmZkluZm9UYWdNYXAuanM/ZWJlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmlmZkluZm9UYWdNYXBwZXIgPSBleHBvcnRzLnJpZmZJbmZvVGFnTWFwID0gdm9pZCAwO1xuY29uc3QgR2VuZXJpY1RhZ01hcHBlcl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9HZW5lcmljVGFnTWFwcGVyXCIpO1xuLyoqXG4gKiBSSUZGIEluZm8gVGFnczsgcGFydCBvZiB0aGUgRVhJRiAyLjNcbiAqIFJlZjogaHR0cDovL293bC5waHkucXVlZW5zdS5jYS9+cGhpbC9leGlmdG9vbC9UYWdOYW1lcy9SSUZGLmh0bWwjSW5mb1xuICovXG5leHBvcnRzLnJpZmZJbmZvVGFnTWFwID0ge1xuICAgIElBUlQ6ICdhcnRpc3QnLFxuICAgIElDUkQ6ICdkYXRlJyxcbiAgICBJTkFNOiAndGl0bGUnLFxuICAgIFRJVEw6ICd0aXRsZScsXG4gICAgSVBSRDogJ2FsYnVtJyxcbiAgICBJVFJLOiAndHJhY2snLFxuICAgIElQUlQ6ICd0cmFjaycsXG4gICAgQ09NTTogJ2NvbW1lbnQnLFxuICAgIElDTVQ6ICdjb21tZW50JyxcbiAgICBJQ05UOiAncmVsZWFzZWNvdW50cnknLFxuICAgIEdOUkU6ICdnZW5yZScsXG4gICAgSVdSSTogJ3dyaXRlcicsXG4gICAgUkFURTogJ3JhdGluZycsXG4gICAgWUVBUjogJ3llYXInLFxuICAgIElTRlQ6ICdlbmNvZGVkYnknLFxuICAgIENPREU6ICdlbmNvZGVkYnknLFxuICAgIFRVUkw6ICd3ZWJzaXRlJyxcbiAgICBJR05SOiAnZ2VucmUnLFxuICAgIElFTkc6ICdlbmdpbmVlcicsXG4gICAgSVRDSDogJ3RlY2huaWNpYW4nLFxuICAgIElNRUQ6ICdtZWRpYScsXG4gICAgSVJQRDogJ2FsYnVtJyAvLyBQcm9kdWN0LCB3aGVyZSB0aGUgZmlsZSB3YXMgaW50ZW5kZWQgZm9yXG59O1xuY2xhc3MgUmlmZkluZm9UYWdNYXBwZXIgZXh0ZW5kcyBHZW5lcmljVGFnTWFwcGVyXzEuQ29tbW9uVGFnTWFwcGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoWydleGlmJ10sIGV4cG9ydHMucmlmZkluZm9UYWdNYXApO1xuICAgIH1cbn1cbmV4cG9ydHMuUmlmZkluZm9UYWdNYXBwZXIgPSBSaWZmSW5mb1RhZ01hcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJpZmZJbmZvVGFnTWFwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/riff/RiffInfoTagMap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/type.js":
/*!*************************************************!*\
  !*** ./node_modules/music-metadata/lib/type.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TrackType = void 0;\nvar types_1 = __webpack_require__(/*! ./matroska/types */ \"(ssr)/./node_modules/music-metadata/lib/matroska/types.js\");\nObject.defineProperty(exports, \"TrackType\", ({ enumerable: true, get: function () { return types_1.TrackType; } }));\n//# sourceMappingURL=type.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3R5cGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLGNBQWMsbUJBQU8sQ0FBQyxtRkFBa0I7QUFDeEMsNkNBQTRDLEVBQUUscUNBQXFDLDZCQUE2QixFQUFDO0FBQ2pIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3R5cGUuanM/ZTRiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVHJhY2tUeXBlID0gdm9pZCAwO1xudmFyIHR5cGVzXzEgPSByZXF1aXJlKFwiLi9tYXRyb3NrYS90eXBlc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlRyYWNrVHlwZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZXNfMS5UcmFja1R5cGU7IH0gfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/type.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/wav/BwfChunk.js":
/*!*********************************************************!*\
  !*** ./node_modules/music-metadata/lib/wav/BwfChunk.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BroadcastAudioExtensionChunk = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst Util_1 = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/**\n * Broadcast Audio Extension Chunk\n * Ref: https://tech.ebu.ch/docs/tech/tech3285.pdf\n */\nexports.BroadcastAudioExtensionChunk = {\n    len: 420,\n    get: (uint8array, off) => {\n        return {\n            description: (0, Util_1.stripNulls)(new Token.StringType(256, 'ascii').get(uint8array, off)).trim(),\n            originator: (0, Util_1.stripNulls)(new Token.StringType(32, 'ascii').get(uint8array, off + 256)).trim(),\n            originatorReference: (0, Util_1.stripNulls)(new Token.StringType(32, 'ascii').get(uint8array, off + 288)).trim(),\n            originationDate: (0, Util_1.stripNulls)(new Token.StringType(10, 'ascii').get(uint8array, off + 320)).trim(),\n            originationTime: (0, Util_1.stripNulls)(new Token.StringType(8, 'ascii').get(uint8array, off + 330)).trim(),\n            timeReferenceLow: Token.UINT32_LE.get(uint8array, off + 338),\n            timeReferenceHigh: Token.UINT32_LE.get(uint8array, off + 342),\n            version: Token.UINT16_LE.get(uint8array, off + 346),\n            umid: new Token.Uint8ArrayType(64).get(uint8array, off + 348),\n            loudnessValue: Token.UINT16_LE.get(uint8array, off + 412),\n            maxTruePeakLevel: Token.UINT16_LE.get(uint8array, off + 414),\n            maxMomentaryLoudness: Token.UINT16_LE.get(uint8array, off + 416),\n            maxShortTermLoudness: Token.UINT16_LE.get(uint8array, off + 418)\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdi9Cd2ZDaHVuay5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQ0FBb0M7QUFDcEMsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLGVBQWUsbUJBQU8sQ0FBQyw4RUFBZ0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvd2F2L0J3ZkNodW5rLmpzPzQ5MDAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJyb2FkY2FzdEF1ZGlvRXh0ZW5zaW9uQ2h1bmsgPSB2b2lkIDA7XG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoXCJ0b2tlbi10eXBlc1wiKTtcbmNvbnN0IFV0aWxfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vVXRpbFwiKTtcbi8qKlxuICogQnJvYWRjYXN0IEF1ZGlvIEV4dGVuc2lvbiBDaHVua1xuICogUmVmOiBodHRwczovL3RlY2guZWJ1LmNoL2RvY3MvdGVjaC90ZWNoMzI4NS5wZGZcbiAqL1xuZXhwb3J0cy5Ccm9hZGNhc3RBdWRpb0V4dGVuc2lvbkNodW5rID0ge1xuICAgIGxlbjogNDIwLFxuICAgIGdldDogKHVpbnQ4YXJyYXksIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246ICgwLCBVdGlsXzEuc3RyaXBOdWxscykobmV3IFRva2VuLlN0cmluZ1R5cGUoMjU2LCAnYXNjaWknKS5nZXQodWludDhhcnJheSwgb2ZmKSkudHJpbSgpLFxuICAgICAgICAgICAgb3JpZ2luYXRvcjogKDAsIFV0aWxfMS5zdHJpcE51bGxzKShuZXcgVG9rZW4uU3RyaW5nVHlwZSgzMiwgJ2FzY2lpJykuZ2V0KHVpbnQ4YXJyYXksIG9mZiArIDI1NikpLnRyaW0oKSxcbiAgICAgICAgICAgIG9yaWdpbmF0b3JSZWZlcmVuY2U6ICgwLCBVdGlsXzEuc3RyaXBOdWxscykobmV3IFRva2VuLlN0cmluZ1R5cGUoMzIsICdhc2NpaScpLmdldCh1aW50OGFycmF5LCBvZmYgKyAyODgpKS50cmltKCksXG4gICAgICAgICAgICBvcmlnaW5hdGlvbkRhdGU6ICgwLCBVdGlsXzEuc3RyaXBOdWxscykobmV3IFRva2VuLlN0cmluZ1R5cGUoMTAsICdhc2NpaScpLmdldCh1aW50OGFycmF5LCBvZmYgKyAzMjApKS50cmltKCksXG4gICAgICAgICAgICBvcmlnaW5hdGlvblRpbWU6ICgwLCBVdGlsXzEuc3RyaXBOdWxscykobmV3IFRva2VuLlN0cmluZ1R5cGUoOCwgJ2FzY2lpJykuZ2V0KHVpbnQ4YXJyYXksIG9mZiArIDMzMCkpLnRyaW0oKSxcbiAgICAgICAgICAgIHRpbWVSZWZlcmVuY2VMb3c6IFRva2VuLlVJTlQzMl9MRS5nZXQodWludDhhcnJheSwgb2ZmICsgMzM4KSxcbiAgICAgICAgICAgIHRpbWVSZWZlcmVuY2VIaWdoOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KHVpbnQ4YXJyYXksIG9mZiArIDM0MiksXG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KHVpbnQ4YXJyYXksIG9mZiArIDM0NiksXG4gICAgICAgICAgICB1bWlkOiBuZXcgVG9rZW4uVWludDhBcnJheVR5cGUoNjQpLmdldCh1aW50OGFycmF5LCBvZmYgKyAzNDgpLFxuICAgICAgICAgICAgbG91ZG5lc3NWYWx1ZTogVG9rZW4uVUlOVDE2X0xFLmdldCh1aW50OGFycmF5LCBvZmYgKyA0MTIpLFxuICAgICAgICAgICAgbWF4VHJ1ZVBlYWtMZXZlbDogVG9rZW4uVUlOVDE2X0xFLmdldCh1aW50OGFycmF5LCBvZmYgKyA0MTQpLFxuICAgICAgICAgICAgbWF4TW9tZW50YXJ5TG91ZG5lc3M6IFRva2VuLlVJTlQxNl9MRS5nZXQodWludDhhcnJheSwgb2ZmICsgNDE2KSxcbiAgICAgICAgICAgIG1heFNob3J0VGVybUxvdWRuZXNzOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KHVpbnQ4YXJyYXksIG9mZiArIDQxOClcbiAgICAgICAgfTtcbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/wav/BwfChunk.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/wav/WaveChunk.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/wav/WaveChunk.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FactChunk = exports.Format = exports.WaveFormat = void 0;\n/**\n * Ref: https://msdn.microsoft.com/en-us/library/windows/desktop/dd317599(v=vs.85).aspx\n */\nvar WaveFormat;\n(function (WaveFormat) {\n    WaveFormat[WaveFormat[\"PCM\"] = 1] = \"PCM\";\n    // MPEG-4 and AAC Audio Types\n    WaveFormat[WaveFormat[\"ADPCM\"] = 2] = \"ADPCM\";\n    WaveFormat[WaveFormat[\"IEEE_FLOAT\"] = 3] = \"IEEE_FLOAT\";\n    WaveFormat[WaveFormat[\"MPEG_ADTS_AAC\"] = 5632] = \"MPEG_ADTS_AAC\";\n    WaveFormat[WaveFormat[\"MPEG_LOAS\"] = 5634] = \"MPEG_LOAS\";\n    WaveFormat[WaveFormat[\"RAW_AAC1\"] = 255] = \"RAW_AAC1\";\n    // Dolby Audio Types\n    WaveFormat[WaveFormat[\"DOLBY_AC3_SPDIF\"] = 146] = \"DOLBY_AC3_SPDIF\";\n    WaveFormat[WaveFormat[\"DVM\"] = 8192] = \"DVM\";\n    WaveFormat[WaveFormat[\"RAW_SPORT\"] = 576] = \"RAW_SPORT\";\n    WaveFormat[WaveFormat[\"ESST_AC3\"] = 577] = \"ESST_AC3\";\n    WaveFormat[WaveFormat[\"DRM\"] = 9] = \"DRM\";\n    WaveFormat[WaveFormat[\"DTS2\"] = 8193] = \"DTS2\";\n    WaveFormat[WaveFormat[\"MPEG\"] = 80] = \"MPEG\";\n})(WaveFormat = exports.WaveFormat || (exports.WaveFormat = {}));\n/**\n * format chunk; chunk-id is \"fmt \"\n * http://soundfile.sapp.org/doc/WaveFormat/\n */\nclass Format {\n    constructor(header) {\n        if (header.chunkSize < 16)\n            throw new Error('Invalid chunk size');\n        this.len = header.chunkSize;\n    }\n    get(buf, off) {\n        return {\n            wFormatTag: buf.readUInt16LE(off),\n            nChannels: buf.readUInt16LE(off + 2),\n            nSamplesPerSec: buf.readUInt32LE(off + 4),\n            nAvgBytesPerSec: buf.readUInt32LE(off + 8),\n            nBlockAlign: buf.readUInt16LE(off + 12),\n            wBitsPerSample: buf.readUInt16LE(off + 14)\n        };\n    }\n}\nexports.Format = Format;\n/**\n * Fact chunk; chunk-id is \"fact\"\n * http://www-mmsp.ece.mcgill.ca/Documents/AudioFormats/WAVE/WAVE.html\n * http://www.recordingblogs.com/wiki/fact-chunk-of-a-wave-file\n */\nclass FactChunk {\n    constructor(header) {\n        if (header.chunkSize < 4) {\n            throw new Error('Invalid fact chunk size.');\n        }\n        this.len = header.chunkSize;\n    }\n    get(buf, off) {\n        return {\n            dwSampleLength: buf.readUInt32LE(off)\n        };\n    }\n}\nexports.FactChunk = FactChunk;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdi9XYXZlQ2h1bmsuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLEdBQUcsY0FBYyxHQUFHLGtCQUFrQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQ0FBc0Msa0JBQWtCLEtBQUs7QUFDOUQ7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvd2F2L1dhdmVDaHVuay5qcz85Y2I5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5GYWN0Q2h1bmsgPSBleHBvcnRzLkZvcm1hdCA9IGV4cG9ydHMuV2F2ZUZvcm1hdCA9IHZvaWQgMDtcbi8qKlxuICogUmVmOiBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3dpbmRvd3MvZGVza3RvcC9kZDMxNzU5OSh2PXZzLjg1KS5hc3B4XG4gKi9cbnZhciBXYXZlRm9ybWF0O1xuKGZ1bmN0aW9uIChXYXZlRm9ybWF0KSB7XG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiUENNXCJdID0gMV0gPSBcIlBDTVwiO1xuICAgIC8vIE1QRUctNCBhbmQgQUFDIEF1ZGlvIFR5cGVzXG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiQURQQ01cIl0gPSAyXSA9IFwiQURQQ01cIjtcbiAgICBXYXZlRm9ybWF0W1dhdmVGb3JtYXRbXCJJRUVFX0ZMT0FUXCJdID0gM10gPSBcIklFRUVfRkxPQVRcIjtcbiAgICBXYXZlRm9ybWF0W1dhdmVGb3JtYXRbXCJNUEVHX0FEVFNfQUFDXCJdID0gNTYzMl0gPSBcIk1QRUdfQURUU19BQUNcIjtcbiAgICBXYXZlRm9ybWF0W1dhdmVGb3JtYXRbXCJNUEVHX0xPQVNcIl0gPSA1NjM0XSA9IFwiTVBFR19MT0FTXCI7XG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiUkFXX0FBQzFcIl0gPSAyNTVdID0gXCJSQVdfQUFDMVwiO1xuICAgIC8vIERvbGJ5IEF1ZGlvIFR5cGVzXG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiRE9MQllfQUMzX1NQRElGXCJdID0gMTQ2XSA9IFwiRE9MQllfQUMzX1NQRElGXCI7XG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiRFZNXCJdID0gODE5Ml0gPSBcIkRWTVwiO1xuICAgIFdhdmVGb3JtYXRbV2F2ZUZvcm1hdFtcIlJBV19TUE9SVFwiXSA9IDU3Nl0gPSBcIlJBV19TUE9SVFwiO1xuICAgIFdhdmVGb3JtYXRbV2F2ZUZvcm1hdFtcIkVTU1RfQUMzXCJdID0gNTc3XSA9IFwiRVNTVF9BQzNcIjtcbiAgICBXYXZlRm9ybWF0W1dhdmVGb3JtYXRbXCJEUk1cIl0gPSA5XSA9IFwiRFJNXCI7XG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiRFRTMlwiXSA9IDgxOTNdID0gXCJEVFMyXCI7XG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiTVBFR1wiXSA9IDgwXSA9IFwiTVBFR1wiO1xufSkoV2F2ZUZvcm1hdCA9IGV4cG9ydHMuV2F2ZUZvcm1hdCB8fCAoZXhwb3J0cy5XYXZlRm9ybWF0ID0ge30pKTtcbi8qKlxuICogZm9ybWF0IGNodW5rOyBjaHVuay1pZCBpcyBcImZtdCBcIlxuICogaHR0cDovL3NvdW5kZmlsZS5zYXBwLm9yZy9kb2MvV2F2ZUZvcm1hdC9cbiAqL1xuY2xhc3MgRm9ybWF0IHtcbiAgICBjb25zdHJ1Y3RvcihoZWFkZXIpIHtcbiAgICAgICAgaWYgKGhlYWRlci5jaHVua1NpemUgPCAxNilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjaHVuayBzaXplJyk7XG4gICAgICAgIHRoaXMubGVuID0gaGVhZGVyLmNodW5rU2l6ZTtcbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3Rm9ybWF0VGFnOiBidWYucmVhZFVJbnQxNkxFKG9mZiksXG4gICAgICAgICAgICBuQ2hhbm5lbHM6IGJ1Zi5yZWFkVUludDE2TEUob2ZmICsgMiksXG4gICAgICAgICAgICBuU2FtcGxlc1BlclNlYzogYnVmLnJlYWRVSW50MzJMRShvZmYgKyA0KSxcbiAgICAgICAgICAgIG5BdmdCeXRlc1BlclNlYzogYnVmLnJlYWRVSW50MzJMRShvZmYgKyA4KSxcbiAgICAgICAgICAgIG5CbG9ja0FsaWduOiBidWYucmVhZFVJbnQxNkxFKG9mZiArIDEyKSxcbiAgICAgICAgICAgIHdCaXRzUGVyU2FtcGxlOiBidWYucmVhZFVJbnQxNkxFKG9mZiArIDE0KVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuRm9ybWF0ID0gRm9ybWF0O1xuLyoqXG4gKiBGYWN0IGNodW5rOyBjaHVuay1pZCBpcyBcImZhY3RcIlxuICogaHR0cDovL3d3dy1tbXNwLmVjZS5tY2dpbGwuY2EvRG9jdW1lbnRzL0F1ZGlvRm9ybWF0cy9XQVZFL1dBVkUuaHRtbFxuICogaHR0cDovL3d3dy5yZWNvcmRpbmdibG9ncy5jb20vd2lraS9mYWN0LWNodW5rLW9mLWEtd2F2ZS1maWxlXG4gKi9cbmNsYXNzIEZhY3RDaHVuayB7XG4gICAgY29uc3RydWN0b3IoaGVhZGVyKSB7XG4gICAgICAgIGlmIChoZWFkZXIuY2h1bmtTaXplIDwgNCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGZhY3QgY2h1bmsgc2l6ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxlbiA9IGhlYWRlci5jaHVua1NpemU7XG4gICAgfVxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZHdTYW1wbGVMZW5ndGg6IGJ1Zi5yZWFkVUludDMyTEUob2ZmKVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuRmFjdENodW5rID0gRmFjdENodW5rO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/wav/WaveChunk.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/wav/WaveParser.js":
/*!***********************************************************!*\
  !*** ./node_modules/music-metadata/lib/wav/WaveParser.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WaveParser = void 0;\nconst strtok3 = __webpack_require__(/*! strtok3/lib/core */ \"(ssr)/./node_modules/strtok3/lib/core.js\");\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst riff = __webpack_require__(/*! ../riff/RiffChunk */ \"(ssr)/./node_modules/music-metadata/lib/riff/RiffChunk.js\");\nconst WaveChunk = __webpack_require__(/*! ./../wav/WaveChunk */ \"(ssr)/./node_modules/music-metadata/lib/wav/WaveChunk.js\");\nconst ID3v2Parser_1 = __webpack_require__(/*! ../id3v2/ID3v2Parser */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\");\nconst util = __webpack_require__(/*! ../common/Util */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst BwfChunk_1 = __webpack_require__(/*! ../wav/BwfChunk */ \"(ssr)/./node_modules/music-metadata/lib/wav/BwfChunk.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:RIFF');\n/**\n * Resource Interchange File Format (RIFF) Parser\n *\n * WAVE PCM soundfile format\n *\n * Ref:\n * - http://www.johnloomis.org/cpe102/asgn/asgn1/riff.html\n * - http://soundfile.sapp.org/doc/WaveFormat\n *\n * ToDo: Split WAVE part from RIFF parser\n */\nclass WaveParser extends BasicParser_1.BasicParser {\n    async parse() {\n        const riffHeader = await this.tokenizer.readToken(riff.Header);\n        debug(`pos=${this.tokenizer.position}, parse: chunkID=${riffHeader.chunkID}`);\n        if (riffHeader.chunkID !== 'RIFF')\n            return; // Not RIFF format\n        return this.parseRiffChunk(riffHeader.chunkSize).catch(err => {\n            if (!(err instanceof strtok3.EndOfStreamError)) {\n                throw err;\n            }\n        });\n    }\n    async parseRiffChunk(chunkSize) {\n        const type = await this.tokenizer.readToken(FourCC_1.FourCcToken);\n        this.metadata.setFormat('container', type);\n        switch (type) {\n            case 'WAVE':\n                return this.readWaveChunk(chunkSize - FourCC_1.FourCcToken.len);\n            default:\n                throw new Error(`Unsupported RIFF format: RIFF/${type}`);\n        }\n    }\n    async readWaveChunk(remaining) {\n        while (remaining >= riff.Header.len) {\n            const header = await this.tokenizer.readToken(riff.Header);\n            remaining -= riff.Header.len + header.chunkSize;\n            if (header.chunkSize > remaining) {\n                this.metadata.addWarning('Data chunk size exceeds file size');\n            }\n            this.header = header;\n            debug(`pos=${this.tokenizer.position}, readChunk: chunkID=RIFF/WAVE/${header.chunkID}`);\n            switch (header.chunkID) {\n                case 'LIST':\n                    await this.parseListTag(header);\n                    break;\n                case 'fact': // extended Format chunk,\n                    this.metadata.setFormat('lossless', false);\n                    this.fact = await this.tokenizer.readToken(new WaveChunk.FactChunk(header));\n                    break;\n                case 'fmt ': // The Util Chunk, non-PCM Formats\n                    const fmt = await this.tokenizer.readToken(new WaveChunk.Format(header));\n                    let subFormat = WaveChunk.WaveFormat[fmt.wFormatTag];\n                    if (!subFormat) {\n                        debug('WAVE/non-PCM format=' + fmt.wFormatTag);\n                        subFormat = 'non-PCM (' + fmt.wFormatTag + ')';\n                    }\n                    this.metadata.setFormat('codec', subFormat);\n                    this.metadata.setFormat('bitsPerSample', fmt.wBitsPerSample);\n                    this.metadata.setFormat('sampleRate', fmt.nSamplesPerSec);\n                    this.metadata.setFormat('numberOfChannels', fmt.nChannels);\n                    this.metadata.setFormat('bitrate', fmt.nBlockAlign * fmt.nSamplesPerSec * 8);\n                    this.blockAlign = fmt.nBlockAlign;\n                    break;\n                case 'id3 ': // The way Picard, FooBar currently stores, ID3 meta-data\n                case 'ID3 ': // The way Mp3Tags stores ID3 meta-data\n                    const id3_data = await this.tokenizer.readToken(new Token.Uint8ArrayType(header.chunkSize));\n                    const rst = strtok3.fromBuffer(id3_data);\n                    await new ID3v2Parser_1.ID3v2Parser().parse(this.metadata, rst, this.options);\n                    break;\n                case 'data': // PCM-data\n                    if (this.metadata.format.lossless !== false) {\n                        this.metadata.setFormat('lossless', true);\n                    }\n                    let chunkSize = header.chunkSize;\n                    if (this.tokenizer.fileInfo.size) {\n                        const calcRemaining = this.tokenizer.fileInfo.size - this.tokenizer.position;\n                        if (calcRemaining < chunkSize) {\n                            this.metadata.addWarning('data chunk length exceeding file length');\n                            chunkSize = calcRemaining;\n                        }\n                    }\n                    const numberOfSamples = this.fact ? this.fact.dwSampleLength : (chunkSize === 0xffffffff ? undefined : chunkSize / this.blockAlign);\n                    if (numberOfSamples) {\n                        this.metadata.setFormat('numberOfSamples', numberOfSamples);\n                        this.metadata.setFormat('duration', numberOfSamples / this.metadata.format.sampleRate);\n                    }\n                    if (this.metadata.format.codec === 'ADPCM') { // ADPCM is 4 bits lossy encoding resulting in 352kbps\n                        this.metadata.setFormat('bitrate', 352000);\n                    }\n                    else {\n                        this.metadata.setFormat('bitrate', this.blockAlign * this.metadata.format.sampleRate * 8);\n                    }\n                    await this.tokenizer.ignore(header.chunkSize);\n                    break;\n                case 'bext': // Broadcast Audio Extension chunk\thttps://tech.ebu.ch/docs/tech/tech3285.pdf\n                    const bext = await this.tokenizer.readToken(BwfChunk_1.BroadcastAudioExtensionChunk);\n                    Object.keys(bext).forEach(key => {\n                        this.metadata.addTag('exif', 'bext.' + key, bext[key]);\n                    });\n                    const bextRemaining = header.chunkSize - BwfChunk_1.BroadcastAudioExtensionChunk.len;\n                    await this.tokenizer.ignore(bextRemaining);\n                    break;\n                case '\\x00\\x00\\x00\\x00': // padding ??\n                    debug(`Ignore padding chunk: RIFF/${header.chunkID} of ${header.chunkSize} bytes`);\n                    this.metadata.addWarning('Ignore chunk: RIFF/' + header.chunkID);\n                    await this.tokenizer.ignore(header.chunkSize);\n                    break;\n                default:\n                    debug(`Ignore chunk: RIFF/${header.chunkID} of ${header.chunkSize} bytes`);\n                    this.metadata.addWarning('Ignore chunk: RIFF/' + header.chunkID);\n                    await this.tokenizer.ignore(header.chunkSize);\n            }\n            if (this.header.chunkSize % 2 === 1) {\n                debug('Read odd padding byte'); // https://wiki.multimedia.cx/index.php/RIFF\n                await this.tokenizer.ignore(1);\n            }\n        }\n    }\n    async parseListTag(listHeader) {\n        const listType = await this.tokenizer.readToken(new Token.StringType(4, 'binary'));\n        debug('pos=%s, parseListTag: chunkID=RIFF/WAVE/LIST/%s', this.tokenizer.position, listType);\n        switch (listType) {\n            case 'INFO':\n                return this.parseRiffInfoTags(listHeader.chunkSize - 4);\n            case 'adtl':\n            default:\n                this.metadata.addWarning('Ignore chunk: RIFF/WAVE/LIST/' + listType);\n                debug('Ignoring chunkID=RIFF/WAVE/LIST/' + listType);\n                return this.tokenizer.ignore(listHeader.chunkSize - 4).then();\n        }\n    }\n    async parseRiffInfoTags(chunkSize) {\n        while (chunkSize >= 8) {\n            const header = await this.tokenizer.readToken(riff.Header);\n            const valueToken = new riff.ListInfoTagValue(header);\n            const value = await this.tokenizer.readToken(valueToken);\n            this.addTag(header.chunkID, util.stripNulls(value));\n            chunkSize -= (8 + valueToken.len);\n        }\n        if (chunkSize !== 0) {\n            throw Error('Illegal remaining size: ' + chunkSize);\n        }\n    }\n    addTag(id, value) {\n        this.metadata.addTag('exif', id, value);\n    }\n}\nexports.WaveParser = WaveParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdi9XYXZlUGFyc2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQixnQkFBZ0IsbUJBQU8sQ0FBQyxrRUFBa0I7QUFDMUMsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFPO0FBQy9CLGFBQWEsbUJBQU8sQ0FBQyxvRkFBbUI7QUFDeEMsa0JBQWtCLG1CQUFPLENBQUMsb0ZBQW9CO0FBQzlDLHNCQUFzQixtQkFBTyxDQUFDLDBGQUFzQjtBQUNwRCxhQUFhLG1CQUFPLENBQUMsOEVBQWdCO0FBQ3JDLGlCQUFpQixtQkFBTyxDQUFDLGtGQUFrQjtBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQyw0RkFBdUI7QUFDckQsbUJBQW1CLG1CQUFPLENBQUMsZ0ZBQWlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix3QkFBd0IsbUJBQW1CLG1CQUFtQjtBQUNuRjtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLEtBQUs7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsd0JBQXdCLGlDQUFpQyxlQUFlO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGdCQUFnQixLQUFLLGtCQUFrQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxnQkFBZ0IsS0FBSyxrQkFBa0I7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdi9XYXZlUGFyc2VyLmpzPzI5OGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldhdmVQYXJzZXIgPSB2b2lkIDA7XG5jb25zdCBzdHJ0b2szID0gcmVxdWlyZShcInN0cnRvazMvbGliL2NvcmVcIik7XG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoXCJ0b2tlbi10eXBlc1wiKTtcbmNvbnN0IGRlYnVnXzEgPSByZXF1aXJlKFwiZGVidWdcIik7XG5jb25zdCByaWZmID0gcmVxdWlyZShcIi4uL3JpZmYvUmlmZkNodW5rXCIpO1xuY29uc3QgV2F2ZUNodW5rID0gcmVxdWlyZShcIi4vLi4vd2F2L1dhdmVDaHVua1wiKTtcbmNvbnN0IElEM3YyUGFyc2VyXzEgPSByZXF1aXJlKFwiLi4vaWQzdjIvSUQzdjJQYXJzZXJcIik7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcIi4uL2NvbW1vbi9VdGlsXCIpO1xuY29uc3QgRm91ckNDXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL0ZvdXJDQ1wiKTtcbmNvbnN0IEJhc2ljUGFyc2VyXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL0Jhc2ljUGFyc2VyXCIpO1xuY29uc3QgQndmQ2h1bmtfMSA9IHJlcXVpcmUoXCIuLi93YXYvQndmQ2h1bmtcIik7XG5jb25zdCBkZWJ1ZyA9ICgwLCBkZWJ1Z18xLmRlZmF1bHQpKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6UklGRicpO1xuLyoqXG4gKiBSZXNvdXJjZSBJbnRlcmNoYW5nZSBGaWxlIEZvcm1hdCAoUklGRikgUGFyc2VyXG4gKlxuICogV0FWRSBQQ00gc291bmRmaWxlIGZvcm1hdFxuICpcbiAqIFJlZjpcbiAqIC0gaHR0cDovL3d3dy5qb2hubG9vbWlzLm9yZy9jcGUxMDIvYXNnbi9hc2duMS9yaWZmLmh0bWxcbiAqIC0gaHR0cDovL3NvdW5kZmlsZS5zYXBwLm9yZy9kb2MvV2F2ZUZvcm1hdFxuICpcbiAqIFRvRG86IFNwbGl0IFdBVkUgcGFydCBmcm9tIFJJRkYgcGFyc2VyXG4gKi9cbmNsYXNzIFdhdmVQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlcl8xLkJhc2ljUGFyc2VyIHtcbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgY29uc3QgcmlmZkhlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihyaWZmLkhlYWRlcik7XG4gICAgICAgIGRlYnVnKGBwb3M9JHt0aGlzLnRva2VuaXplci5wb3NpdGlvbn0sIHBhcnNlOiBjaHVua0lEPSR7cmlmZkhlYWRlci5jaHVua0lEfWApO1xuICAgICAgICBpZiAocmlmZkhlYWRlci5jaHVua0lEICE9PSAnUklGRicpXG4gICAgICAgICAgICByZXR1cm47IC8vIE5vdCBSSUZGIGZvcm1hdFxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVJpZmZDaHVuayhyaWZmSGVhZGVyLmNodW5rU2l6ZSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIHN0cnRvazMuRW5kT2ZTdHJlYW1FcnJvcikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZVJpZmZDaHVuayhjaHVua1NpemUpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihGb3VyQ0NfMS5Gb3VyQ2NUb2tlbik7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb250YWluZXInLCB0eXBlKTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdXQVZFJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkV2F2ZUNodW5rKGNodW5rU2l6ZSAtIEZvdXJDQ18xLkZvdXJDY1Rva2VuLmxlbik7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgUklGRiBmb3JtYXQ6IFJJRkYvJHt0eXBlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHJlYWRXYXZlQ2h1bmsocmVtYWluaW5nKSB7XG4gICAgICAgIHdoaWxlIChyZW1haW5pbmcgPj0gcmlmZi5IZWFkZXIubGVuKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4ocmlmZi5IZWFkZXIpO1xuICAgICAgICAgICAgcmVtYWluaW5nIC09IHJpZmYuSGVhZGVyLmxlbiArIGhlYWRlci5jaHVua1NpemU7XG4gICAgICAgICAgICBpZiAoaGVhZGVyLmNodW5rU2l6ZSA+IHJlbWFpbmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuYWRkV2FybmluZygnRGF0YSBjaHVuayBzaXplIGV4Y2VlZHMgZmlsZSBzaXplJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhlYWRlciA9IGhlYWRlcjtcbiAgICAgICAgICAgIGRlYnVnKGBwb3M9JHt0aGlzLnRva2VuaXplci5wb3NpdGlvbn0sIHJlYWRDaHVuazogY2h1bmtJRD1SSUZGL1dBVkUvJHtoZWFkZXIuY2h1bmtJRH1gKTtcbiAgICAgICAgICAgIHN3aXRjaCAoaGVhZGVyLmNodW5rSUQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdMSVNUJzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXJzZUxpc3RUYWcoaGVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmFjdCc6IC8vIGV4dGVuZGVkIEZvcm1hdCBjaHVuayxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2xvc3NsZXNzJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY3QgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFdhdmVDaHVuay5GYWN0Q2h1bmsoaGVhZGVyKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZtdCAnOiAvLyBUaGUgVXRpbCBDaHVuaywgbm9uLVBDTSBGb3JtYXRzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZtdCA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgV2F2ZUNodW5rLkZvcm1hdChoZWFkZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1YkZvcm1hdCA9IFdhdmVDaHVuay5XYXZlRm9ybWF0W2ZtdC53Rm9ybWF0VGFnXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCdXQVZFL25vbi1QQ00gZm9ybWF0PScgKyBmbXQud0Zvcm1hdFRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJGb3JtYXQgPSAnbm9uLVBDTSAoJyArIGZtdC53Rm9ybWF0VGFnICsgJyknO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb2RlYycsIHN1YkZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRzUGVyU2FtcGxlJywgZm10LndCaXRzUGVyU2FtcGxlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBmbXQublNhbXBsZXNQZXJTZWMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZDaGFubmVscycsIGZtdC5uQ2hhbm5lbHMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIGZtdC5uQmxvY2tBbGlnbiAqIGZtdC5uU2FtcGxlc1BlclNlYyAqIDgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsb2NrQWxpZ24gPSBmbXQubkJsb2NrQWxpZ247XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2lkMyAnOiAvLyBUaGUgd2F5IFBpY2FyZCwgRm9vQmFyIGN1cnJlbnRseSBzdG9yZXMsIElEMyBtZXRhLWRhdGFcbiAgICAgICAgICAgICAgICBjYXNlICdJRDMgJzogLy8gVGhlIHdheSBNcDNUYWdzIHN0b3JlcyBJRDMgbWV0YS1kYXRhXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkM19kYXRhID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBUb2tlbi5VaW50OEFycmF5VHlwZShoZWFkZXIuY2h1bmtTaXplKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJzdCA9IHN0cnRvazMuZnJvbUJ1ZmZlcihpZDNfZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBJRDN2MlBhcnNlcl8xLklEM3YyUGFyc2VyKCkucGFyc2UodGhpcy5tZXRhZGF0YSwgcnN0LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRhJzogLy8gUENNLWRhdGFcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuZm9ybWF0Lmxvc3NsZXNzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2xvc3NsZXNzJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNodW5rU2l6ZSA9IGhlYWRlci5jaHVua1NpemU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxjUmVtYWluaW5nID0gdGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSAtIHRoaXMudG9rZW5pemVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGNSZW1haW5pbmcgPCBjaHVua1NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoJ2RhdGEgY2h1bmsgbGVuZ3RoIGV4Y2VlZGluZyBmaWxlIGxlbmd0aCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rU2l6ZSA9IGNhbGNSZW1haW5pbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtYmVyT2ZTYW1wbGVzID0gdGhpcy5mYWN0ID8gdGhpcy5mYWN0LmR3U2FtcGxlTGVuZ3RoIDogKGNodW5rU2l6ZSA9PT0gMHhmZmZmZmZmZiA/IHVuZGVmaW5lZCA6IGNodW5rU2l6ZSAvIHRoaXMuYmxvY2tBbGlnbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChudW1iZXJPZlNhbXBsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZlNhbXBsZXMnLCBudW1iZXJPZlNhbXBsZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgbnVtYmVyT2ZTYW1wbGVzIC8gdGhpcy5tZXRhZGF0YS5mb3JtYXQuc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuZm9ybWF0LmNvZGVjID09PSAnQURQQ00nKSB7IC8vIEFEUENNIGlzIDQgYml0cyBsb3NzeSBlbmNvZGluZyByZXN1bHRpbmcgaW4gMzUya2Jwc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCAzNTIwMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCB0aGlzLmJsb2NrQWxpZ24gKiB0aGlzLm1ldGFkYXRhLmZvcm1hdC5zYW1wbGVSYXRlICogOCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKGhlYWRlci5jaHVua1NpemUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdiZXh0JzogLy8gQnJvYWRjYXN0IEF1ZGlvIEV4dGVuc2lvbiBjaHVua1x0aHR0cHM6Ly90ZWNoLmVidS5jaC9kb2NzL3RlY2gvdGVjaDMyODUucGRmXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJleHQgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oQndmQ2h1bmtfMS5Ccm9hZGNhc3RBdWRpb0V4dGVuc2lvbkNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYmV4dCkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRUYWcoJ2V4aWYnLCAnYmV4dC4nICsga2V5LCBiZXh0W2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmV4dFJlbWFpbmluZyA9IGhlYWRlci5jaHVua1NpemUgLSBCd2ZDaHVua18xLkJyb2FkY2FzdEF1ZGlvRXh0ZW5zaW9uQ2h1bmsubGVuO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoYmV4dFJlbWFpbmluZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1xceDAwXFx4MDBcXHgwMFxceDAwJzogLy8gcGFkZGluZyA/P1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgSWdub3JlIHBhZGRpbmcgY2h1bms6IFJJRkYvJHtoZWFkZXIuY2h1bmtJRH0gb2YgJHtoZWFkZXIuY2h1bmtTaXplfSBieXRlc2ApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoJ0lnbm9yZSBjaHVuazogUklGRi8nICsgaGVhZGVyLmNodW5rSUQpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoaGVhZGVyLmNodW5rU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKGBJZ25vcmUgY2h1bms6IFJJRkYvJHtoZWFkZXIuY2h1bmtJRH0gb2YgJHtoZWFkZXIuY2h1bmtTaXplfSBieXRlc2ApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoJ0lnbm9yZSBjaHVuazogUklGRi8nICsgaGVhZGVyLmNodW5rSUQpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoaGVhZGVyLmNodW5rU2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkZXIuY2h1bmtTaXplICUgMiA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdSZWFkIG9kZCBwYWRkaW5nIGJ5dGUnKTsgLy8gaHR0cHM6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwL1JJRkZcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcGFyc2VMaXN0VGFnKGxpc3RIZWFkZXIpIHtcbiAgICAgICAgY29uc3QgbGlzdFR5cGUgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLlN0cmluZ1R5cGUoNCwgJ2JpbmFyeScpKTtcbiAgICAgICAgZGVidWcoJ3Bvcz0lcywgcGFyc2VMaXN0VGFnOiBjaHVua0lEPVJJRkYvV0FWRS9MSVNULyVzJywgdGhpcy50b2tlbml6ZXIucG9zaXRpb24sIGxpc3RUeXBlKTtcbiAgICAgICAgc3dpdGNoIChsaXN0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnSU5GTyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VSaWZmSW5mb1RhZ3MobGlzdEhlYWRlci5jaHVua1NpemUgLSA0KTtcbiAgICAgICAgICAgIGNhc2UgJ2FkdGwnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoJ0lnbm9yZSBjaHVuazogUklGRi9XQVZFL0xJU1QvJyArIGxpc3RUeXBlKTtcbiAgICAgICAgICAgICAgICBkZWJ1ZygnSWdub3JpbmcgY2h1bmtJRD1SSUZGL1dBVkUvTElTVC8nICsgbGlzdFR5cGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuaXplci5pZ25vcmUobGlzdEhlYWRlci5jaHVua1NpemUgLSA0KS50aGVuKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcGFyc2VSaWZmSW5mb1RhZ3MoY2h1bmtTaXplKSB7XG4gICAgICAgIHdoaWxlIChjaHVua1NpemUgPj0gOCkge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKHJpZmYuSGVhZGVyKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlVG9rZW4gPSBuZXcgcmlmZi5MaXN0SW5mb1RhZ1ZhbHVlKGhlYWRlcik7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbih2YWx1ZVRva2VuKTtcbiAgICAgICAgICAgIHRoaXMuYWRkVGFnKGhlYWRlci5jaHVua0lELCB1dGlsLnN0cmlwTnVsbHModmFsdWUpKTtcbiAgICAgICAgICAgIGNodW5rU2l6ZSAtPSAoOCArIHZhbHVlVG9rZW4ubGVuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2h1bmtTaXplICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignSWxsZWdhbCByZW1haW5pbmcgc2l6ZTogJyArIGNodW5rU2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkVGFnKGlkLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFRhZygnZXhpZicsIGlkLCB2YWx1ZSk7XG4gICAgfVxufVxuZXhwb3J0cy5XYXZlUGFyc2VyID0gV2F2ZVBhcnNlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/wav/WaveParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/wavpack/WavPackParser.js":
/*!******************************************************************!*\
  !*** ./node_modules/music-metadata/lib/wavpack/WavPackParser.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WavPackParser = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst APEv2Parser_1 = __webpack_require__(/*! ../apev2/APEv2Parser */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\nconst BasicParser_1 = __webpack_require__(/*! ../common/BasicParser */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\nconst WavPackToken_1 = __webpack_require__(/*! ./WavPackToken */ \"(ssr)/./node_modules/music-metadata/lib/wavpack/WavPackToken.js\");\nconst debug_1 = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\nconst debug = (0, debug_1.default)('music-metadata:parser:WavPack');\n/**\n * WavPack Parser\n */\nclass WavPackParser extends BasicParser_1.BasicParser {\n    async parse() {\n        this.audioDataSize = 0;\n        // First parse all WavPack blocks\n        await this.parseWavPackBlocks();\n        // try to parse APEv2 header\n        return APEv2Parser_1.APEv2Parser.tryParseApeHeader(this.metadata, this.tokenizer, this.options);\n    }\n    async parseWavPackBlocks() {\n        do {\n            const blockId = await this.tokenizer.peekToken(FourCC_1.FourCcToken);\n            if (blockId !== 'wvpk')\n                break;\n            const header = await this.tokenizer.readToken(WavPackToken_1.WavPack.BlockHeaderToken);\n            if (header.BlockID !== 'wvpk')\n                throw new Error('Invalid WavPack Block-ID');\n            debug(`WavPack header blockIndex=${header.blockIndex}, len=${WavPackToken_1.WavPack.BlockHeaderToken.len}`);\n            if (header.blockIndex === 0 && !this.metadata.format.container) {\n                this.metadata.setFormat('container', 'WavPack');\n                this.metadata.setFormat('lossless', !header.flags.isHybrid);\n                // tagTypes: this.type,\n                this.metadata.setFormat('bitsPerSample', header.flags.bitsPerSample);\n                if (!header.flags.isDSD) {\n                    // In case isDSD, these values will ne set in ID_DSD_BLOCK\n                    this.metadata.setFormat('sampleRate', header.flags.samplingRate);\n                    this.metadata.setFormat('duration', header.totalSamples / header.flags.samplingRate);\n                }\n                this.metadata.setFormat('numberOfChannels', header.flags.isMono ? 1 : 2);\n                this.metadata.setFormat('numberOfSamples', header.totalSamples);\n                this.metadata.setFormat('codec', header.flags.isDSD ? 'DSD' : 'PCM');\n            }\n            const ignoreBytes = header.blockSize - (WavPackToken_1.WavPack.BlockHeaderToken.len - 8);\n            await (header.blockIndex === 0 ? this.parseMetadataSubBlock(header, ignoreBytes) : this.tokenizer.ignore(ignoreBytes));\n            if (header.blockSamples > 0) {\n                this.audioDataSize += header.blockSize; // Count audio data for bit-rate calculation\n            }\n        } while (!this.tokenizer.fileInfo.size || this.tokenizer.fileInfo.size - this.tokenizer.position >= WavPackToken_1.WavPack.BlockHeaderToken.len);\n        this.metadata.setFormat('bitrate', this.audioDataSize * 8 / this.metadata.format.duration);\n    }\n    /**\n     * Ref: http://www.wavpack.com/WavPack5FileFormat.pdf, 3.0 Metadata Sub-blocks\n     * @param remainingLength\n     */\n    async parseMetadataSubBlock(header, remainingLength) {\n        while (remainingLength > WavPackToken_1.WavPack.MetadataIdToken.len) {\n            const id = await this.tokenizer.readToken(WavPackToken_1.WavPack.MetadataIdToken);\n            const dataSizeInWords = await this.tokenizer.readNumber(id.largeBlock ? Token.UINT24_LE : Token.UINT8);\n            const data = Buffer.alloc(dataSizeInWords * 2 - (id.isOddSize ? 1 : 0));\n            await this.tokenizer.readBuffer(data);\n            debug(`Metadata Sub-Blocks functionId=0x${id.functionId.toString(16)}, id.largeBlock=${id.largeBlock},data-size=${data.length}`);\n            switch (id.functionId) {\n                case 0x0: // ID_DUMMY: could be used to pad WavPack blocks\n                    break;\n                case 0xe: // ID_DSD_BLOCK\n                    debug('ID_DSD_BLOCK');\n                    // https://github.com/dbry/WavPack/issues/71#issuecomment-483094813\n                    const mp = 1 << data.readUInt8(0);\n                    const samplingRate = header.flags.samplingRate * mp * 8; // ToDo: second factor should be read from DSD-metadata block https://github.com/dbry/WavPack/issues/71#issuecomment-483094813\n                    if (!header.flags.isDSD)\n                        throw new Error('Only expect DSD block if DSD-flag is set');\n                    this.metadata.setFormat('sampleRate', samplingRate);\n                    this.metadata.setFormat('duration', header.totalSamples / samplingRate);\n                    break;\n                case 0x24: // ID_ALT_TRAILER: maybe used to embed original ID3 tag header\n                    debug('ID_ALT_TRAILER: trailer for non-wav files');\n                    break;\n                case 0x26: // ID_MD5_CHECKSUM\n                    this.metadata.setFormat('audioMD5', data);\n                    break;\n                case 0x2f: // ID_BLOCK_CHECKSUM\n                    debug(`ID_BLOCK_CHECKSUM: checksum=${data.toString('hex')}`);\n                    break;\n                default:\n                    debug(`Ignore unsupported meta-sub-block-id functionId=0x${id.functionId.toString(16)}`);\n                    break;\n            }\n            remainingLength -= WavPackToken_1.WavPack.MetadataIdToken.len + (id.largeBlock ? Token.UINT24_LE.len : Token.UINT8.len) + dataSizeInWords * 2;\n            debug(`remainingLength=${remainingLength}`);\n            if (id.isOddSize)\n                this.tokenizer.ignore(1);\n        }\n        if (remainingLength !== 0)\n            throw new Error('metadata-sub-block should fit it remaining length');\n    }\n}\nexports.WavPackParser = WavPackParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdnBhY2svV2F2UGFja1BhcnNlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsY0FBYyxtQkFBTyxDQUFDLGtFQUFhO0FBQ25DLHNCQUFzQixtQkFBTyxDQUFDLDBGQUFzQjtBQUNwRCxpQkFBaUIsbUJBQU8sQ0FBQyxrRkFBa0I7QUFDM0Msc0JBQXNCLG1CQUFPLENBQUMsNEZBQXVCO0FBQ3JELHVCQUF1QixtQkFBTyxDQUFDLHVGQUFnQjtBQUMvQyxnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGtCQUFrQixRQUFRLDRDQUE0QztBQUNySDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCwyQkFBMkIsa0JBQWtCLGNBQWMsYUFBYSxZQUFZO0FBQzFJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxxQkFBcUI7QUFDOUU7QUFDQTtBQUNBLCtFQUErRSwyQkFBMkI7QUFDMUc7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGdCQUFnQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlc2FmaW8xLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi93YXZwYWNrL1dhdlBhY2tQYXJzZXIuanM/YTI5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2F2UGFja1BhcnNlciA9IHZvaWQgMDtcbmNvbnN0IFRva2VuID0gcmVxdWlyZShcInRva2VuLXR5cGVzXCIpO1xuY29uc3QgQVBFdjJQYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi9hcGV2Mi9BUEV2MlBhcnNlclwiKTtcbmNvbnN0IEZvdXJDQ18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9Gb3VyQ0NcIik7XG5jb25zdCBCYXNpY1BhcnNlcl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9CYXNpY1BhcnNlclwiKTtcbmNvbnN0IFdhdlBhY2tUb2tlbl8xID0gcmVxdWlyZShcIi4vV2F2UGFja1Rva2VuXCIpO1xuY29uc3QgZGVidWdfMSA9IHJlcXVpcmUoXCJkZWJ1Z1wiKTtcbmNvbnN0IGRlYnVnID0gKDAsIGRlYnVnXzEuZGVmYXVsdCkoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjpXYXZQYWNrJyk7XG4vKipcbiAqIFdhdlBhY2sgUGFyc2VyXG4gKi9cbmNsYXNzIFdhdlBhY2tQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlcl8xLkJhc2ljUGFyc2VyIHtcbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgdGhpcy5hdWRpb0RhdGFTaXplID0gMDtcbiAgICAgICAgLy8gRmlyc3QgcGFyc2UgYWxsIFdhdlBhY2sgYmxvY2tzXG4gICAgICAgIGF3YWl0IHRoaXMucGFyc2VXYXZQYWNrQmxvY2tzKCk7XG4gICAgICAgIC8vIHRyeSB0byBwYXJzZSBBUEV2MiBoZWFkZXJcbiAgICAgICAgcmV0dXJuIEFQRXYyUGFyc2VyXzEuQVBFdjJQYXJzZXIudHJ5UGFyc2VBcGVIZWFkZXIodGhpcy5tZXRhZGF0YSwgdGhpcy50b2tlbml6ZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlV2F2UGFja0Jsb2NrcygpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29uc3QgYmxvY2tJZCA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnBlZWtUb2tlbihGb3VyQ0NfMS5Gb3VyQ2NUb2tlbik7XG4gICAgICAgICAgICBpZiAoYmxvY2tJZCAhPT0gJ3d2cGsnKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFdhdlBhY2tUb2tlbl8xLldhdlBhY2suQmxvY2tIZWFkZXJUb2tlbik7XG4gICAgICAgICAgICBpZiAoaGVhZGVyLkJsb2NrSUQgIT09ICd3dnBrJylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgV2F2UGFjayBCbG9jay1JRCcpO1xuICAgICAgICAgICAgZGVidWcoYFdhdlBhY2sgaGVhZGVyIGJsb2NrSW5kZXg9JHtoZWFkZXIuYmxvY2tJbmRleH0sIGxlbj0ke1dhdlBhY2tUb2tlbl8xLldhdlBhY2suQmxvY2tIZWFkZXJUb2tlbi5sZW59YCk7XG4gICAgICAgICAgICBpZiAoaGVhZGVyLmJsb2NrSW5kZXggPT09IDAgJiYgIXRoaXMubWV0YWRhdGEuZm9ybWF0LmNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb250YWluZXInLCAnV2F2UGFjaycpO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdsb3NzbGVzcycsICFoZWFkZXIuZmxhZ3MuaXNIeWJyaWQpO1xuICAgICAgICAgICAgICAgIC8vIHRhZ1R5cGVzOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHNQZXJTYW1wbGUnLCBoZWFkZXIuZmxhZ3MuYml0c1BlclNhbXBsZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFoZWFkZXIuZmxhZ3MuaXNEU0QpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gY2FzZSBpc0RTRCwgdGhlc2UgdmFsdWVzIHdpbGwgbmUgc2V0IGluIElEX0RTRF9CTE9DS1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnc2FtcGxlUmF0ZScsIGhlYWRlci5mbGFncy5zYW1wbGluZ1JhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBoZWFkZXIudG90YWxTYW1wbGVzIC8gaGVhZGVyLmZsYWdzLnNhbXBsaW5nUmF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgaGVhZGVyLmZsYWdzLmlzTW9ubyA/IDEgOiAyKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZTYW1wbGVzJywgaGVhZGVyLnRvdGFsU2FtcGxlcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjJywgaGVhZGVyLmZsYWdzLmlzRFNEID8gJ0RTRCcgOiAnUENNJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpZ25vcmVCeXRlcyA9IGhlYWRlci5ibG9ja1NpemUgLSAoV2F2UGFja1Rva2VuXzEuV2F2UGFjay5CbG9ja0hlYWRlclRva2VuLmxlbiAtIDgpO1xuICAgICAgICAgICAgYXdhaXQgKGhlYWRlci5ibG9ja0luZGV4ID09PSAwID8gdGhpcy5wYXJzZU1ldGFkYXRhU3ViQmxvY2soaGVhZGVyLCBpZ25vcmVCeXRlcykgOiB0aGlzLnRva2VuaXplci5pZ25vcmUoaWdub3JlQnl0ZXMpKTtcbiAgICAgICAgICAgIGlmIChoZWFkZXIuYmxvY2tTYW1wbGVzID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9EYXRhU2l6ZSArPSBoZWFkZXIuYmxvY2tTaXplOyAvLyBDb3VudCBhdWRpbyBkYXRhIGZvciBiaXQtcmF0ZSBjYWxjdWxhdGlvblxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICghdGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSB8fCB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIC0gdGhpcy50b2tlbml6ZXIucG9zaXRpb24gPj0gV2F2UGFja1Rva2VuXzEuV2F2UGFjay5CbG9ja0hlYWRlclRva2VuLmxlbik7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgdGhpcy5hdWRpb0RhdGFTaXplICogOCAvIHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVmOiBodHRwOi8vd3d3LndhdnBhY2suY29tL1dhdlBhY2s1RmlsZUZvcm1hdC5wZGYsIDMuMCBNZXRhZGF0YSBTdWItYmxvY2tzXG4gICAgICogQHBhcmFtIHJlbWFpbmluZ0xlbmd0aFxuICAgICAqL1xuICAgIGFzeW5jIHBhcnNlTWV0YWRhdGFTdWJCbG9jayhoZWFkZXIsIHJlbWFpbmluZ0xlbmd0aCkge1xuICAgICAgICB3aGlsZSAocmVtYWluaW5nTGVuZ3RoID4gV2F2UGFja1Rva2VuXzEuV2F2UGFjay5NZXRhZGF0YUlkVG9rZW4ubGVuKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihXYXZQYWNrVG9rZW5fMS5XYXZQYWNrLk1ldGFkYXRhSWRUb2tlbik7XG4gICAgICAgICAgICBjb25zdCBkYXRhU2l6ZUluV29yZHMgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkTnVtYmVyKGlkLmxhcmdlQmxvY2sgPyBUb2tlbi5VSU5UMjRfTEUgOiBUb2tlbi5VSU5UOCk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gQnVmZmVyLmFsbG9jKGRhdGFTaXplSW5Xb3JkcyAqIDIgLSAoaWQuaXNPZGRTaXplID8gMSA6IDApKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRCdWZmZXIoZGF0YSk7XG4gICAgICAgICAgICBkZWJ1ZyhgTWV0YWRhdGEgU3ViLUJsb2NrcyBmdW5jdGlvbklkPTB4JHtpZC5mdW5jdGlvbklkLnRvU3RyaW5nKDE2KX0sIGlkLmxhcmdlQmxvY2s9JHtpZC5sYXJnZUJsb2NrfSxkYXRhLXNpemU9JHtkYXRhLmxlbmd0aH1gKTtcbiAgICAgICAgICAgIHN3aXRjaCAoaWQuZnVuY3Rpb25JZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMHgwOiAvLyBJRF9EVU1NWTogY291bGQgYmUgdXNlZCB0byBwYWQgV2F2UGFjayBibG9ja3NcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAweGU6IC8vIElEX0RTRF9CTE9DS1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnSURfRFNEX0JMT0NLJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kYnJ5L1dhdlBhY2svaXNzdWVzLzcxI2lzc3VlY29tbWVudC00ODMwOTQ4MTNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbXAgPSAxIDw8IGRhdGEucmVhZFVJbnQ4KDApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzYW1wbGluZ1JhdGUgPSBoZWFkZXIuZmxhZ3Muc2FtcGxpbmdSYXRlICogbXAgKiA4OyAvLyBUb0RvOiBzZWNvbmQgZmFjdG9yIHNob3VsZCBiZSByZWFkIGZyb20gRFNELW1ldGFkYXRhIGJsb2NrIGh0dHBzOi8vZ2l0aHViLmNvbS9kYnJ5L1dhdlBhY2svaXNzdWVzLzcxI2lzc3VlY29tbWVudC00ODMwOTQ4MTNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkZXIuZmxhZ3MuaXNEU0QpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgZXhwZWN0IERTRCBibG9jayBpZiBEU0QtZmxhZyBpcyBzZXQnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBzYW1wbGluZ1JhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBoZWFkZXIudG90YWxTYW1wbGVzIC8gc2FtcGxpbmdSYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAweDI0OiAvLyBJRF9BTFRfVFJBSUxFUjogbWF5YmUgdXNlZCB0byBlbWJlZCBvcmlnaW5hbCBJRDMgdGFnIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnSURfQUxUX1RSQUlMRVI6IHRyYWlsZXIgZm9yIG5vbi13YXYgZmlsZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAweDI2OiAvLyBJRF9NRDVfQ0hFQ0tTVU1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2F1ZGlvTUQ1JywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMHgyZjogLy8gSURfQkxPQ0tfQ0hFQ0tTVU1cbiAgICAgICAgICAgICAgICAgICAgZGVidWcoYElEX0JMT0NLX0NIRUNLU1VNOiBjaGVja3N1bT0ke2RhdGEudG9TdHJpbmcoJ2hleCcpfWApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgSWdub3JlIHVuc3VwcG9ydGVkIG1ldGEtc3ViLWJsb2NrLWlkIGZ1bmN0aW9uSWQ9MHgke2lkLmZ1bmN0aW9uSWQudG9TdHJpbmcoMTYpfWApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbWFpbmluZ0xlbmd0aCAtPSBXYXZQYWNrVG9rZW5fMS5XYXZQYWNrLk1ldGFkYXRhSWRUb2tlbi5sZW4gKyAoaWQubGFyZ2VCbG9jayA/IFRva2VuLlVJTlQyNF9MRS5sZW4gOiBUb2tlbi5VSU5UOC5sZW4pICsgZGF0YVNpemVJbldvcmRzICogMjtcbiAgICAgICAgICAgIGRlYnVnKGByZW1haW5pbmdMZW5ndGg9JHtyZW1haW5pbmdMZW5ndGh9YCk7XG4gICAgICAgICAgICBpZiAoaWQuaXNPZGRTaXplKVxuICAgICAgICAgICAgICAgIHRoaXMudG9rZW5pemVyLmlnbm9yZSgxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtYWluaW5nTGVuZ3RoICE9PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtZXRhZGF0YS1zdWItYmxvY2sgc2hvdWxkIGZpdCBpdCByZW1haW5pbmcgbGVuZ3RoJyk7XG4gICAgfVxufVxuZXhwb3J0cy5XYXZQYWNrUGFyc2VyID0gV2F2UGFja1BhcnNlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/wavpack/WavPackParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/wavpack/WavPackToken.js":
/*!*****************************************************************!*\
  !*** ./node_modules/music-metadata/lib/wavpack/WavPackToken.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WavPack = void 0;\nconst Token = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\nconst FourCC_1 = __webpack_require__(/*! ../common/FourCC */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\nconst SampleRates = [6000, 8000, 9600, 11025, 12000, 16000, 22050, 24000, 32000, 44100,\n    48000, 64000, 88200, 96000, 192000, -1];\nclass WavPack {\n    static isBitSet(flags, bitOffset) {\n        return WavPack.getBitAllignedNumber(flags, bitOffset, 1) === 1;\n    }\n    static getBitAllignedNumber(flags, bitOffset, len) {\n        return (flags >>> bitOffset) & (0xffffffff >>> (32 - len));\n    }\n}\n/**\n * WavPack Block Header\n *\n * 32-byte little-endian header at the front of every WavPack block\n *\n * Ref: http://www.wavpack.com/WavPack5FileFormat.pdf (page 2/6: 2.0 \"Block Header\")\n */\nWavPack.BlockHeaderToken = {\n    len: 32,\n    get: (buf, off) => {\n        const flags = Token.UINT32_LE.get(buf, off + 24);\n        const res = {\n            // should equal 'wvpk'\n            BlockID: FourCC_1.FourCcToken.get(buf, off),\n            //  0x402 to 0x410 are valid for decode\n            blockSize: Token.UINT32_LE.get(buf, off + 4),\n            //  0x402 (1026) to 0x410 are valid for decode\n            version: Token.UINT16_LE.get(buf, off + 8),\n            //  40-bit total samples for entire file (if block_index == 0 and a value of -1 indicates an unknown length)\n            totalSamples: /* replace with bigint? (Token.UINT8.get(buf, off + 11) << 32) + */ Token.UINT32_LE.get(buf, off + 12),\n            // 40-bit block_index\n            blockIndex: /* replace with bigint? (Token.UINT8.get(buf, off + 10) << 32) + */ Token.UINT32_LE.get(buf, off + 16),\n            // 40-bit total samples for entire file (if block_index == 0 and a value of -1 indicates an unknown length)\n            blockSamples: Token.UINT32_LE.get(buf, off + 20),\n            // various flags for id and decoding\n            flags: {\n                bitsPerSample: (1 + WavPack.getBitAllignedNumber(flags, 0, 2)) * 8,\n                isMono: WavPack.isBitSet(flags, 2),\n                isHybrid: WavPack.isBitSet(flags, 3),\n                isJointStereo: WavPack.isBitSet(flags, 4),\n                crossChannel: WavPack.isBitSet(flags, 5),\n                hybridNoiseShaping: WavPack.isBitSet(flags, 6),\n                floatingPoint: WavPack.isBitSet(flags, 7),\n                samplingRate: SampleRates[WavPack.getBitAllignedNumber(flags, 23, 4)],\n                isDSD: WavPack.isBitSet(flags, 31)\n            },\n            // crc for actual decoded data\n            crc: new Token.Uint8ArrayType(4).get(buf, off + 28)\n        };\n        if (res.flags.isDSD) {\n            res.totalSamples *= 8;\n        }\n        return res;\n    }\n};\n/**\n * 3.0 Metadata Sub-Blocks\n * Ref: http://www.wavpack.com/WavPack5FileFormat.pdf (page 4/6: 3.0 \"Metadata Sub-Block\")\n */\nWavPack.MetadataIdToken = {\n    len: 1,\n    get: (buf, off) => {\n        return {\n            functionId: WavPack.getBitAllignedNumber(buf[off], 0, 6),\n            isOptional: WavPack.isBitSet(buf[off], 5),\n            isOddSize: WavPack.isBitSet(buf[off], 6),\n            largeBlock: WavPack.isBitSet(buf[off], 7)\n        };\n    }\n};\nexports.WavPack = WavPack;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdnBhY2svV2F2UGFja1Rva2VuLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGVBQWU7QUFDZixjQUFjLG1CQUFPLENBQUMsa0VBQWE7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMsa0ZBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzYWZpbzEvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdnBhY2svV2F2UGFja1Rva2VuLmpzPzU3MWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLldhdlBhY2sgPSB2b2lkIDA7XG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoXCJ0b2tlbi10eXBlc1wiKTtcbmNvbnN0IEZvdXJDQ18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9Gb3VyQ0NcIik7XG5jb25zdCBTYW1wbGVSYXRlcyA9IFs2MDAwLCA4MDAwLCA5NjAwLCAxMTAyNSwgMTIwMDAsIDE2MDAwLCAyMjA1MCwgMjQwMDAsIDMyMDAwLCA0NDEwMCxcbiAgICA0ODAwMCwgNjQwMDAsIDg4MjAwLCA5NjAwMCwgMTkyMDAwLCAtMV07XG5jbGFzcyBXYXZQYWNrIHtcbiAgICBzdGF0aWMgaXNCaXRTZXQoZmxhZ3MsIGJpdE9mZnNldCkge1xuICAgICAgICByZXR1cm4gV2F2UGFjay5nZXRCaXRBbGxpZ25lZE51bWJlcihmbGFncywgYml0T2Zmc2V0LCAxKSA9PT0gMTtcbiAgICB9XG4gICAgc3RhdGljIGdldEJpdEFsbGlnbmVkTnVtYmVyKGZsYWdzLCBiaXRPZmZzZXQsIGxlbikge1xuICAgICAgICByZXR1cm4gKGZsYWdzID4+PiBiaXRPZmZzZXQpICYgKDB4ZmZmZmZmZmYgPj4+ICgzMiAtIGxlbikpO1xuICAgIH1cbn1cbi8qKlxuICogV2F2UGFjayBCbG9jayBIZWFkZXJcbiAqXG4gKiAzMi1ieXRlIGxpdHRsZS1lbmRpYW4gaGVhZGVyIGF0IHRoZSBmcm9udCBvZiBldmVyeSBXYXZQYWNrIGJsb2NrXG4gKlxuICogUmVmOiBodHRwOi8vd3d3LndhdnBhY2suY29tL1dhdlBhY2s1RmlsZUZvcm1hdC5wZGYgKHBhZ2UgMi82OiAyLjAgXCJCbG9jayBIZWFkZXJcIilcbiAqL1xuV2F2UGFjay5CbG9ja0hlYWRlclRva2VuID0ge1xuICAgIGxlbjogMzIsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgY29uc3QgZmxhZ3MgPSBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMjQpO1xuICAgICAgICBjb25zdCByZXMgPSB7XG4gICAgICAgICAgICAvLyBzaG91bGQgZXF1YWwgJ3d2cGsnXG4gICAgICAgICAgICBCbG9ja0lEOiBGb3VyQ0NfMS5Gb3VyQ2NUb2tlbi5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgLy8gIDB4NDAyIHRvIDB4NDEwIGFyZSB2YWxpZCBmb3IgZGVjb2RlXG4gICAgICAgICAgICBibG9ja1NpemU6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA0KSxcbiAgICAgICAgICAgIC8vICAweDQwMiAoMTAyNikgdG8gMHg0MTAgYXJlIHZhbGlkIGZvciBkZWNvZGVcbiAgICAgICAgICAgIHZlcnNpb246IFRva2VuLlVJTlQxNl9MRS5nZXQoYnVmLCBvZmYgKyA4KSxcbiAgICAgICAgICAgIC8vICA0MC1iaXQgdG90YWwgc2FtcGxlcyBmb3IgZW50aXJlIGZpbGUgKGlmIGJsb2NrX2luZGV4ID09IDAgYW5kIGEgdmFsdWUgb2YgLTEgaW5kaWNhdGVzIGFuIHVua25vd24gbGVuZ3RoKVxuICAgICAgICAgICAgdG90YWxTYW1wbGVzOiAvKiByZXBsYWNlIHdpdGggYmlnaW50PyAoVG9rZW4uVUlOVDguZ2V0KGJ1Ziwgb2ZmICsgMTEpIDw8IDMyKSArICovIFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAxMiksXG4gICAgICAgICAgICAvLyA0MC1iaXQgYmxvY2tfaW5kZXhcbiAgICAgICAgICAgIGJsb2NrSW5kZXg6IC8qIHJlcGxhY2Ugd2l0aCBiaWdpbnQ/IChUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYgKyAxMCkgPDwgMzIpICsgKi8gVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDE2KSxcbiAgICAgICAgICAgIC8vIDQwLWJpdCB0b3RhbCBzYW1wbGVzIGZvciBlbnRpcmUgZmlsZSAoaWYgYmxvY2tfaW5kZXggPT0gMCBhbmQgYSB2YWx1ZSBvZiAtMSBpbmRpY2F0ZXMgYW4gdW5rbm93biBsZW5ndGgpXG4gICAgICAgICAgICBibG9ja1NhbXBsZXM6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAyMCksXG4gICAgICAgICAgICAvLyB2YXJpb3VzIGZsYWdzIGZvciBpZCBhbmQgZGVjb2RpbmdcbiAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgYml0c1BlclNhbXBsZTogKDEgKyBXYXZQYWNrLmdldEJpdEFsbGlnbmVkTnVtYmVyKGZsYWdzLCAwLCAyKSkgKiA4LFxuICAgICAgICAgICAgICAgIGlzTW9ubzogV2F2UGFjay5pc0JpdFNldChmbGFncywgMiksXG4gICAgICAgICAgICAgICAgaXNIeWJyaWQ6IFdhdlBhY2suaXNCaXRTZXQoZmxhZ3MsIDMpLFxuICAgICAgICAgICAgICAgIGlzSm9pbnRTdGVyZW86IFdhdlBhY2suaXNCaXRTZXQoZmxhZ3MsIDQpLFxuICAgICAgICAgICAgICAgIGNyb3NzQ2hhbm5lbDogV2F2UGFjay5pc0JpdFNldChmbGFncywgNSksXG4gICAgICAgICAgICAgICAgaHlicmlkTm9pc2VTaGFwaW5nOiBXYXZQYWNrLmlzQml0U2V0KGZsYWdzLCA2KSxcbiAgICAgICAgICAgICAgICBmbG9hdGluZ1BvaW50OiBXYXZQYWNrLmlzQml0U2V0KGZsYWdzLCA3KSxcbiAgICAgICAgICAgICAgICBzYW1wbGluZ1JhdGU6IFNhbXBsZVJhdGVzW1dhdlBhY2suZ2V0Qml0QWxsaWduZWROdW1iZXIoZmxhZ3MsIDIzLCA0KV0sXG4gICAgICAgICAgICAgICAgaXNEU0Q6IFdhdlBhY2suaXNCaXRTZXQoZmxhZ3MsIDMxKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGNyYyBmb3IgYWN0dWFsIGRlY29kZWQgZGF0YVxuICAgICAgICAgICAgY3JjOiBuZXcgVG9rZW4uVWludDhBcnJheVR5cGUoNCkuZ2V0KGJ1Ziwgb2ZmICsgMjgpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChyZXMuZmxhZ3MuaXNEU0QpIHtcbiAgICAgICAgICAgIHJlcy50b3RhbFNhbXBsZXMgKj0gODtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbn07XG4vKipcbiAqIDMuMCBNZXRhZGF0YSBTdWItQmxvY2tzXG4gKiBSZWY6IGh0dHA6Ly93d3cud2F2cGFjay5jb20vV2F2UGFjazVGaWxlRm9ybWF0LnBkZiAocGFnZSA0LzY6IDMuMCBcIk1ldGFkYXRhIFN1Yi1CbG9ja1wiKVxuICovXG5XYXZQYWNrLk1ldGFkYXRhSWRUb2tlbiA9IHtcbiAgICBsZW46IDEsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uSWQ6IFdhdlBhY2suZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmW29mZl0sIDAsIDYpLFxuICAgICAgICAgICAgaXNPcHRpb25hbDogV2F2UGFjay5pc0JpdFNldChidWZbb2ZmXSwgNSksXG4gICAgICAgICAgICBpc09kZFNpemU6IFdhdlBhY2suaXNCaXRTZXQoYnVmW29mZl0sIDYpLFxuICAgICAgICAgICAgbGFyZ2VCbG9jazogV2F2UGFjay5pc0JpdFNldChidWZbb2ZmXSwgNylcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZXhwb3J0cy5XYXZQYWNrID0gV2F2UGFjaztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/wavpack/WavPackToken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/node_modules/media-typer/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/music-metadata/node_modules/media-typer/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("/*!\n * media-typer\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n\n\n/**\n * RegExp to match type in RFC 6838\n *\n * type-name = restricted-name\n * subtype-name = restricted-name\n * restricted-name = restricted-name-first *126restricted-name-chars\n * restricted-name-first  = ALPHA / DIGIT\n * restricted-name-chars  = ALPHA / DIGIT / \"!\" / \"#\" /\n *                          \"$\" / \"&\" / \"-\" / \"^\" / \"_\"\n * restricted-name-chars =/ \".\" ; Characters before first dot always\n *                              ; specify a facet name\n * restricted-name-chars =/ \"+\" ; Characters after last plus always\n *                              ; specify a structured syntax suffix\n * ALPHA =  %x41-5A / %x61-7A   ; A-Z / a-z\n * DIGIT =  %x30-39             ; 0-9\n */\nvar SUBTYPE_NAME_REGEXP = /^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/\nvar TYPE_NAME_REGEXP = /^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/\nvar TYPE_REGEXP = /^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/\n\n/**\n * Module exports.\n */\n\nexports.format = format\nexports.parse = parse\nexports.test = test\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format (obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var subtype = obj.subtype\n  var suffix = obj.suffix\n  var type = obj.type\n\n  if (!type || !TYPE_NAME_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  if (!subtype || !SUBTYPE_NAME_REGEXP.test(subtype)) {\n    throw new TypeError('invalid subtype')\n  }\n\n  // format as type/subtype\n  var string = type + '/' + subtype\n\n  // append +suffix\n  if (suffix) {\n    if (!TYPE_NAME_REGEXP.test(suffix)) {\n      throw new TypeError('invalid suffix')\n    }\n\n    string += '+' + suffix\n  }\n\n  return string\n}\n\n/**\n * Test media type.\n *\n * @param {string} string\n * @return {object}\n * @public\n */\n\nfunction test (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  if (typeof string !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  return TYPE_REGEXP.test(string.toLowerCase())\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string} string\n * @return {object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  if (typeof string !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var match = TYPE_REGEXP.exec(string.toLowerCase())\n\n  if (!match) {\n    throw new TypeError('invalid media type')\n  }\n\n  var type = match[1]\n  var subtype = match[2]\n  var suffix\n\n  // suffix after last +\n  var index = subtype.lastIndexOf('+')\n  if (index !== -1) {\n    suffix = subtype.substr(index + 1)\n    subtype = subtype.substr(0, index)\n  }\n\n  return new MediaType(type, subtype, suffix)\n}\n\n/**\n * Class for MediaType object.\n * @public\n */\n\nfunction MediaType (type, subtype, suffix) {\n  this.type = type\n  this.subtype = subtype\n  this.suffix = suffix\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbm9kZV9tb2R1bGVzL21lZGlhLXR5cGVyL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLGtDQUFrQztBQUNsQyxrQ0FBa0M7QUFDbEMsa0NBQWtDO0FBQ2xDLGtDQUFrQztBQUNsQyxrQ0FBa0M7QUFDbEM7QUFDQSwyREFBMkQsTUFBTTtBQUNqRSx1REFBdUQsTUFBTTtBQUM3RCxxREFBcUQsTUFBTSxvQ0FBb0MsTUFBTTs7QUFFckc7QUFDQTtBQUNBOztBQUVBLGNBQWM7QUFDZCxhQUFhO0FBQ2IsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXNhZmlvMS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9ub2RlX21vZHVsZXMvbWVkaWEtdHlwZXIvaW5kZXguanM/YzE5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIG1lZGlhLXR5cGVyXG4gKiBDb3B5cmlnaHQoYykgMjAxNC0yMDE3IERvdWdsYXMgQ2hyaXN0b3BoZXIgV2lsc29uXG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4ndXNlIHN0cmljdCdcblxuLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggdHlwZSBpbiBSRkMgNjgzOFxuICpcbiAqIHR5cGUtbmFtZSA9IHJlc3RyaWN0ZWQtbmFtZVxuICogc3VidHlwZS1uYW1lID0gcmVzdHJpY3RlZC1uYW1lXG4gKiByZXN0cmljdGVkLW5hbWUgPSByZXN0cmljdGVkLW5hbWUtZmlyc3QgKjEyNnJlc3RyaWN0ZWQtbmFtZS1jaGFyc1xuICogcmVzdHJpY3RlZC1uYW1lLWZpcnN0ICA9IEFMUEhBIC8gRElHSVRcbiAqIHJlc3RyaWN0ZWQtbmFtZS1jaGFycyAgPSBBTFBIQSAvIERJR0lUIC8gXCIhXCIgLyBcIiNcIiAvXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgXCIkXCIgLyBcIiZcIiAvIFwiLVwiIC8gXCJeXCIgLyBcIl9cIlxuICogcmVzdHJpY3RlZC1uYW1lLWNoYXJzID0vIFwiLlwiIDsgQ2hhcmFjdGVycyBiZWZvcmUgZmlyc3QgZG90IGFsd2F5c1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7IHNwZWNpZnkgYSBmYWNldCBuYW1lXG4gKiByZXN0cmljdGVkLW5hbWUtY2hhcnMgPS8gXCIrXCIgOyBDaGFyYWN0ZXJzIGFmdGVyIGxhc3QgcGx1cyBhbHdheXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOyBzcGVjaWZ5IGEgc3RydWN0dXJlZCBzeW50YXggc3VmZml4XG4gKiBBTFBIQSA9ICAleDQxLTVBIC8gJXg2MS03QSAgIDsgQS1aIC8gYS16XG4gKiBESUdJVCA9ICAleDMwLTM5ICAgICAgICAgICAgIDsgMC05XG4gKi9cbnZhciBTVUJUWVBFX05BTUVfUkVHRVhQID0gL15bQS1aYS16MC05XVtBLVphLXowLTkhIyQmXl8uLV17MCwxMjZ9JC9cbnZhciBUWVBFX05BTUVfUkVHRVhQID0gL15bQS1aYS16MC05XVtBLVphLXowLTkhIyQmXl8tXXswLDEyNn0kL1xudmFyIFRZUEVfUkVHRVhQID0gL14gKihbQS1aYS16MC05XVtBLVphLXowLTkhIyQmXl8tXXswLDEyNn0pXFwvKFtBLVphLXowLTldW0EtWmEtejAtOSEjJCZeXy4rLV17MCwxMjZ9KSAqJC9cblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdCA9IGZvcm1hdFxuZXhwb3J0cy5wYXJzZSA9IHBhcnNlXG5leHBvcnRzLnRlc3QgPSB0ZXN0XG5cbi8qKlxuICogRm9ybWF0IG9iamVjdCB0byBtZWRpYSB0eXBlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqIEBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXQgKG9iaikge1xuICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IG9iaiBpcyByZXF1aXJlZCcpXG4gIH1cblxuICB2YXIgc3VidHlwZSA9IG9iai5zdWJ0eXBlXG4gIHZhciBzdWZmaXggPSBvYmouc3VmZml4XG4gIHZhciB0eXBlID0gb2JqLnR5cGVcblxuICBpZiAoIXR5cGUgfHwgIVRZUEVfTkFNRV9SRUdFWFAudGVzdCh0eXBlKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgdHlwZScpXG4gIH1cblxuICBpZiAoIXN1YnR5cGUgfHwgIVNVQlRZUEVfTkFNRV9SRUdFWFAudGVzdChzdWJ0eXBlKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgc3VidHlwZScpXG4gIH1cblxuICAvLyBmb3JtYXQgYXMgdHlwZS9zdWJ0eXBlXG4gIHZhciBzdHJpbmcgPSB0eXBlICsgJy8nICsgc3VidHlwZVxuXG4gIC8vIGFwcGVuZCArc3VmZml4XG4gIGlmIChzdWZmaXgpIHtcbiAgICBpZiAoIVRZUEVfTkFNRV9SRUdFWFAudGVzdChzdWZmaXgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHN1ZmZpeCcpXG4gICAgfVxuXG4gICAgc3RyaW5nICs9ICcrJyArIHN1ZmZpeFxuICB9XG5cbiAgcmV0dXJuIHN0cmluZ1xufVxuXG4vKipcbiAqIFRlc3QgbWVkaWEgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKiBAcHVibGljXG4gKi9cblxuZnVuY3Rpb24gdGVzdCAoc3RyaW5nKSB7XG4gIGlmICghc3RyaW5nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgc3RyaW5nIGlzIHJlcXVpcmVkJylcbiAgfVxuXG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IHN0cmluZyBpcyByZXF1aXJlZCB0byBiZSBhIHN0cmluZycpXG4gIH1cblxuICByZXR1cm4gVFlQRV9SRUdFWFAudGVzdChzdHJpbmcudG9Mb3dlckNhc2UoKSlcbn1cblxuLyoqXG4gKiBQYXJzZSBtZWRpYSB0eXBlIHRvIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKiBAcHVibGljXG4gKi9cblxuZnVuY3Rpb24gcGFyc2UgKHN0cmluZykge1xuICBpZiAoIXN0cmluZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IHN0cmluZyBpcyByZXF1aXJlZCcpXG4gIH1cblxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBzdHJpbmcgaXMgcmVxdWlyZWQgdG8gYmUgYSBzdHJpbmcnKVxuICB9XG5cbiAgdmFyIG1hdGNoID0gVFlQRV9SRUdFWFAuZXhlYyhzdHJpbmcudG9Mb3dlckNhc2UoKSlcblxuICBpZiAoIW1hdGNoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBtZWRpYSB0eXBlJylcbiAgfVxuXG4gIHZhciB0eXBlID0gbWF0Y2hbMV1cbiAgdmFyIHN1YnR5cGUgPSBtYXRjaFsyXVxuICB2YXIgc3VmZml4XG5cbiAgLy8gc3VmZml4IGFmdGVyIGxhc3QgK1xuICB2YXIgaW5kZXggPSBzdWJ0eXBlLmxhc3RJbmRleE9mKCcrJylcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHN1ZmZpeCA9IHN1YnR5cGUuc3Vic3RyKGluZGV4ICsgMSlcbiAgICBzdWJ0eXBlID0gc3VidHlwZS5zdWJzdHIoMCwgaW5kZXgpXG4gIH1cblxuICByZXR1cm4gbmV3IE1lZGlhVHlwZSh0eXBlLCBzdWJ0eXBlLCBzdWZmaXgpXG59XG5cbi8qKlxuICogQ2xhc3MgZm9yIE1lZGlhVHlwZSBvYmplY3QuXG4gKiBAcHVibGljXG4gKi9cblxuZnVuY3Rpb24gTWVkaWFUeXBlICh0eXBlLCBzdWJ0eXBlLCBzdWZmaXgpIHtcbiAgdGhpcy50eXBlID0gdHlwZVxuICB0aGlzLnN1YnR5cGUgPSBzdWJ0eXBlXG4gIHRoaXMuc3VmZml4ID0gc3VmZml4XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/node_modules/media-typer/index.js\n");

/***/ })

};
;